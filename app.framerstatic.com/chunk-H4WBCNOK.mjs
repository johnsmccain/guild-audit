import{a as C}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{a as A}from"https://app.framerstatic.com/chunk-JFRKIM2Y.mjs";import{a as q}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{a as F,c as B,e as T}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var k=B((E,x)=>{"use strict";(function(m,i){if(typeof E=="object"&&typeof x=="object")x.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var s=i();for(var n in s)(typeof E=="object"?E:m)[n]=s[n]}})(window,function(){return function(m){var i={};function s(n){if(i[n])return i[n].exports;var l=i[n]={i:n,l:!1,exports:{}};return m[n].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=m,s.c=i,s.d=function(n,l,u){s.o(n,l)||Object.defineProperty(n,l,{enumerable:!0,get:u})},s.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,l){if(1&l&&(n=s(n)),8&l||4&l&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&l&&typeof n!="string")for(var d in n)s.d(u,d,function(r){return n[r]}.bind(null,d));return u},s.n=function(n){var l=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(l,"a",l),l},s.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)},s.p="",s(s.s=0)}([function(m,i,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(u,d,r,e){e===void 0&&(e=r);var a=Object.getOwnPropertyDescriptor(d,r);a&&("get"in a?d.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return d[r]}}),Object.defineProperty(u,e,a)}:function(u,d,r,e){e===void 0&&(e=r),u[e]=d[r]}),l=this&&this.__exportStar||function(u,d){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(d,r)||n(d,u,r)};Object.defineProperty(i,"__esModule",{value:!0}),l(s(1),i),l(s(2),i)},function(m,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},function(m,i,s){"use strict";var n=this&&this.__awaiter||function(r,e,a,f){return new(a||(a=Promise))(function(p,t){function o(g){try{b(f.next(g))}catch(v){t(v)}}function c(g){try{b(f.throw(g))}catch(v){t(v)}}function b(g){var v;g.done?p(g.value):(v=g.value,v instanceof a?v:new a(function(y){y(v)})).then(o,c)}b((f=f.apply(r,e||[])).next())})},l=this&&this.__rest||function(r,e){var a={};for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&e.indexOf(f)<0&&(a[f]=r[f]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(f=Object.getOwnPropertySymbols(r);p<f.length;p++)e.indexOf(f[p])<0&&Object.prototype.propertyIsEnumerable.call(r,f[p])&&(a[f[p]]=r[f[p]])}return a};Object.defineProperty(i,"__esModule",{value:!0}),i.FramerTracking=void 0;let u=s(3);function d(){let r=()=>Math.floor(65536*(1+Math.random())).toString(16).slice(-4);return`${r()}${r()}-${r()}-${r()}-${r()}-${r()}${r()}${r()}`}i.FramerTracking=class{constructor(e){this.sourceName=e.sourceName,this.userId=e.userId,this.verbose=e.verbose||!1,this.addContext=e.addContext,this.poster=(0,u.createPoster)({endpointURL:e.trackingURL,postBatch:e.postBatch,storeId:e.storeId,processItem:a=>a.data.context.userId?a:this.userId?(a.data.context.userId=this.userId,a):null})}flush(){return n(this,void 0,void 0,function*(){yield this.poster.flush()})}group(e){this.post(Object.assign(Object.assign({},e),{type:"group"}))}identify(e){this.post(Object.assign(Object.assign({},e),{type:"identify"}))}track(e){if(this.verbose){let{event:a,type:f}=e,p=l(e,["event","type"]);this.logEvent(a,p)}this.post(Object.assign(Object.assign({},e),{type:"track"}))}setUserId(e){this.userId&&this.userId!==e&&console.warn("Changing user id from %s to %s",this.userId,e),this.userId=e,this.poster.reprocessItems()}logEvent(e,a){let f=`%c${e}`,p=["background: blue; border-radius: 3px; color: white; padding: 0 5px;"];a&&Object.keys(a).length>0&&(f+=`
%c${JSON.stringify(a,null,2)}`,p.push("font-family: monospace; opacity: 0.7;")),console.log(f,...p)}post(e){if(!this.userId){let p=e.type==="identify"?e.userId:e.context&&e.context.userId;p&&this.setUserId(p)}let a=Object.assign({},e.context);typeof window<"u"&&(a.language||(a.language=window.navigator.language),a.screen||(a.screen={width:window.screen.width,height:window.screen.height})),this.addContext&&this.addContext(a);let f={data:Object.assign(Object.assign({},e),{context:a,uuid:e.uuid||d()}),source:this.sourceName,timestamp:Date.now()};this.poster.post(f)}}},function(m,i,s){"use strict";var n=this&&this.__awaiter||function(p,t,o,c){return new(o||(o=Promise))(function(b,g){function v(h){try{w(c.next(h))}catch(_){g(_)}}function y(h){try{w(c.throw(h))}catch(_){g(_)}}function w(h){var _;h.done?b(h.value):(_=h.value,_ instanceof o?_:new o(function(D){D(_)})).then(v,y)}w((c=c.apply(p,t||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.createPoster=function(p){return new f(p)};let l=s(4),u=1e3,d=1e4,r=100,e=4,a=1e3;class f{constructor(t){this.failCount=0,this.endpointURL=t.endpointURL,this.processItem=t.processItem,t.storeId!==null?(this.store=(0,l.createStore)(t.storeId||"framer-tracking-client-queue"),this.queue=this.store.load()):this.queue=[],this.postBatch=t.postBatch||(typeof window<"u"&&typeof window.fetch=="function"?Promise.resolve().then(()=>s(5)).then(o=>o.postBatch):Promise.resolve().then(()=>s(6)).then(o=>o.postBatch))}flush(){return n(this,void 0,void 0,function*(){if(this.pendingFlushPromise){try{yield this.pendingFlushPromise}catch{}return this.queue.length===0}clearTimeout(this.flushTimer),clearTimeout(this.flushDeadlineTimer),this.flushTimer=this.flushDeadlineTimer=void 0;let t=this.buildPostBody();if(!t)return!0;let o=Promise.all([this.postBatch,this.endpointURL]).then(([c,b])=>c(b,t));this.pendingFlushPromise=o;try{yield o,this.failCount=0,this.queue=this.queue.filter(c=>!c.pending),this.store&&this.store.save(this.queue),this.queue.length>0&&!this.flushTimer&&this.scheduleFlush()}catch(c){console.warn("Post failed: %s",c);for(let b of this.queue)b.pending&&(b.pending=!1);this.failCount++,this.scheduleFlush()}finally{this.pendingFlushPromise=void 0}return this.queue.length===0})}post(t){let o=this.createQueueItem(t);this.queue.push(o),this.constrainQueueSize(),this.store&&this.store.save(this.queue),this.scheduleFlush()}reprocessItems(t=!1){let o=!1;for(let c of this.queue)c.complete||this.tryCompleteItem(c)&&(o=!0);this.store&&(t||o)&&this.store.save(this.queue)}buildPostBody(){let t=[`[
`],o=0;for(let c=0;c<this.queue.length;c++){let b=this.queue[c];if(this.tryCompleteItem(b)&&(o>0&&t.push(`,
`),t.push(b.json),b.pending=!0,++o===r))break}return o===0?"":(t.push(`
]`),t.join(""))}constrainQueueSize(){if(this.queue.length<=a)return;let t=this.queue.length-a;this.queue.splice(t),console.warn("Dropping %d item(s) from the queue",t)}createQueueItem(t){if(!this.processItem)return{complete:!0,json:JSON.stringify(t)};try{let o=this.processItem(t);return o?{complete:!0,json:JSON.stringify(o)}:{cache:t,complete:!1,json:JSON.stringify(t)}}catch(o){let c=JSON.stringify(t);return console.warn("Failed to process item (%s): %s",o instanceof Error?o.message:"unknown",c),{cache:t,complete:!1,json:c}}}scheduleFlush(){let t=()=>this.flush();this.flushDeadlineTimer||(this.flushDeadlineTimer=setTimeout(t,this.withBackoff(d))),clearTimeout(this.flushTimer),this.flushTimer=setTimeout(t,this.withBackoff(u))}tryCompleteItem(t){if(t.complete)return!0;if(!this.processItem)return!1;try{let o=t.cache||JSON.parse(t.json),c=this.processItem(o);if(!c)return t.cache=o,!1;t.cache=void 0,t.complete=!0,t.json=JSON.stringify(c)}catch(o){return console.warn("Failed to process item (%s): %s",o instanceof Error?o.message:"unknown",t),!1}return!0}withBackoff(t){return this.failCount?t*Math.pow(2,Math.min(this.failCount,e)):t}}},function(m,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createStore=function(l){return new n(l)};class n{constructor(u){this.id=u}load(){let u=this.getLocalStorageSafely();if(!u)return[];let d=u.getItem(this.id);return d?d.split(`
`).map(r=>r&&r[0]==="!"?{complete:!1,json:r.slice(1)}:{complete:!0,json:r}):[]}save(u){let d=this.getLocalStorageSafely();if(!d)return;let r=u.map(e=>(e.complete?"":"!")+e.json).join(`
`);try{d.setItem(this.id,r)}catch{}}getLocalStorageSafely(){try{if(typeof window>"u"||!window.localStorage)return null}catch{return null}return window.localStorage}}},function(m,i,s){"use strict";var n=this&&this.__awaiter||function(l,u,d,r){return new(d||(d=Promise))(function(e,a){function f(o){try{t(r.next(o))}catch(c){a(c)}}function p(o){try{t(r.throw(o))}catch(c){a(c)}}function t(o){var c;o.done?e(o.value):(c=o.value,c instanceof d?c:new d(function(b){b(c)})).then(f,p)}t((r=r.apply(l,u||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.postBatch=function(l,u){return n(this,void 0,void 0,function*(){let d=yield fetch(l,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:u});if(!d.ok)throw Error(`Server responded with ${d.statusText}`);d.type!=="opaque"&&(yield d.json())})}},function(m,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.postBatch=function(l,u){return new Promise((d,r)=>{let e=l.split("/");if(e.length<3||e[0]!=="https:"||e[1]!=="")throw Error("Expected a valid HTTPS URL");let a={hostname:e[2],path:"/"+e.slice(3).join("/"),headers:{"Content-Length":u.length,"Content-Type":"application/json; charset=utf-8"},method:"POST"},f=n.request(a,p=>{if(p.statusCode!==200)return void r(Error(`Server responded with ${p.statusMessage}`));p.setEncoding("utf8");let t="";p.on("data",o=>{t+=o}),p.on("error",r),p.on("end",()=>{try{JSON.parse(t),d()}catch(o){r(o)}})});f.on("error",r),f.write(u),f.end()})};let n=s(7)},function(m,i){m.exports=F("https")}])})});var N=T(k(),1);var O=m=>function(s,n){m.track({...n,event:s,type:"track"})};var j=T(k());var Q="FramerWeb/cd22f02",M,Z=m=>{M=m},S,U=m=>{S=m},R=!1;try{R=window.localStorage&&window.localStorage.getItem("debug-metrics")==="active"}catch{}var L=new j.FramerTracking({sourceName:"framer-web",trackingURL:q().events+"/track",verbose:R,addContext:m=>{let i=A();i?.stores?.scopeStore&&(m.scopeType=i.stores.scopeStore.scopeType,m.scopeId=i.stores.scopeStore.active.id),m.appVersion===void 0&&(m.appVersion="FramerWeb/cd22f02"),M&&m.projectId===void 0&&(m.projectId=M),S!==void 0&&m.legacyProject===void 0&&(m.legacyProject=S)}}),I=O(L);C((m,i)=>{if(i?.track){let{event:s,...n}=m;L.track({...n,type:"track",event:s})}});export{k as a,Q as b,Z as c,U as d,L as e,I as f};
//# sourceMappingURL=https://app.framerstatic.com/chunk-H4WBCNOK.mjs.map

import{da as N,fa as J}from"https://app.framerstatic.com/chunk-ONNP42RG.mjs";import{f as Q}from"https://app.framerstatic.com/chunk-H4WBCNOK.mjs";import{f as D}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as ve}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{l as B,o as $,v as k}from"https://app.framerstatic.com/chunk-35MJ64JF.mjs";import{a as w}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{c as L,e as H,j as E}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var se=L(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.regionAPIs=void 0;O.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])});var ce=L(y=>{"use strict";var Ie=y&&y.__awaiter||function(e,r,n,t){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function c(l){try{f(t.next(l))}catch(h){i(h)}}function u(l){try{f(t.throw(l))}catch(h){i(h)}}function f(l){l.done?a(l.value):o(l.value).then(c,u)}f((t=t.apply(e,r||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.ref=y.init=void 0;var ie="_intercom_npm_loader",b=function(){b.loaderQueue(arguments)};b.q=[];b.loaderQueue=function(e){b.q.push(e)};var T=function(){var e,r,n=document;if(!n.getElementById(ie)){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.id=ie,t.src="https://widget.intercom.io/widget/"+((e=window.intercomSettings)===null||e===void 0?void 0:e.app_id);var o=n.getElementsByTagName("script")[0];(r=o.parentNode)===null||r===void 0||r.insertBefore(t,o)}},ae=()=>document.readyState==="complete"||document.readyState==="interactive",Oe=()=>Ie(void 0,void 0,void 0,function*(){var e=window,r=e.Intercom;e.intercomSettings&&(e.intercomSettings.installation_type="npm-package"),typeof r=="function"?(r("reattach_activator"),r("update",e.intercomSettings)):(e.Intercom=b,ae()?T():(document.addEventListener("readystatechange",function(){ae()&&T()}),e.attachEvent?e.attachEvent("onload",T):e.addEventListener("load",T,!1)))});y.init=Oe;y.ref=void 0});var de=L(s=>{"use strict";var Te=s&&s.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};Object.defineProperty(s,"__esModule",{value:!0});s.onUserEmailSupplied=s.showConversation=s.showTicket=s.startChecklist=s.startSurvey=s.showNews=s.showArticle=s.startTour=s.getVisitorId=s.trackEvent=s.onUnreadCountChange=s.onShow=s.onHide=s.showNewMessage=s.showMessages=s.showSpace=s.show=s.hide=s.update=s.shutdown=s.boot=s.Intercom=void 0;var Ce=se(),ue=ce(),d=(e,...r)=>{typeof window!==void 0&&window.Intercom?window.Intercom(e,...r):console.warn("Please ensure Intercom is setup and running on client-side!")},Ae=e=>{if(typeof e!="object"){console.warn("Intercom initialiser called with invalid parameters.");return}let{region:r="us"}=e,n=Te(e,["region"]);typeof window<"u"&&!ue.ref&&(window.intercomSettings=Object.assign(Object.assign({},n),{api_base:Ce.regionAPIs.get(r)}),(0,ue.init)())};s.Intercom=Ae;s.default=s.Intercom;var _e=e=>d("boot",e);s.boot=_e;var xe=()=>d("shutdown");s.shutdown=xe;var Pe=e=>d("update",e);s.update=Pe;var je=()=>d("hide");s.hide=je;var Me=()=>d("show");s.show=Me;var Le=e=>d("showSpace",e);s.showSpace=Le;var Ne=()=>d("showMessages");s.showMessages=Ne;var We=e=>d("showNewMessage",e);s.showNewMessage=We;var Fe=e=>d("onHide",e);s.onHide=Fe;var Ue=e=>d("onShow",e);s.onShow=Ue;var Ve=e=>d("onUnreadCountChange",e);s.onUnreadCountChange=Ve;var qe=(...e)=>d("trackEvent",...e);s.trackEvent=qe;var He=()=>d("getVisitorId");s.getVisitorId=He;var Be=e=>d("startTour",e);s.startTour=Be;var $e=e=>d("showArticle",e);s.showArticle=$e;var De=e=>d("showNews",e);s.showNews=De;var Qe=e=>d("startSurvey",e);s.startSurvey=Qe;var Je=e=>d("startChecklist",e);s.startChecklist=Je;var ze=e=>d("showTicket",e);s.showTicket=ze;var Ge=e=>d("showConversation",e);s.showConversation=Ge;var Xe=e=>d("onUserEmailSupplied",e);s.onUserEmailSupplied=Xe});async function G(e,r){let n=e.getReader(),t;for(;!(t=await n.read()).done;)r(t.value)}function X(e){let r,n,t,o=!1;return function(i){r===void 0?(r=i,n=0,t=-1):r=Se(r,i);let c=r.length,u=0;for(;n<c;){o&&(r[n]===10&&(u=++n),o=!1);let f=-1;for(;n<c&&f===-1;++n)switch(r[n]){case 58:t===-1&&(t=n-u);break;case 13:o=!0;case 10:f=n;break}if(f===-1)break;e(r.subarray(u,f),t),u=n,t=-1}u===c?r=void 0:u!==0&&(r=r.subarray(u),n-=u)}}function K(e,r,n){let t=z(),o=new TextDecoder;return function(i,c){if(i.length===0)n?.(t),t=z();else if(c>0){let u=o.decode(i.subarray(0,c)),f=c+(i[c+1]===32?2:1),l=o.decode(i.subarray(f));switch(u){case"data":t.data=t.data?t.data+`
`+l:l;break;case"event":t.event=l;break;case"id":e(t.id=l);break;case"retry":let h=parseInt(l,10);isNaN(h)||r(t.retry=h);break}}}}function Se(e,r){let n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),n}function z(){return{data:"",event:"",id:"",retry:void 0}}var be=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n},I="text/event-stream",Re=1e3,Y="last-event-id";function W(e,r){var{signal:n,headers:t,onopen:o,onmessage:a,onclose:i,onerror:c,openWhenHidden:u,fetch:f}=r,l=be(r,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((h,me)=>{let v=Object.assign({},t);v.accept||(v.accept=I);let S;function V(){S.abort(),document.hidden||j()}u||document.addEventListener("visibilitychange",V);let q=Re,x=0;function P(){document.removeEventListener("visibilitychange",V),window.clearTimeout(x),S.abort()}n?.addEventListener("abort",()=>{P(),h()});let we=f??window.fetch,ye=o??Ee;async function j(){var M;S=new AbortController;try{let R=await we(e,Object.assign(Object.assign({},l),{headers:v,signal:S.signal}));await ye(R),await G(R.body,X(K(m=>{m?v[Y]=m:delete v[Y]},m=>{q=m},a))),i?.(),P(),h()}catch(R){if(!S.signal.aborted)try{let m=(M=c?.(R))!==null&&M!==void 0?M:q;window.clearTimeout(x),x=window.setTimeout(j,m)}catch(m){P(),me(m)}}}j()})}function Ee(e){let r=e.headers.get("content-type");if(!r?.startsWith(I))throw new Error(`Expected content-type to be ${I}, Actual: ${r}`)}var ee=Number.MAX_SAFE_INTEGER,F="client";function Z(){return Math.floor(Math.random()*ee)}function it(e){if(!e||!("sessionStorage"in globalThis))return Z();let r=sessionStorage.getItem(F);if(r){let t=parseInt(r,10);if(!Number.isNaN(t)&&t.toString()===r&&t<=ee)return t}let n=Z();return sessionStorage.setItem(F,n.toString()),n}function te(){"sessionStorage"in globalThis&&sessionStorage.removeItem(F)}var re=H(ve());async function ke(){"serviceWorker"in navigator&&(await navigator.serviceWorker.register("/serviceWorker.js"),await oe({type:"refreshApiServer",payload:{api:w().api}}))}async function ne(){oe({type:"signOut"}),navigator.serviceWorker.getRegistrations().then(e=>{for(let r of e)r.unregister()})}async function oe(e){"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).active?.postMessage(e)}function ut(){re.default.useEffect(()=>{ke().catch(e=>{k("app:info").warn("Unable to register the service worker",e)})},[])}var p=H(de()),Ke=$.isProduction?"gmqktfjv":"iic8t2tp",U=!1,gt=(e,r)=>{U?(0,p.update)(le(e)):((0,p.default)(le(e)),(0,p.onShow)(()=>{r.isIntercomMessengerVisible=!0}),(0,p.onHide)(()=>{r.isIntercomMessengerVisible=!1})),(0,p.show)()},mt=()=>{(0,p.hide)()};function le(e){return{app_id:Ke,hide_default_launcher:!0,user_id:e.userId,user_hash:e.userIntercomHash,email:e.userEmail}}function fe(){U&&((0,p.shutdown)(),U=!1)}function he(e){Promise.all([e.stopAuthentication(),ne()]).catch(B).finally(()=>{te(),fe(),window.location.href=`${w().api}/auth/v4/signout`})}var C=new J(w().api,{onInsufficientScopes:e=>he(e)});var g=Object.freeze({"X-Requested-By":"Framer"});var Ye=k("fetcher"),Ze=(e,r)=>{if(!r)return e;let n=new URL(e);for(let t in r){let o=r[t];if(o!==void 0){if(D(o)){for(let a of o)a&&n.searchParams.append(`${t}[]`,a.toString());continue}n.searchParams.append(t,o.toString())}}return n.href},pe=e=>{throw new N({isTemporary:!0,message:"Connection error",code:-1e3,status:0,skipSentry:!0,cause:e})};function et(e){return e instanceof DOMException&&e.name==="AbortError"}async function ge(e,r){if(e.ok)return{status:"success",response:e};let n=e.statusText,t,o,a;try{let{error:i,ref:c,data:u}=await e.json();typeof i?.message=="string"&&(n=i.message),typeof i?.code=="number"&&(t=i.code),typeof c=="string"&&(o=c),typeof u=="object"&&u&&(a=u)}catch{}return e.status===401&&(await C.discardAccessToken(!0),n.toLowerCase().includes("jwt expired")&&r<1)?(Ye.reportError(new Error("Sent an expired JWT to the backend. This shouldn't happen if AccessTokenRefresher works correctly.")),await C.getAccessToken(),{status:"retry"}):{status:"error",error:new N({data:a,message:n,status:e.status,ref:o,code:t})}}var _=class{constructor(r){this.baseURL=r;E(this,"activeRequestCount",0);E(this,"waitListeners",new Set);E(this,"readonly",!1)}debugSetReadOnly(r=!0){this.readonly=r}doWithListeners(r){this.activeRequestCount++;try{return r().finally(()=>{if(this.activeRequestCount--,this.activeRequestCount===0){let n=Array.from(this.waitListeners);this.waitListeners.clear();for(let t of n)try{t()}catch{}}})}catch(n){this.activeRequestCount--;let t=n instanceof Error?n.message:String(n);throw Q("application_error",{message:t,area:"fetch"}),n}}fetch(r,n,t=0){return this.doWithListeners(async()=>{let o=await this.accessTokenRefresher.withAuthorizationHeader(n||{}),a=await fetch(r,o).catch(c=>{throw et(c)?c:pe(c)}),i=await ge(a,t);if(i.status==="error")throw i.error;return i.status==="retry"?this.fetch(r,n,t+1):i.response})}fetchStream(r,n={},t=0){return this.doWithListeners(async()=>{let{headers:o,onopen:a,onerror:i,...c}=n,u=await this.accessTokenRefresher.getAuthorizationHeaderValue(),f={...c,headers:u?{...o,authorization:u}:o,onopen:async l=>{let h=await ge(l,t);if(h.status==="error"){i?.(h.error);return}if(h.status==="retry")return this.fetchStream(r,n,t+1);await a?.(h.response)}};return W(r,f).catch(pe)})}wait(r){if(this.activeRequestCount===0){r();return}this.waitListeners.add(r)}async getRaw(r,n,t){return await this.fetch(Ze(`${this.baseURL}${r}`,n),{credentials:"include",redirect:"error",signal:t})}async get(r,n,t){let o=await this.getRaw(r,n,t);return A(o)?o.json():o.text()}async postRaw(r,n,t,o){if(this.readonly)throw Error("apiFetcher is set to readonly");let i=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"POST",credentials:"include",redirect:"error",headers:i,body:n,signal:o})}async post(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=await this.postRaw(r,JSON.stringify(n),"application/json",t);return A(o)?o.json():o.text()}postStream(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=typeof t<"u",a=o?{"Content-Type":"application/json",...g}:g;return this.fetchStream(`${this.baseURL}${r}`,{...n,method:"POST",credentials:"include",headers:a,body:o?JSON.stringify(t):null})}async putRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"PUT",credentials:"include",headers:a,body:n})}async put(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.putRaw(r,JSON.stringify(n),"application/json");return A(t)?t.json():t.text()}async deleteRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"DELETE",credentials:"include",redirect:"error",body:n,headers:a})}async delete(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.deleteRaw(r,JSON.stringify(n),"application/json");return A(t)?t.json():t.text()}get accessTokenRefresher(){return C}};function A(e){return e.headers.get("Content-Type")?.toLowerCase().startsWith("application/json")??!1}var qt=new _(w().api);export{it as a,ut as b,gt as c,mt as d,fe as e,he as f,C as g,g as h,et as i,qt as j};
//# sourceMappingURL=https://app.framerstatic.com/chunk-IUW53DP6.mjs.map

import{g as BI,i as HI}from"https://app.framerstatic.com/chunk-TMAQ5MRE.mjs";import{$ as HN,$a as Wx,$b as En,A as yN,Aa as mx,Ab as _x,Ac as TV,B as CN,Ba as fx,Bb as jx,Bc as bV,C as SN,Ca as hx,Cb as Ux,Cc as IV,D as Dn,Da as gx,Db as Jx,Dc as NV,E as vN,Ea as yx,Eb as Xx,Ec as xV,F as Am,Fa as Cx,Fb as Zx,Fc as _s,G as Mm,Ga as Sx,Gb as Kx,Gc as VV,H as TN,Ha as vx,Hb as Yx,Hc as Ui,I as bN,Ia as Tx,Ib as qx,J as IN,Ja as bx,Jb as Qx,K as NN,Ka as Ix,Kb as eV,L as xN,La as Nx,Lb as tV,M as VN,Ma as xx,Mb as oV,N as PN,Na as Vx,Nb as rV,O as wN,Oa as Px,Ob as iV,P as kN,Pa as wx,Pb as nV,Q as RN,Qa as kx,Qb as aV,R as DN,Ra as Rx,Rb as sV,S as LN,Sa as Dx,Sb as lV,T as FN,Ta as Lx,Tb as cV,U as EN,Ua as Fx,Ub as dV,V as AN,Va as Ex,Vb as pV,W as MN,Wa as Ax,Wb as uV,X as ON,Xa as Mx,Xb as mV,Y as zN,Ya as Ox,Yb as fV,Z as WN,Za as zx,Zb as Fn,_ as BN,_a as Ln,_b as jr,a as rN,aa as GN,ab as Bx,ac as Qo,b as J,ba as $N,bb as Om,bc as hV,c as Fm,ca as _N,cb as rd,cc as gV,d as iN,da as jN,db as zm,dc as yV,e as ji,ea as UN,eb as Wm,ec as CV,f as Em,fa as JN,fb as Bm,fc as ka,g as Bs,ga as XN,gb as Hm,gc as Hs,h as ke,ha as ZN,hb as id,hc as Ra,i as nN,ia as KN,ib as Gm,ic as nd,j as td,ja as YN,jb as $m,jc as Gs,k as od,ka as qN,kb as _m,kc as An,l as aN,la as QN,lb as jm,lc as $s,m as sN,ma as ex,mb as Um,mc as ad,n as lN,na as tx,nb as Jm,nc as sd,oa as ox,ob as Xm,oc as ld,p as cN,pa as rx,pb as Zm,pc as cd,qa as ix,qb as Km,qc as dd,r as dN,ra as nx,rb as Ym,rc as pd,sb as qm,sc as SV,t as pN,ta as ax,tb as Qm,tc as ud,ua as sx,ub as ef,uc as md,v as uN,va as lx,vb as tf,vc as fd,w as mN,wa as cx,wb as of,wc as hd,x as fN,xa as dx,xb as Hx,xc as gd,y as hN,ya as px,yb as Gx,yc as yd,z as gN,za as ux,zb as $x,zc as vV}from"https://app.framerstatic.com/chunk-3MPIGKMW.mjs";import{b as GI,c as $I}from"https://app.framerstatic.com/chunk-V5DLHKAM.mjs";import{j as _I}from"https://app.framerstatic.com/chunk-G3FMRAP6.mjs";import{e as WI,g as km}from"https://app.framerstatic.com/chunk-VNUA34VW.mjs";import{b as Lm,c as ZI,e as Cd}from"https://app.framerstatic.com/chunk-IEVL5MAG.mjs";import{a as wa,c as jI,d as Rm,e as UI,h as Dm,j as JI,m as XI,n as Qc,o as ed,p as QI,q as eN,r as tN,s as oN,t as PV}from"https://app.framerstatic.com/chunk-ITQJBEMK.mjs";import{$ as xv,$c as Va,A as ga,Bc as Zb,C as mv,Cb as Eb,Cf as PI,D as fv,Dc as Kb,Df as wI,Dg as qc,Eb as Jc,Ef as kI,Eg as EI,Fc as Zc,Ff as RI,G as Ku,Gb as fo,Gc as Kc,Gf as DI,H as gv,Ha as Fv,Hb as Xc,I as xc,Ib as Ab,If as LI,J as qF,Ja as Fs,Jb as Mb,Jc as Yb,K as Cv,Kb as Ob,Ke as Pa,Kf as xm,L as Sv,Lb as zb,Lc as qb,Le as uI,Lf as Yc,Ma as fi,Mb as Wb,Mc as Qb,Me as mI,Mg as AI,Nb as Cm,Ne as gi,Ng as MI,O as Pc,Oe as fI,Og as Ws,P as qu,Pa as vb,Pb as Bb,Pe as hI,Qa as Tb,Qb as Hb,Qg as OI,Rc as eI,Sa as ym,Sb as Gb,Sc as tI,Sd as nI,Se as gI,Sg as zI,Ta as bb,Tb as hi,Tc as oI,Td as aI,Ua as Ib,Uc as xa,Ud as sI,Ue as bm,Vc as vm,Vd as Tm,Wf as Vm,Xf as FI,Yf as zs,Zf as Pm,_ as Nv,_a as Nb,_e as kn,a as Tc,aa as wc,b as cv,ba as Vv,de as lI,df as Im,dg as wm,eb as Vb,ec as $b,f as Gu,fa as kv,fc as _b,fd as rI,fe as cI,ff as yI,ga as Rv,gb as Pb,gc as jb,gf as CI,hc as Sm,hd as Os,hf as SI,ib as wb,jb as Es,jd as _r,kb,kc as Ub,lb as Rb,nb as Db,nf as vI,ob as Lb,od as iI,of as TI,pf as bI,qa as Lv,r as _u,ra as Ns,s as ju,sf as Nm,t as bn,ta as xs,u as Uu,ua as kc,ue as dI,v as Ju,ve as pI,vf as II,w as bs,we as wn,wf as Rn,x as Xu,xb as As,xe as yr,xf as NI,y as Zu,yb as Ms,yc as Jb,yf as xI,z as Is,zc as Xb,zf as VI}from"https://app.framerstatic.com/chunk-YHHLDGNJ.mjs";import{e as zr,g as Bu,h as Hu,q as xb,u as Fb,v as $r}from"https://app.framerstatic.com/chunk-2YBI3QOI.mjs";import{a as QF,f as Ct}from"https://app.framerstatic.com/chunk-WA7V4JHN.mjs";import{a as KI,b as YI,c as qI,f as rf}from"https://app.framerstatic.com/chunk-OOKYJP4H.mjs";import{j as _i}from"https://app.framerstatic.com/chunk-KCXVAIK2.mjs";import{$c as $v,$e as Hc,$h as XT,Ad as im,Ag as PT,Bd as nm,Be as cm,Bh as WT,Bi as gb,C as Yo,Cd as am,Cf as dm,Ci as yb,Dg as te,E as et,Eb as Rc,Ee as ba,Eg as Bt,Eh as Uc,F as Vc,Fe as zc,Fh as BT,Fi as Cb,Gb as Ev,Gd as Oc,Ge as Wc,Hd as oT,He as aT,Hg as wT,Hh as HT,Ie as Bc,Ii as Pn,Jd as rT,Jf as to,Jg as xn,K as Yu,Kf as ks,Lc,Ld as Vs,Lg as kT,Li as Sb,Mg as Vn,Na as Wr,Nc as Wv,Ng as RT,Nh as fm,Ni as Na,Oa as Qu,Ob as Av,Pe as sT,Pf as pm,Ph as GT,Qb as Dc,Qe as lT,Qg as qo,Re as wt,Rh as $T,Sc as Bv,Tc as Hr,Te as cT,Tf as _c,U as yv,Ua as vv,Uc as Fc,Ue as dT,Uh as hm,Va as de,Vc as pi,Vf as ST,Vg as DT,Vh as _T,Wa as Tv,Wc as ui,We as pT,Wh as jT,Xc as Hv,Xe as mi,Xh as gm,Ya as q,Yh as UT,Za as Nt,Zc as Gv,Zf as vT,Zh as JT,_a as In,_b as Ov,ac as om,ae as Ps,af as uT,ag as TT,ah as LT,ai as ZT,b as dv,bg as bT,bi as KT,c as pv,cb as bv,cc as rm,cf as Gi,ch as FT,ci as YT,dd as _v,df as Zt,e as Ts,eb as Iv,ed as Ec,eg as IT,eh as ET,f as uv,fa as mo,fb as Pv,fh as AT,fi as qT,g as $u,gd as Jv,ge as sm,gf as ws,gg as Rs,gi as QT,hb as wv,hd as Mc,he as lm,hf as mT,hg as um,hi as eb,id as Xv,ie as iT,ig as NT,jd as Hi,jh as gr,ji as tb,k as yt,kc as Br,kf as gT,kg as mm,ki as ob,l as ya,li as rb,mb as em,md as Zv,mf as yT,mg as Ds,mi as ib,n as bc,nd as Kv,nf as CT,nh as MT,ni as nb,o as ao,oi as ab,p as fr,pb as tm,pd as va,pe as Ta,pg as hr,pi as sb,qe as nT,qg as Ia,qh as OT,qi as lb,r as Bi,rd as Yv,ri as cb,s as Ic,sd as qv,si as db,t as Nc,td as Qv,ti as pb,u as hv,uf as $c,ug as xT,ui as ub,v as Ca,vb as Dv,vd as eT,wa as ci,wb as Oe,wd as tT,wf as Nn,wg as VT,wi as mb,xf as Gr,xh as zT,xi as fb,y as Ko,yh as jc,yi as hb,zh as Ls}from"https://app.framerstatic.com/chunk-6US6DZT3.mjs";import{$d as Vt,$e as We,$i as pt,$k as $C,$m as Ru,$p as bS,$q as kS,A as mu,Ac as Oy,Ad as Uy,Af as rC,Ai as Iu,Ak as oc,Ao as aS,At as Sn,B as ge,Bd as Bl,Bh as eo,Bj as Vu,Bm as ur,Bo as sS,Cb as Ty,Cc as is,Cf as iC,Ch as cs,Ck as ii,Cs as ES,Cv as Wu,Dd as Jy,Dg as gC,Dm as rc,Dt as uc,Dv as ev,Dw as Gc,Ec as ti,Ef as nC,El as Xt,Ev as tv,Ew as $i,Fb as by,Ff as aC,Fh as TC,Fk as pr,Ft as Ss,Fu as gc,Fv as ov,Fw as fT,Gi as Ai,Gk as Pu,Go as yn,Gs as pc,Gt as vs,Gu as Ou,Gv as Or,Gw as hT,H as sy,Hb as ei,Hc as wi,He as kr,Hf as sC,Hp as fS,Hq as Et,Ht as mc,Hv as rv,I as oe,Ib as U,Ic as zy,Ie as lr,If as lC,Ii as ec,Il as ku,Iq as VS,It as Ue,Iu as _S,J as fu,Jb as Ot,Jc as jt,Je as Pe,Jf as ls,Jk as zC,Jq as PS,Jt as MS,Ju as jS,Kb as Ny,Kc as ns,Ke as cr,Kf as cC,Kg as vu,Kt as OS,Ku as US,Lc as Ft,Le as Qy,Lf as Dr,Lk as hs,Lo as si,Lu as JS,Lv as rt,M as hu,Mb as xy,Md as Hl,Me as jl,Mf as ri,Mh as Ql,Mn as tS,Mu as ZS,Ne as Rr,Ng as yC,Ni as ps,Nj as ms,Nk as WC,Nn as Io,Nq as lc,Nu as yc,Oa as gu,Oe as Ul,Of as Lr,Og as CC,Oi as NC,Ok as BC,Oq as wS,Ot as fc,Pe as bt,Pf as dC,Pt as Mu,Pu as ma,Qa as fy,Qb as Vy,Qe as ne,Qg as SC,Qh as Tu,Qk as HC,Qn as ai,Qp as hS,Qu as Cc,Qv as Sc,Rb as Py,Rc as Wy,Re as Ee,Rf as pC,Ru as KS,Se as vo,Sf as uC,Sk as wu,St as zS,Su as YS,Sv as vc,Tb as wy,Tc as By,Te as G,Tf as mC,Ti as xC,Tj as DC,Tk as GC,Tn as Lu,U as io,Ud as Gl,Ue as eC,Ug as vC,Uu as fa,Uv as iv,Va as yy,Vc as Wl,Vd as sr,Ve as It,Vj as hn,Vp as gS,Vu as Qe,Vv as nv,Wa as sa,Wd as Ri,We as dt,Wj as LC,Wn as Cs,Wp as yS,Wu as qS,Xa as os,Xc as Hy,Xd as Cu,Xe as Di,Xn as oS,Xp as CS,Xr as dc,Xu as QS,Xv as av,Ya as Cy,Yb as ky,Yd as Xy,Ye as ss,Ym as qC,Yp as SS,Yu as zi,Z as aa,Za as rs,Zd as uo,Ze as De,Zf as Ei,Zi as Nu,Zl as XC,Zm as Mi,Zp as vS,_c as Gy,_e as _,_f as fC,_h as mn,_j as fs,_n as rS,_p as TS,ae as ht,af as Li,aj as xu,ao as xe,au as Zo,be as Zy,bf as Jt,bi as bu,bl as _C,bo as Er,ce as Ky,cf as dr,co as ac,cu as WS,d as Pi,dd as ki,de as Yy,df as Ae,do as mr,du as BS,ef as Su,el as jC,en as QC,ep as lS,eq as IS,eu as HS,fc as Ry,ff as Jl,fg as hC,fk as FC,fp as cS,ga as xr,ge as la,gk as EC,gl as UC,gm as gn,gp as da,gu as vn,gw as sv,h as qg,he as Tt,hl as me,hm as ni,ho as Fu,hv as Wi,hw as lv,id as $y,ii as Ao,ik as Fr,il as x,in as Du,io as Xo,ip as pa,ir as ua,j as cu,jd as as,jl as bo,jn as eS,jo as no,jq as NS,ju as Le,jw as ha,k as Qg,kd as _y,ki as bC,kl as K,kw as li,l as O,la as ly,lf as Xl,lj as VC,ll as gs,lm as Me,lo as ve,lp as dS,lv as Mr,m as we,mc as Dy,mf as tC,mj as Pt,ml as at,mp as sc,mr as cc,nb as pn,nc as _t,nj as tc,nl as m,nm as ye,no as ca,nr as Cn,oc as Ly,od as oi,oe as qy,oi as IC,ok as AC,ol as Ke,om as ZC,oo as Eu,or as DS,ou as No,ov as Tn,pc as Vr,pe as $l,pr as LS,qb as Qr,qc as Fy,qe as Eo,qf as Zl,qh as un,ql as ot,qr as Ar,qu as hc,r as ts,rj as To,rk as MC,ro as iS,ru as GS,s as du,sc as Ey,se as _l,sn as ic,sq as xS,sw as di,ta as cy,tc as Ay,td as jy,te as Qt,tj as PC,tl as Mo,tm as KC,tn as nc,to as Au,tw as jv,ua as dy,uc as My,ue as Ut,uf as Kl,ui as ds,ul as Jo,uo as nS,uw as Ac,va as py,vc as W,ve as zt,vf as oC,vj as wC,vm as YC,vu as $S,vw as Uv,w as ey,wa as uy,wb as Sy,we as wr,wf as Yl,wj as us,wk as OC,wv as zu,xf as ql,xj as kC,xp as pS,xt as Oi,y as qt,yb as vy,yc as So,yj as fn,yp as uS,yt as AS,yu as Wt,yw as Sa,za as my,zb as zl,zc as Pr,zf as Fi,zj as RC,zl as JC,zm as ys,zp as mS,zr as FS}from"https://app.framerstatic.com/chunk-A3XCEWME.mjs";import{d as Mv}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{K as ay,P as Iy,d as ty,e as Ml,g as Ol,h as pu,i as oy,o as uu,s as ry,u as iy,v as ny}from"https://app.framerstatic.com/chunk-UZ3C6GS3.mjs";import{b as RS}from"https://app.framerstatic.com/chunk-GO7WVIKP.mjs";import{a as zv}from"https://app.framerstatic.com/chunk-4I3XDWXC.mjs";import{a as ro,b as Mt}from"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{b as jo}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{p as je}from"https://app.framerstatic.com/chunk-W5VAAB5H.mjs";import{a as ar,b as k,d as X,e as Re,f as ft,g as hy,h as gy,i as E,j as Uo,l as nt,n as yu,o as Fo}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as YF,ce as XS}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as Nr}from"https://app.framerstatic.com/chunk-SALNC65Q.mjs";import{A as cn,D as Vi,E as _o,F as Ge,H as Zg,J as qr,L as dn,M as ce,N as Kg,O as Yg,Z as $e,aa as Ir,e as lu,i as ia,l as na,p as Lt,v as qe,z as Xg}from"https://app.framerstatic.com/chunk-7J5JFG4S.mjs";import{a as C,b as j}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as Al}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{d as su,e as es,j as R,k as F,l as ie,m as ee,n as gt}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var kV=es(QF());var RV=es(YF());var VG=RV.default.createContext("not-defined");var wV={store_internal:2,store_browse:2,store_use_installed:2},nf={},Sd=new kV.FramerTracking({sourceName:"framer-x",trackingURL:Al().events+"/track",verbose:window.localStorage&&window.localStorage.getItem("debug-metrics")==="active",addContext:e=>{let t;for(t in nf)e[t]===void 0&&(e[t]=nf[t])}}),eE;(r=>(r.init=function(i){let{appVersion:n,projectId:a}=i;Object.assign(nf,{appVersion:n,projectId:a}),Sd.setUserId(i.userId)},r.push=function(i){let{name:n,type:a,...l}=i;i.type==="store_internal"?(delete l.action,Sd.track({type:"track",event:n,version:2,...l})):Sd.track({type:"track",event:a,version:wV[a],name:n,...l})},r.pushEvent=function(i){let{event:n,...a}=i;Sd.track({...a,type:"track",event:n,version:wV[n]})}))(eE||={});var tE=new Set(by({fillImageLocalized:!0,formInputPlaceholderLocalized:!0,htmlLocalized:!0,altAttributeLocalized:!0,titleLocalized:!0,descriptionLocalized:!0,linkLocalized:!0}));function af(e){return tE.has(e)}function vd(e){return e.map(t=>Re(t)?Td(t):ft(t)?vd(t):t)}function oE(e){return e.endsWith("Localized")}function Td(e){let t={};for(let o in e){if(oE(o))continue;let r=e[o];Re(r)?t[o]=Td(r):ft(r)?t[o]=vd(r):t[o]=r}return t}function FG(e){let t={},o;for(o in e){if(af(o))continue;if(!Nu(o)){t[o]=e[o];continue}let r=e[o];Re(r)?t[o]=Td(r):ft(r)?t[o]=vd(r):t[o]=r}return t}function DV(e){let t={};for(let o in e){if(af(o))continue;if(!Nu(o)){t[o]=e[o];continue}let r=e[o];Re(r)?t[o]=Td(r):ft(r)?t[o]=vd(r):t[o]=r}return t}var rE={track:!0};function LV(e){let t={...e,event:"canvas_page_add"};jo(t,rE)}var iE={track:!0};function FV(e){let t={...e,event:"component_canvas_enter"};jo(t,iE)}var nE={track:!0};function EV(e){let t={...e,event:"component_canvas_variant_create"};jo(t,nE)}var aE={track:!0};function sf(e){let t={...e,event:"component_design_instance"};jo(t,aE)}var sE={track:!0};function AV(e){let t={...e,event:"property_layout_update"};jo(t,sE)}var lE={track:!0};function MV(e){let t={...e,event:"variable_reference_create"};jo(t,lE)}function OV(e,t){return ar(t)?t:ye(e)?e.constraintsLocked:!1}function p$(e,t,o,r){let i=e.tree,n={x:Math.round(o.x-r.width/2),y:Math.round(o.y-r.height/2)},a=i.getNode(t);if(!t||!a)return{left:n.x,top:n.y};let l=tv(e.tree,t),s=l?e.tree.getViewportRect(l):null,c=i.getRect(a),d=i.convertPointToNode(a,n),u={x:d.x,y:d.y,width:r.width,height:r.height},f=u.width/u.height,y=om(u,{sizing:c,positioning:c,viewport:s,layout:kr(a)},null,{aspectRatio:f,shouldGuessPinToBottom:wn(i,null,a),shouldGuessPinToRight:yr(i,null,a)});return y.aspectRatio=f,y}var lf=(e,t,o,r)=>{let i=t.getGroundNodes().map(n=>e.getRect(n));return r!==void 0&&i.push(...r),i.find(n=>oe.intersects(o,n))===void 0},cE=(e,t,o,r,i)=>{let n=t.getGroundNodes().map(s=>e.getRect(s));r!==void 0&&n.push(...r);let l=n.sort((s,c)=>oe.maxX(s)>oe.maxX(c)?-1:1)[0];return l!==void 0?pf(l,o,i):null},dE=(e,t,o,r,i)=>{let n=t.getGroundNodes().map(c=>e.getRect(c));r!==void 0&&n.push(...r);let s=n.filter(c=>c.width===o.width&&c.height===o.height||c.height===o.width&&c.width===o.height).sort((c,d)=>oe.maxX(c)>oe.maxX(d)?-1:1)[0];return s!==void 0?pf(s,o,i):null},pE=(e,t,o)=>t.map(r=>e.getNode(r)).filter(r=>Ql.equals(r.rect(null),o));function df({tree:e,activeScope:t,node:o,size:r,filledRects:i,offsetDistance:n}){let a={...e.getRect(o),...r},l=t.getGroundNodes().map(d=>d.rect());i&&l.push(...i);let s=a,c=0;for(;s;){if(E(n.x)||(a.x=cf("x",s,n.x)),E(n.y)||(a.y=cf("y",s,n.y)),s=l.find(d=>oe.intersects(d,a)),c>l.length)return a;c++}return a}var WV=(e,t,o,r,i={x:100,y:void 0},n)=>df({tree:e,activeScope:t,node:o,size:r,filledRects:n,offsetDistance:i}),js=(e,t,o,r,i=100,n)=>df({tree:e,activeScope:t,node:o,size:r,filledRects:n,offsetDistance:{x:i}}),u$=(e,t,o,r,i=100,n)=>df({tree:e,activeScope:t,node:o,size:r,filledRects:n,offsetDistance:{y:i}});function cf(e,t,o){return(e==="x"?oe.maxX:oe.maxY)(t)+o}function pf(e,t,o=100){return{...e,x:cf("x",e,o),...t}}var uE=(e,t,o,r,i,n,a)=>{if(n){let c=e.getNode(n);if(c)return js(e,t,c,o,a,i)}if(r){let c=pE(e,r,o);if(c.length){let u=c.map(y=>pf(y.rect(),o,a)).find(y=>lf(e,t,y,i));if(u)return u;let f=c[0];return C(f,"Equal frame must be defined"),js(e,t,f,o,a,i)}}let l=dE(e,t,o,i,a);if(l!==null&&lf(e,t,l,i))return l;let s=cE(e,t,o,i,a);return s!==null&&lf(e,t,s,i)?s:{...o,x:0,y:0}},m$=(e,t,o,r,i)=>{let n=e.getRect(o),a=e.getParent(o.id),l;Ae(o)&&(l=Math.min(n.width,100));let s=uE(e,t,n,r,i,o.id,l);return i.push(s),om(s,null,fa(o)?zi(o):null,{shouldGuessPinToBottom:!0,shouldGuessPinToRight:yr(e,o,a)})},f$=(e,t,o,r)=>{if(o.length>0){let i=o[o.length-1],n=e.getGroundFrameAncestor(i,!0);if(n)return n.id}for(let i of e.sortVisually(e.getNodesAtPoint(t,r)).reverse())if(i instanceof hi&&e.getParent(i.id)===jt){if(ht(i))continue;return i.id}return jt},h$=(e,t,o)=>{let i=e.tree.newId(),n={top:t.y,left:t.x,width:t.width,height:t.height,overflow:"clip",isScreen:!0};return n.framePreset=o,e.createFrame(jt,{id:i,...n}),i},g$=(e,t)=>{let o=e.tree,r=o.newId(),i={top:t.y,left:t.x,width:t.width,height:t.height,overflow:"clip",isScreen:!0};return e.createFrame(jt,{id:r,...i}),e.stores.scopeStore.active.getGroundNodes(a=>{let l=o.getRect(a);return a.id!==r&&oe.containsRect(t,l)}).forEach(a=>{let l=o.getParent(a.id),s=o.getRect(a),c=oe.offset(s,ge.reverse(t));e.moveNode(a.id,r),e.tree.current(a)?.set(a.updateForRect({rect:c,parentSizeInfo:{sizing:t,positioning:t,viewport:null,layout:kr(l)},constraintsLocked:OV(a),shouldGuessPinToBottom:!0,shouldGuessPinToRight:yr(e.tree,a,l)}))}),r},zV=["#9ef","#4cf","#3af","#38f","#26f"],y$=(()=>{let e=-1,t=zV.length;return()=>(e++,zV[e%t])})();function b$(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);if(!tC(r)&&!Xl(r)&&!(!r&&o.added==="RedirectRouteNode"))return!1}return!0}function BV(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);return!r||!pr(r)?!1:"variables"in o.from}return!0}function HV(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);if(!lr(r))return!1;let i="locales";return!!(i in o.from||o.from._deleted?.includes(i))}return!0}var GV=class extends Br{constructor(){super(...arguments);R(this,"active",0)}};var mE=qe("EngineChanges");var $V=class{constructor(){R(this,"changes",new Set);R(this,"addChanges",(...t)=>{for(let o of t)this.changes.add(o)});R(this,"changeObserverFlags",[]);R(this,"changeObservers",[]);R(this,"inSignalAllObservers",!1);R(this,"observersToRemove",[])}get flags(){return this.changes}has(...t){for(let o of t)if(this.changes.has(o))return!0;return!1}observe(...t){let o=t.pop(),r=t;return Nr.isDebugBuild&&r.some(i=>i===void 0)&&mE.warn("changes.observe was called with undefined as one of the flags. It might be caused by observing a store that hasn't been instantiated yet."),this.changeObserverFlags.push(r),this.changeObservers.push(o),o}observeWithComponent(t,o,r){this.changeObserverFlags.push(t);let i=()=>{Nr.benchmarkSkipRendering||o.setState(r())};return this.changeObservers.push(i),i}removeObserver(t){if(this.inSignalAllObservers){this.observersToRemove.push(t);return}let o=this.changeObservers.indexOf(t);o!==-1&&(this.changeObserverFlags.splice(o,1),this.changeObservers.splice(o,1))}signalAllObservers(){if(!this.changes)return;let t=this.changes,o=this.changeObserverFlags,r=this.changeObservers;this.inSignalAllObservers=!0;for(let i=0;i<o.length;i++){let n=o[i];for(let a of n)if(t.has(a)){r[i]();break}}if(this.inSignalAllObservers=!1,this.observersToRemove.length>0){for(let i of this.observersToRemove)this.removeObserver(i);this.observersToRemove.length=0}this.changes.clear()}signalObserversFor(...t){let o=new Set(t),r=this.changeObserverFlags,i=this.changeObservers;for(let n=0;n<r.length;n++){let a=r[n];for(let l of a)if(o.has(l)){i[n]();break}}o.forEach(n=>this.changes.delete(n))}};function mf(e){return e.userIsViewer?km:Nr.isAutomation||Nr.isTest?WI:e.acl.find(o=>o.user.id===e.userId)?.permissions??km}var Us=class{constructor(t){this.aclPermissions=t}get canDesign(){return this.aclPermissions.canDesign==="on"}get canEditContent(){return this.aclPermissions.canEditContent==="on"}get canPublish(){return this.aclPermissions.canPublish==="on"}get canEditSiteSettings(){return this.canDesign&&this.canEditContent&&this.canPublish}get canPublishToStaging(){return this.canDesign||this.canEditContent||this.canPublish}get canInviteCollaborators(){return this.canDesign||this.canEditContent||this.canPublish}get canEditVariables(){return this.canDesign}get canAddCollections(){return this.canDesign}get canEditAnalytics(){return this.canDesign||this.canEditContent}get canEditLocales(){return this.canDesign}get canEditLocalizedValues(){return this.canEditContent}get canSendDiffs(){return this.canDesign||this.canEditContent}},O$=Gy({canDesign:"Design",canEditContent:"Content",canPublish:"Deploy",canEditSiteSettings:"Design and Content and Deploy",canPublishToStaging:"Design or Content or Deploy",canInviteCollaborators:"Design or Content or Deploy",canEditVariables:"Design",canAddCollections:"Design",canEditAnalytics:"Design or Content",canEditLocales:"Design",canEditLocalizedValues:"Content",canSendDiffs:"Design or Content"});function z$(e){let t=mf(e);return new Us(t)}var ff=e=>[e.chromeStore,e.projectStore,e.sessionStore],bd=([e,t,o])=>({userIsViewer:e.userIsViewer,acl:t.acl,userId:o.user.id});function W$(e,t,o,{signal:r}){let i=ff(e),n=bd(i),a=t.changes.observe(...i,()=>{let l=bd(i);Qr(n,l)||(n=l,o(l))});r.addEventListener("abort",()=>{t.changes.removeObserver(a)},{once:!0})}function $$(){let e=RS();return C(hf(e),"Expected OnPageEngine"),e}function hf(e){return e.name==="OnPageEngine"}var _V=e=>[e.loadingStore,...ff(e)],gf=([e,...t])=>({isReady:e.isReady,...bd(t)});function fE(e,t){if(!e.isReady||e.userIsViewer)return!0;let o=mf(e);return!new Us(o)[t]}function Js(e,t){return ua(e)?fE(gf(_V(e.stores)),t):!hf(e)}function Z$(e,t,o,{signal:r}){let i=_V(e),n=gf(i),a=t.changes.observe(...i,()=>{let l=gf(i);Qr(n,l)||(n=l,o(l))});r.addEventListener("abort",()=>{t.changes.removeObserver(a)},{once:!0})}var jV=class extends Br{constructor(o,r){super();this.addChanges=o;this.effectsStore=r;R(this,"update",0);R(this,"tooltip");R(this,"shapeToolActive",!1);R(this,"feedbackModeActive",!1);R(this,"handle",null);R(this,"straightLineAnchorIndex",0);R(this,"proseMirrorView",null);R(this,"proseMirrorState",null);R(this,"textLink",null);R(this,"editedTextLink");R(this,"stackInsertionIndicator",null);R(this,"replaceableFloatingPositionNode",null);R(this,"activeTool",0);R(this,"nodeInTextEditorId",jt);R(this,"nodeInPathEditorOffset",null);R(this,"dragAndDropPlaceholders",null);R(this,"codeComponentInProgressInsertionIndicatorNodeIDs",new Set)}get tool(){return this.activeTool}postProcess(o){this.update=o}get isDefaultToolActive(){return this.tool===0||this.tool===1}updateDragAndDropPlaceholder(o){if(o){let r=o.cache.placeholders,i=r?{id:o.id,placeholders:r}:null;if(xr(i,this.dragAndDropPlaceholders))return;this.dragAndDropPlaceholders=i}else this.dragAndDropPlaceholders=null}setTool(o){Vc.canEditTree(o)&&o!==6&&this.effectsStore.exitPreview(),this.shapeToolActive=yE(o),CE(o)||(this.feedbackModeActive=!1),this.tool===6&&o!==6&&this.addChanges("ExitMove"),this.tool!==o&&this.addChanges("Tool"),this.activeTool=o}};function gE(e){switch(e){case 32:case 21:case 10:case 22:case 24:case 23:case 25:case 12:case 11:case 20:case 13:case 19:case 14:case 48:case 30:case 31:case 42:case 47:case 28:case 41:case 29:case 26:return!1;case 43:case 44:case 15:case 17:case 16:case 18:case 1:case 39:case 35:case 45:case 0:case 46:case 9:case 40:case 6:case 33:case 3:case 36:case 38:case 7:case 27:case 8:case 37:case 49:case 2:case 50:case 34:case 4:case 5:return!0;default:j(e)}}function yE(e){switch(e){case 32:case 43:case 44:case 21:case 10:case 22:case 24:case 23:case 25:case 12:case 11:case 20:case 13:case 19:case 14:case 48:case 1:case 39:case 35:case 45:case 0:case 46:case 42:case 47:case 40:case 6:case 33:case 3:case 38:case 7:case 27:case 28:case 29:case 30:case 31:case 8:case 37:case 49:case 2:case 41:case 26:case 50:case 34:case 4:case 5:return!1;case 15:case 17:case 16:case 18:case 9:case 36:return!0;default:j(e)}}function CE(e){switch(e){case 43:case 44:case 3:case 4:case 5:return!0;case 0:case 1:case 2:case 6:case 7:case 49:case 8:case 9:case 32:case 10:case 11:case 12:case 48:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 23:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 45:case 50:case 34:case 46:case 47:return!1;default:j(e)}}function n_(e){switch(e){case 4:case 5:return!0;case 0:case 1:case 2:case 3:case 6:case 7:case 49:case 8:case 9:case 32:case 10:case 11:case 12:case 48:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 23:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 50:case 34:case 46:case 47:return!1;default:j(e)}}function UV(e){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 43:case 44:case 50:case 47:return!0;case 7:case 49:case 8:case 9:case 32:case 10:case 11:case 12:case 48:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 23:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 45:case 34:case 46:return!1;default:j(e)}}function a_(e){switch(e){case 3:case 4:case 47:return!0;case 5:case 6:case 0:case 1:case 2:case 43:case 44:case 50:case 7:case 49:case 8:case 9:case 32:case 10:case 11:case 12:case 48:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 23:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 45:case 34:case 46:return!1;default:j(e)}}function JV(e){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 50:return!0;case 43:case 44:case 7:case 49:case 8:case 9:case 32:case 10:case 11:case 12:case 48:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 23:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 45:case 34:case 46:case 47:return!1;default:j(e)}}function s_(e,t){return e.stores.historyStore.isLoadingDocument?t===47:Js(e,"canDesign")?UV(t):e.stores.chromeStore.isPreviewingFeaturedTemplate?JV(t):!0}function l_(e,t){return t==="VectorSet"?gE(e):!(t==="WebPage"&&e===42)}function c_(e,t){if(Js(e,"canDesign")&&!UV(t))throw Error("Viewer mode: Tool "+t+" is a forbidden action.");if(e.stores.chromeStore.isPreviewingFeaturedTemplate&&!JV(t))throw Error("Previwing template mode: Tool "+t+" is a forbidden action.")}var d_=e=>e===20||e===21||e===22||e===24||e===23||e===25||e===19;function p_(e){return e===8||e===7||e===49||e===33||e===35}var SE={0:!0,1:!0,2:!0,3:!0,4:!0,6:!0,5:!0};function h_(e){return X(e)&&SE[e]===!0}var yf=new Map;function y_(e,t){yf.set(e,t)}function C_(e){yf.delete(e)}function XV(e){yf.get(e)?.()}var vE="__page_input";function TE(e){return`${vE}_${e}`}function Id(e){let t=TE(e);XV(t)}function ZV(e){return ne(e)||G(e)}function bE(e){if(e.length>=255)throw new TypeError("Alphabet too long");let t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){let d=e.charAt(c),u=d.charCodeAt(0);if(t[u]!==255)throw new TypeError(d+" is ambiguous");t[u]=c}let o=e.length,r=e.charAt(0),i=Math.log(o)/Math.log(256),n=Math.log(256)/Math.log(o);function a(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,u=0,f=0,y=c.length;for(;f!==y&&c[f]===0;)f++,d++;let v=(y-f)*n+1>>>0,b=new Uint8Array(v);for(;f!==y;){let A=c[f],M=0;for(let H=v-1;(A!==0||M<u)&&H!==-1;H--,M++)A+=256*b[H]>>>0,b[H]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");u=M,f++}let V=v-u;for(;V!==v&&b[V]===0;)V++;let L=r.repeat(d);for(;V<v;++V)L+=e.charAt(b[V]);return L}function l(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,u=0,f=0;for(;c[d]===r;)u++,d++;let y=(c.length-d)*i+1>>>0,v=new Uint8Array(y);for(;d<c.length;){let A=c.charCodeAt(d);if(A>255)return;let M=t[A];if(M===255)return;let H=0;for(let re=y-1;(M!==0||H<f)&&re!==-1;re--,H++)M+=o*v[re]>>>0,v[re]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");f=H,d++}let b=y-f;for(;b!==y&&v[b]===0;)b++;let V=new Uint8Array(u+(y-b)),L=u;for(;b!==y;)V[L++]=v[b++];return V}function s(c){let d=l(c);if(d)return d;throw new Error("Non-base"+o+" character")}return{encode:a,decodeUnsafe:l,decode:s}}var KV=bE;var Cf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",IE=KV(Cf),NE=8/Math.log2(62),V_=e=>IE.encode(e).padStart(Math.ceil(e.length*NE),"0"),Nd=(e=20)=>Array(e).fill(0).map(()=>Cf[Math.floor(Math.random()*Cf.length)]).join("");var xE=qe("update-tree-cache-for-vekter");function VE(e,t){return t?gy(t)?t.has(e):t===e:!0}var Sf=[];Object.freeze(Sf);var vf=[];Object.freeze(vf);function PE(e,t,o,r){return rt(e)?We(e)?r??o??et.identity():!o||!t?et.identity():et.boundingRectMatrix(o,t):o??et.identity()}function wE(e,t,o,r,i,n,a,l){let s=e.root,c=s.cache,d=s.getLocale(n);c.visible=!0,c.lockedByParent=!1,c.renderId=s.id,Vd(c);let u=s.children;for(let f of u)if(!(l&&!VE(f.id,l))){if(zr(f)){if(!f.isLoaded())continue;kE(e,f,s,t,o,r,i,d,a)}else Tf(e,f,s,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,Sf,vf,void 0,void 0,t,o,r,i,d,void 0,void 0,!1,a,void 0);Da(s,f)}return e}function oj(e,t){return wE(e.treeStore.tree,e.layoutCache,e.treeStore.sandboxCollectionData,e.treeStore.sandboxVisibility,O.activeBundleHash,e.chromeStore.canvasLocaleId,e.effectStore.getState(),t)}function kE(e,t,o,r,i,n,a,l,s){let c=t.cache;c.visible=!0,c.lockedByParent=!1,c.renderId=t.id,c.parentRenderId=o.id,Vd(c);let d=t.children,{combinedVariableValueMap:u,combinedVariableControlMap:f}=t.combineVariableValueAndControlMaps(e,void 0,void 0,O,i,a,l),y=G(t);for(let v of d)Tf(e,v,t,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,Sf,vf,u,f,r,i,n,a,l,void 0,void 0,!1,s,y),Da(t,v)}function Tf(e,t,o,r,i,n,a,l,s,c,d,u,f,y,v,b,V,L,A,M,H,re,le,be,se,Fe,Q,_e,Xe){let Z=t.cache,Rt=Z.activeVekterLocale;Z.activeVekterLocale=be;let{combinedVariableValueMap:lt,combinedVariableControlMap:Kt,combinedVariableMapsAreEqual:Do}=t.combineVariableValueAndControlMaps(e,L,A,O,H,le,be),Ho=bt(t),Xr=Ho?H.isEmpty(t.id):!1,[Zr,ct]=EE(e,t,o,a,l,M,H,re);Z.groundNodeAncestorId=se?.groundNodeId,Z.masterAncestorId=c,Z.replicaAncestorId=d,Z.overlayAncestorId=u,Z.formContainerAncestorId=y,Z.tickerAncestorId=v;let pe=i&&!!Zr,Lo=!se||et.equals(Z.groundNodeMatrix,se.groundNodeMatrix),Go=!Eo(t)||Z.layout===t.layout,vr=Rt===Z.activeVekterLocale,Kr=Wu(t,se),Gt=!!_e?.nodes.has(t.id),nr=Gt===Z.isEffectPreview&&xr(_e?.effectIds??null,Z.effectIds)&&(_e?.type??null)===Z.effectType&&Z.webPageEffect===Xe,bi=zu(t)||oe.equals(Z.viewportRect,Kr);r||=xe(t);let an=Go&&vr&&bi&&nr&&Do&&Z.insideVariant===r&&Z.visible===pe&&Z.collectionIsEmpty===Xr&&Z.lockedByParent===n&&Z.lastUpdate===t.update&&Z.parentDirected===Fe&&Z.parentDirectedRowHeightFitContent===Q&&tP(t.cache.getRenderInstance(t.id),Zr)&&FE(t.cache.secondaryRenderInstances,ct)&&dS(e,t)===Z.usesLayoutTemplateRectForModuleIdentifier;if(an&&Lo)return;Z.isEffectPreview=Gt,Z.effectIds=_e?.effectIds??null,Z.effectType=_e?.type??null,Z.webPageEffect=Xe,Z.ancestorRepeaterIds=b,Z.repeatedAncestorRepeaterIds=V;let Ii=!1;Ii&&Ii.cacheUpdated(),an?Z.canvasRect=void 0:(Ii&&Ii.cacheReset(),Z.reset(),Z.groundNodeAncestorId=se?.groundNodeId,Z.masterAncestorId=c,Z.replicaAncestorId=d,Z.overlayAncestorId=u,Z.slotPropertyAncestorId=f,Z.formContainerAncestorId=y,Z.tickerAncestorId=v,Z.activeVekterLocale=be,Z.visible=pe,Z.collectionIsEmpty=Xr,Z.insideVariant=r,Z.lockedByParent=n,Z.lastUpdate=t.update,Z.parentDirected=Fe,Z.parentDirectedRowHeightFitContent=Q,Z.viewportRect=Kr,Z.layout=Eo(t)?t.layout:void 0,Z.ancestorRepeaterIds=b,Z.repeatedAncestorRepeaterIds=V,Z.usesLayoutTemplateRectForModuleIdentifier=pa(t)?t.usesLayoutTemplateRectForModuleIdentifier():void 0,Zr&&(Z.renderId=t.id,Object.assign(Z,Zr)),Z.secondaryRenderInstances=ct);let{parentRectByRenderIdForChildren:$o,parentMatrixByRenderIdForChildren:oo,parentUsesDOMRectForChildren:Ya,groundNodeContextForChildren:Dg}=eP(e,t,s,se,M),Rl=t.children;if(!Rl)return;let Dl=Qt(t)?t.layout:void 0,Lg=zt(t)&&t.gridRowHeightType==="fit",Ll=c;!Ll&&sr(t)&&(Ll=t.id);let Fl=d;!Fl&&uo(t)&&(Fl=t.id);let Fg=xd(t,b);for(let ta of Rl){if(!Go)for(let[,El]of ta.cache.iterateRenderInstances())El.parentRect=void 0;let sn=Ho&&Sa(e,ta,t),Eg=sn&&Xr,Ni=Ho&&!sn,Ag=je.isOn("visibilityFromSandbox")?pe:sn?!Eg&&pe:pe;Tf(e,ta,t,r,Ag,Gr(t),$o,oo,Ya,Ll,Fl,rt(t)?t.id:u,ri(t)?t.id:f,No(t)?t.id:y,Ai(t)?t.id:v,Fg,sn?xd(t,V):V,Ni?L:lt,Ni?A:Kt,M,H,re,le,be,Dg,Dl,Lg,_e,Xe),Da(t,ta)}}function rj(e,t,o){let r=RE(e,o),i=e.root,n=i.cache;n.visible=!0,n.renderId=i.id,Vd(n);let a=i.children;for(let l of a){if(zr(l)){if(!l.isLoaded())continue;DE(e,l,i,t,r)}else bf(e,l,i,new Map,new Map,!1,t,r,void 0,!1,void 0);Da(i,l)}return r}function RE(e,t){let o=new Set,r=new Set;function i(a){r.has(a.id)||(o.add(a.id),r.add(a.id),a.children&&a.children.forEach(i))}function n(a){let l=a.id;for(;l&&!o.has(l);)o.add(l),l=e.getNode(l)?.parentid}for(let a of t){let l=e.getNode(a);l&&(n(l),l.children&&l.children.forEach(i))}return o}function xd(e,t){return bt(e)?t.length===0?[e.id]:[...t,e.id]:t}function DE(e,t,o,r,i){let n=t.cache;n.visible=!0,n.renderId=t.id,n.parentRenderId=o.id,Vd(n);let a=t.children;for(let l of a)bf(e,l,t,new Map,new Map,!1,r,i,void 0,!1,void 0),Da(t,l)}function bf(e,t,o,r,i,n,a,l,s,c,d){if(!l.has(t.id))return;let u=t.cache;if(u.parentDirected=s,u.parentDirectedRowHeightFitContent=c,u.viewportRect=Wu(t,d),!u.visible)return;for(let[M,H]of u.iterateRenderInstances()){let re=H.parentRenderId;C(re,"Missing `parentRenderId`"),H.parentRect=r.get(re),H.parentMatrix=i.get(re),H.parentDirectedRect=oP(t,M,o,a)}let{parentRectByRenderIdForChildren:f,parentMatrixByRenderIdForChildren:y,parentUsesDOMRectForChildren:v,groundNodeContextForChildren:b}=eP(e,t,n,d,a),V=t.children;if(!V)return;let L=Qt(t)?t.layout:void 0,A=zt(t)&&t.gridRowHeightType==="fit";for(let M of V)bf(e,M,t,f,y,v,a,l,L,A,b),Da(t,M)}function LE(e,t){if(!t||!ye(e)||!ve(e))return;let o=new Map;for(let[r,i]of t){let n=i.originX??pm*i.width,a=i.originY??pm*i.height,l=et.identity();Mv||(l=l.translate(e.left??0,e.top??0));let s=l.translate(n,a).multiplySelf(et.identity().translate(i.x,i.y).multiplySelf(i.matrix)).translateSelf(-n,-a),c=et.convertPointsWithClipping(s,oe.pointsAtOrigin({width:i.width,height:i.height}));o.set(r,{domRect:i,canvasCorners:c,canvasRect:oe.boundingRectFromPoints(c)})}return o}function eP(e,t,o,r,i){let n=t.cache,a=i.getRects(t.id);a&&(n.domRects=new Map(a));let l=pa(t)&&!!n.usesLayoutTemplateRectForModuleIdentifier;l&&(n.layoutTemplateRects=LE(t,i.getLayoutTemplateRects(t.id))),n.groundNodeMatrix=r?.groundNodeMatrix??null;let s=pa(t)&&t.usesDOMRectCached(),c=!(s||o),d=!!n.viewportRect||!zu(t),u,f=new Map,y=new Map;for(let[v,b]of n.iterateRenderInstances()){let{parentRect:V,parentMatrix:L,parentDirectedRect:A}=b,M=e.getParentSizeInfo(t,void 0,c,d,v),H=A??t.rect(M,c,void 0,v);f.set(v,H);let re=t.originAdjustedMatrix(M,H,v),le=PE(t,V,L,r?.groundNodeMatrix),be;try{be=le.multiply(re)}catch(_e){xE.reportErrorOncePerMinute(_e,{parentRect:V,frame:H,parentMatrix:le,transformMatrix:re}),be=new DOMMatrix}let se=ks(t)?be:et.flatProjectionMatrix(be);y.set(v,se),b.matrix=be;let Fe=e.convertCornerPointsToCanvas(t,!1,void 0,v);b.cornerPoints=Fe;let Q=oe.boundingRectFromPoints(Fe);if(b.canvasRect=Q,Yo(t)&&qo(t)&&t.strokeEnabled){let _e=t.resolveValue("strokeWidth")??0;Q=oe.inflate(Q,_e/2)}l?QV(b,n.getLayoutTemplateContainerRect()?.canvasRect??Q):QV(b,Q),jI(v)&&(u=r??ev(t,H,{groundNodeId:t.id,groundNodeMatrix:se}))}return{parentRectByRenderIdForChildren:f,parentMatrixByRenderIdForChildren:y,parentUsesDOMRectForChildren:s,groundNodeContextForChildren:u}}function YV(e,t,o){if(je.isOn("visibilityFromSandbox"))return o.getVisible(t);let r=rt(e)&&!e.cache.overlayVisible;return e.isVisible()&&!Ri(e)&&!r}function tP(e,t){return!e&&!t?!0:!e||!t?!1:oe.equals(e.parentRect??null,t.parentRect??null)&&et.equals(e.parentMatrix??null,t.parentMatrix??null)&&oe.equals(e.parentDirectedRect??null,t.parentDirectedRect??null)&&Qr(e.collectionItemIds,t.collectionItemIds)&&e.collectionItemId===t.collectionItemId}function FE(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;for(let[o,r]of t){let i=e.get(o);if(!tP(r,i))return!1}return!0}function qV(e,t,o,r,i,n,a,l,s){return{parentRenderId:r,parentRect:n.get(r),parentMatrix:a.get(r),parentDirectedRect:oP(e,t,o,l),matrix:void 0,canvasRect:void 0,cornerPoints:void 0,collectionItemIds:s.getItemIds(t),collectionItemId:i,minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}}function EE(e,t,o,r,i,n,a,l){let s=new Map;if(bt(o)&&Sa(e,t,o))for(let[u,f]of o.cache.iterateRenderInstances()){let y=f.collectionItemIds;if(y)for(let v=0;v<y.length;v++){let b=y[v];if(!b)continue;let V=UI(u,o.id,b,v),L=Rm(V,t.id);YV(t,L,l)&&s.set(L,qV(t,L,o,u,b??f.collectionItemId,r,i,n,a))}}else for(let[u,f]of o.cache.iterateRenderInstances()){let y=Rm(u,t.id);YV(t,y,l)&&s.set(y,qV(t,y,o,u,f.collectionItemId,r,i,n,a))}let c=s.get(t.id);s.delete(t.id);let d=s.size>0?s:void 0;return[c,d]}function Vd(e){e.minX=1/0,e.maxX=-1/0,e.minY=1/0,e.maxY=-1/0}function QV(e,t){e.minX=t.x,e.maxX=t.x+t.width,e.minY=t.y,e.maxY=t.y+t.height}function AE(e,t){e.minX>t.minX&&(e.minX=t.minX),e.maxX<t.maxX&&(e.maxX=t.maxX),e.minY>t.minY&&(e.minY=t.minY),e.maxY<t.maxY&&(e.maxY=t.maxY)}function Da(e,t){for(let[,o]of t.cache.iterateRenderInstances()){let r=o.parentRenderId;C(r,"Missing `parentRenderId`");let i=e.cache.getRenderInstance(r);i&&AE(i,o)}}function oP(e,t,o,r){if(Qt(o)&&Bi(e,o))return r.getRect(t)}function Xs(e,t){if(E(e))return e;let o=[];for(let r of e)o.push(t.get(r)??r);return o.length>0?o:void 0}function Ur(e,t){if(!no(t))return null;let o=e.getNode(t.originalid);return C(o,"The original variant node should exist"),o}function ME(e,t,o){let r=Le.inheritedReplicaNode(e,t.replicaInfo.inheritsFrom),i=vn(t.replicaInfo.overrides,r?.replicaInfo.overrides);for(let n of o.walk()){let a=i[n.id];if(!a)continue;let{_deleted:l,itemsOrder:s,...c}=a;l?.forEach(d=>c[d]=void 0),e.current(n)?.set(c)}}function rP(e,t){let o=e.getNode(t.originalid),r=Le.getReplicaForTemplateNode(e,t);if(!o||!r||!xe(r))return[];if(!r.replicaInfo.inheritsFrom)return[o];let i=e.getNode(r.replicaInfo.inheritsFrom);if(!i)return[o];let n=Zo(i.id,o.id),a=e.getNode(n);return a?[o,a]:[o]}function gj(e,t,o,r){let i=Le.getReplicaForTemplateNode(e.tree,t);C(i,"replica should exist when moving node out of replica"),C(xe(i),"replica must be a variant"),ME(e.tree,i,o),t.isVisible()&&!o.isVisible()&&e.tree.current(o)?.set({visible:!0}),r.delete(t.id),r.add(o.id)}function If(e,t,o,r,i){if(!o||!r)return t.id;C(ht(o),"Fail to update variant nodes: parent must be a replica");let n=Le.getReplicaForTemplateNode(e.tree,o);if(C(n,"Fail to update variant nodes: replica should exist"),C(xe(n),"Fail to update variant nodes: replica must be an variant"),vc(e.tree,o)){e.tree.current(t)?.set({visible:!1});let l={visible:!0};li(t)&&i&&(l.itemsOrder=Xs(t.itemsOrder,i)),Ws(e.tree,n,t.id,l)}return Zo(n.id,t.id)}function Nf(e,t,o,r,i,n){let a=If(e,t,o,r,n);return i.delete(t.id),i.add(a),a}function yj(e,t,o){let r=rP(e.tree,t),i=rP(e.tree,o),n=r.find((a,l)=>!a.isVisible()||a.cache.visible===!0?!1:i[l]?.cache.visible??!1);n&&(e.tree.get(n.id)?.set({visible:!1}),t.set({visible:!0},e.tree,!0))}function iP(e,t,o){Sc(e.tree,t).forEach(({replicaRoot:r})=>{if(Object.keys(r.replicaInfo.overrides).every(s=>!o.has(s)))return;let a={...r.replicaInfo},l={...a.overrides};a.overrides=l,o.forEach((s,c)=>{if(c in l){let d={...l[c]},u=d.itemsOrder;"itemsOrder"in d&&Array.isArray(u)&&(d.itemsOrder=Xs(u,o)),l[s]=DV(d)}}),e.tree.get(r.id)?.set({replicaInfo:a})})}var OE={type:{type:ts.type,value:du.type},variantId:{type:ts.variantId,value:void 0},pauseOffscreen:{type:ts.pauseOffscreen,value:du.pauseOffscreen}},Vj={type:"type",variantId:"variantId",pauseOffscreen:"pauseOffscreen"},zE={cycle:!0,set:!0};function nP(e){return k(e)&&e in zE}function Cr(e){return wi(e)&&e.actionIdentifier==="framer/useSetVariant"}function aP(e){return e.controls.type?.value!=="set"?null:e.controls.variantId?.value??null}function Pj(e){return Array.isArray(e)&&e.some(t=>Cr(t)&&t.controls.type?.value==="set"&&!t.controls.variantId?.value)}function wj(e,t){return JS(e,Cr,t)}function kj(e,t,o){let r=US(t,Cr,o),i=[];return r.forEach(n=>{switch(n.controls.type?.value){case"set":{let l=n.controls.variantId?.value;l&&i.push(l);break}case"cycle":{let l=e.getScopeNodeFor(t);if(!ne(l))return;let s=l.getTopLevelVariants();if(s.length<=1)return;let c=e.getGroundNodeFor(t),d=s.findIndex(v=>v.id===c.id);if(d===-1)return;let u=d+1,f=u>=s.length?0:u,y=s[f];y&&i.push(y.id);break}}}),i}function Rj(e){let t={};return Object.entries(e).forEach(([o,r])=>{t[o]=r?.value}),t}function WE(e,t){return!(e?.inputValue!==t?.inputValue||e?.delay!==t?.delay||e?.key!==t?.key)}function Dj(e,t,o){let r=Array.isArray(e)?[...e]:[],i=r.findIndex(Cr),n=r[i];if(Cr(n)&&WE(n.meta,o)){let a={...n.controls,...sP(t)},l={...n,controls:a,meta:{...n.meta,...o}};r[i]=l}else{let a=BE(t,void 0,o);r.push(a)}return r}function sP(e){let t={};return Object.entries(e).forEach(([o,r])=>{t[o]={type:ts[o],value:r}}),t}function BE(e,t,o){let r=sP({...e}),i={identifier:t||XS(),actionIdentifier:"framer/useSetVariant",controls:{...OE,...r}};return o&&Object.assign(i,{meta:o}),i}function Lj(e,t){let o={...e.controls,...t};return{...e,controls:o}}function lP(e,t){let o=t.get(e);return Zl(o)?o:null}function xf(e,t,o="transparent"){if(E(e))return o;if(!hn(e))return e;let r=DC(e);return(r?lP(r,t):null)?.light??o}function Mn(e,t,o,r=!1){if(fv(t)){e.has(t)||e.ensureEntityTypeRootNode(t);return}let i=r?kc(o):xs(o);if(e.has(i))return;let n=new Ns({id:i});e.insertNode(n,t)}function HE(e,t){let o=e.tree.get(t);if(nt(o))return;let r=e.tree.get(o.parentid);if(!nt(r))return r.children?.findIndex(i=>i.id===t)}function _j(e,t,o){let r=e.tree.getEntityReferenceNode(t);if(nt(r))return;let i=xs(o),n=new Ns({id:i}),a=HE(e,r.id),l=Uo(a)?a+1:void 0;e.tree.insertNode(n,r.parentid,l)}function jj(e,t){let o=e.tree.get(t);nt(o)||(e.tree.removeNode(o),GE(e,t))}function GE(e,t,o){let{isCodeFile:r=!1}=o??{},i=r?kc(t):xs(t);e.tree.remove(i)}function Pd(e,t){return e===bn?kc(t):xs(t)}function $E(e){return t=>Lr(t)&&t.name===e}function cP(e,t){return e.children.find($E(t))??null}function tU(e,t){return e.children.find(o=>Lr(o)&&o.getName()===t)??null}function oU(e,t){let r=UE(e.tree,t).map(a=>e.tree.get(a));C(r.length>0,"unreferenced nodes parent node must exist");let i=r.flatMap(a=>a?.children??[]);if(!i||i.length===0)return;let n=_E[t];e.tree.beginAllowPartialScopeAccess();for(let a of i){if(!n(a))continue;let l=Pd(t,a.id);if(e.tree.get(l))continue;let s=new Ns({id:l});e.tree.insertNode(s,t)}e.tree.endAllowPartialScopeAccess()}function dP(e){return Oc(e)&&e.save.type==="codeFile"}var _E={[_u]:e=>aC(e),[Uu]:e=>lC(e),[Xu]:e=>iC(e),[Zu]:e=>rC(e),[ju]:e=>sC(e)||nC(e)||ql(e),[bn]:e=>dP(e),[bs]:e=>ne(e)||dP(e),[Ju]:e=>Zl(e),[Is]:e=>Ee(e),[ga]:e=>vo(e)},jE={[_u]:xa,[Uu]:xa,[Xu]:xa,[Zu]:xa,[ju]:xa,[bn]:am,[Ju]:Tb};function UE(e,t){return t===Is||t===ga?[e.root.id]:t===bs?[e.root.id,am]:[jE[t]]}var JE="__entity_input";function rU(e,t){return`${JE}_${e}_${t?"popout":"panel"}`}function Vf(e){return mv(e)||Lr(e)}function iU(e,t,o){let r=o;for(let[i,n]of t.entries()){let a=i===t.length-1,l=e.getNode(r);if(!l||!Vf(l))return!1;let s=!1;for(let c of l.children){if(dC(c)&&n===c.getName())return!0;if(Lr(c)&&n===c.getName()){if(a)return!0;s=!0,r=c.id;break}}if(!s)return!1}return!1}function Pf(e){if(Lv(e))return nm(e.getName());let t=e.resolveValue("name");return Rc(e)&&t?nm(t):"Unknown"}function wd(e,t,o){let r=ft(t)?t:ZE(t);if(r.length===0)return o;let i=e.get(o);C(i&&Vf(i),"A reference must be in a folder.");for(let n of r){let a=cP(i,n);if(a){i=a;continue}i=e.insertNode(new Ib({name:n}),i.id)}return i.id}function vU(e,t){let o=e.tree.get(t);if(!Lr(o))return"";let r=[o.name];for(let i of o.ancestors()){if(!Lr(i))break;r.unshift(i.name)}return`/${r.join("/")}`}function XE(e,t,o){let r=e.tree.get(t);C(r,"Node must exist");let i=Pd(o,t),n=e.tree.get(i),a=[Pf(r)];if(n)for(let l of n.ancestors()){if(!Lr(l))break;a.unshift(Pf(l))}return a}function TU(e,t,o){return`/${XE(e,t,o).join("/")}`}function ZE(e){return im(e).slice(0,-1)}function bU(e,t,o,r){let i=im(o);if(i.length===0)return;let n=i.pop(),a=wd(e.tree,o,r),l=r===bn;return Mn(e.tree,a,t.id,l),t.set({name:n}),a}function La(e){return cs(e)}function pP(e,t){if(!To(t))return!1;let o=$u(t.codeComponentIdentifier);if(!o)return!1;let r=e.getNode(o);return!!(r&&G(r))}function RU(e,t){let o=$u(t.codeComponentIdentifier);C(o,"WebPageInstance should have a local canvas component id");let r=e.getNode(o);return C(r,"SmartComponentInstance should have a local WebPageNode"),C(G(r),"WebPageInstance its WebPageNode should be a web page"),r}var Zs=(e,t)=>e.length===0?[]:typeof e[0]=="string"?t.withoutDescendants(t.getNodes(e)):e;function kd(e,t){let o=t.reactComponentForIdentifier(e.codeComponentIdentifier);return o?Qv(o.properties,e.getControlProps(o.properties)):{}}var KE={type:"None",source:"undefined"},uP=class extends Br{constructor(){super(...arguments);R(this,"_stack",[]);R(this,"dismiss",()=>{this._stack=Ir.pop(this._stack)});R(this,"isVisible",()=>this.active.type!=="None");R(this,"shouldBlockUndoRedo",(o,r)=>{switch(this.active.type){case"None":return!1;case"Variables":return!BV(o,r);case"LocaleSettings":return!HV(o,r);default:return!0}})}get stack(){return this._stack}get active(){return this._stack[this._stack.length-1]??KE}trackModalOpen({type:o,source:r}){Ct("modal_open",{modalType:o,source:r})}push(o){this._stack=Ir.push(this._stack,o),this.trackModalOpen(o)}set(o){this._stack=[o],this.trackModalOpen(o)}dismissAll(){this._stack.length!==0&&(this._stack=[])}dismissModal(o){this._stack=Ir.filter(this._stack,r=>r.type!==o)}displayComponentIsolationModal({source:o}){let r="componentIsolationModal",i="1";Nr.isAutomation||Nr.isE2E||Nr.isTest||localStorage.getItem(r)!==i&&(localStorage.setItem(r,i),setTimeout(()=>{this.scheduler.processWhenReady(()=>{this.set({type:"ComponentIsolationModal",source:o})})},0))}};function fP(e){if(k(e))return[e];if("id"in e)return[e.id];let t=[];for(let o of e)k(o)?t.push(o):t.push(o.id);return t}function Ks(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let o=new Set(e);for(let r of t)if(!o.has(r))return!1;return!0}var hP=class extends Br{constructor(o,r,i){super();this.guides=o;this.chromeStore=r;this.overlayStore=i;R(this,"_previousIds",[]);R(this,"_ids",[]);R(this,"_nodes",[]);R(this,"_isSticky",!1);R(this,"_commonGroundNode");R(this,"gradientStopId")}get ids(){return this._ids}get nodes(){return this._nodes}get isSticky(){return this._isSticky}get commonGroundNode(){return this._commonGroundNode}get commonGroundNodeId(){return this._commonGroundNode?.id??null}get previousIds(){return this._previousIds}set(o,r={}){let i=fP(o);if(Ks(this._ids,i))return;this._previousIds=this._ids,this._ids=i,this._isSticky=r.sticky??i.length>1,i.length>0&&this.guides.clearSelected();let{switchToLayers:a=!1,tree:l}=r;this.chromeStore.onCanvasSelectionChange(i,a),this.overlayStore.onCanvasSelectionChange(i,{tree:l})}toggle(o,{switchToLayers:r=!1}={}){let i=fP(o),n=new Set(this.ids);for(let a of i)n.has(a)?n.delete(a):n.add(a);this._ids=Array.from(n),this.chromeStore.onCanvasSelectionChange(this.ids,r),this.overlayStore.onCanvasSelectionChange(n,{toggle:!0})}clear(){this.set([])}updateNodes(o){let r=o.getNodes(this.ids),i=!pn(this.nodes,r);i&&(this._nodes=r),(i||this.commonGroundNode&&!o.isGroundNode(this.commonGroundNode))&&this.updateCommonGroundNode(o)}updateCommonGroundNode(o){let r;for(let i of this.nodes){let n=o.getGroundNodeFor(i);if(!r)r=n;else if(r!==n){r=void 0;break}}this._commonGroundNode=r}postProcess(o,r,i,n=this.gradientStopId,a=this._ids){this.gradientStopId=n;let l=[];for(let s of a){let c=o.getNode(s);if(c){o.isAncestorOfNode(c,r.id)&&l.push(s);continue}let d=i.getNode(s);if(!dr(d))continue;let u=o.getNode(d.parentid);if(Jt(u)){l.splice(0,l.length,u.id);break}}this.set(l,{tree:o}),this.updateNodes(o)}};function YE(e){let t=O.componentForIdentifier(e.codeComponentIdentifier);if(!t?.properties)return null;let o=Object.entries(t.properties).find(([,a])=>a&&a.title==="Variant"&&a.type==="enum");if(!o)return null;let[r,i]=o;if(i.options.length<=1)return null;let n=i.defaultValue??i.options[0];return k(n)?{key:r,control:i,defaultVariant:n}:null}function qE(e,{control:t}){let o=e.toLowerCase().trim(),i=(t.optionTitles??t.options).findIndex(a=>k(a)&&a.toLowerCase()===o);if(i===-1)return null;let n=t.options[i];return k(n)?n:null}function gP(e,t,o){let r={};for(let i of o.walk()){if(!_(i))continue;let n=YE(i);if(!n)continue;let a=qE(t,n);if(!a)continue;let l=i;if(Vt(i)&&(l=e.tree.getNode(i.originalid)),!l||(l.getRawControlProp(n.key)??n.defaultVariant)===a)continue;let c={type:"enum",value:a};r[l.id]={[pt(n.key)]:c}}return Object.keys(r).length>0?r:null}var yP=["blur","backgroundBlur","brightness","contrast","grayscale","hueRotate","invert","saturate","sepia"];var Rd={left:"position",right:"position",top:"position",bottom:"position",centerAnchorX:"position",centerAnchorY:"position",constraintsLocked:"position",x:"position",y:"position",width:"size",widthType:"size",height:"size",heightType:"size",aspectRatio:"size",itemsOrder:"itemsOrder",layout:"layout",gap:"layout",gridAlignment:"layout",gridColumnCount:"layout",gridColumnWidthType:"layout",gridColumnWidth:"layout",gridColumnMinWidth:"layout",gridRowHeightType:"layout",gridRowHeight:"layout",gridRowCount:"layout",stackDirection:"layout",stackDistribution:"layout",stackAlignment:"layout",stackWrapEnabled:"layout",gridType:"layout",gridItemFillCellWidth:"size",gridItemFillCellHeight:"size",gridItemHorizontalAlignment:"position",gridItemVerticalAlignment:"position",gridItemColumnSpan:"size",gridItemRowSpan:"size",minHeight:"sizeConstraints",minWidth:"sizeConstraints",maxHeight:"sizeConstraints",maxWidth:"sizeConstraints",paragraphSpacing:"paragraphSpacing",position:"positionType",positionStickyTop:"positionType",positionStickyRight:"positionType",positionStickyBottom:"positionType",positionStickyLeft:"positionType",intrinsicWidth:"intrinsicSize",intrinsicHeight:"intrinsicSize",fillColor:"fill",fillEnabled:"fill",fillImage:"fill",fillImageOriginalName:"fill",fillImagePixelHeight:"fill",fillImagePixelWidth:"fill",fillImageResize:"fill",fillImagePositionX:"fill",fillImagePositionY:"fill",fillImageTileSize:"fill",fillType:"fill",fillRadialGradient:"fill",fillLinearGradient:"fill",fillConicGradient:"fill",tapHighlightColor:"tapHighlight",textSelection:"textSelection",masks:"mask",radius:"radius",radiusBottomLeft:"radius",radiusBottomRight:"radius",radiusIsRelative:"radius",radiusPerCorner:"radius",radiusTopLeft:"radius",radiusTopRight:"radius",borderTop:"border",borderBottom:"border",borderLeft:"border",borderRight:"border",borderEnabled:"border",borderWidth:"border",borderStyle:"border",borderColor:"border",borderPerSide:"border",rotation:"rotation",rotate3d:"rotation",rotateX:"rotation",rotateY:"rotation",blendingMode:"blending",opacity:"opacity",backgroundBlur:"backgroundBlur",overflow:"overflow",overflowY:"overflowY",overflowX:"overflowX",overscrollBehavior:"overscroll",visible:"visibility",brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hueRotate",invert:"invert",saturate:"saturate",sepia:"sepia",blur:"blur",boxShadows:"shadows",shadows:"shadows",guidesX:"canvasSettings",guidesY:"canvasSettings",exportOptions:"canvasSettings",overlayGrid:"canvasSettings",gesture:"canvasSettings",sizeToFit:"canvasSettings",framePreset:"canvasSettings",isVariant:"canvasSettings",onTap:"action",onTapStart:"action",onClick:"action",onMouseUp:"action",onMouseDown:"action",onMouseEnter:"action",onMouseLeave:"action",onAppear:"action",onKeyDown:"action",padding:"padding",paddingPerSide:"padding",paddingTop:"padding",paddingRight:"padding",paddingBottom:"padding",paddingLeft:"padding",name:"name",strokeEnabled:"stroke",strokeAlignment:"stroke",strokeWidth:"stroke",strokeColor:"stroke",lineJoin:"stroke",lineCap:"stroke",strokeMiterLimit:"stroke",strokeDashArray:"stroke",strokeDashOffset:"stroke",html:"richText",htmlLocalized:"richText",htmlContent:"richText",textFitScale:"richText",textFitViewBoxSize:"richText",textFitViewBoxSizeLocalized:"richText",stylePresetHeading1:"stylePresets",stylePresetHeading2:"stylePresets",stylePresetHeading3:"stylePresets",stylePresetHeading4:"stylePresets",stylePresetHeading5:"stylePresets",stylePresetHeading6:"stylePresets",stylePresetParagraph:"stylePresets",stylePresetLink:"stylePresets",stylePresetAnchorLink:"stylePresets",stylePresetBlockquote:"stylePresets",stylePresetTable:"stylePresets",stylePresetInlineCode:"stylePresets",stylePresetImage:"stylePresets",anchorLinkOffsetY:"anchorLinkOffsetY",styledText:"styledText",getStyledText:"styledText",font:"font",rootFontSize:"rootFontSize",textColor:"textColor",textBackgroundColor:"textBackgroundColor",textBackgroundRadius:"textBackgroundRadius",textBackgroundPadding:"textBackgroundPadding",fontSize:"fontSize",letterSpacing:"letterSpacing",textTransform:"textTransform",textDecoration:"textDecoration",textDecorationColor:"textDecoration",textDecorationThickness:"textDecoration",textDecorationStyle:"textDecoration",textDecorationSkipInk:"textDecoration",textDecorationOffset:"textDecoration",lineHeight:"lineHeight",textAlignment:"textAlignment",textStrokeWidth:"textStroke",textStrokeColor:"textStroke",textWrapBalance:"textWrapBalance",openTypeFontFeatures:"openTypeFontFeatures",link:"link",linkOpenInNewTab:"link",linkSmoothScroll:"link",linkClickTrackingId:"link",linkLocalized:"link",linkRelValues:"link",linkPreserveParams:"link",getLink:"link",linkFont:"linkStyle",linkTextColor:"linkStyle",linkFontSize:"linkStyle",linkTextTransform:"linkStyle",linkTextDecoration:"linkStyle",linkTextDecorationColor:"linkStyle",linkTextDecorationThickness:"linkStyle",linkTextDecorationStyle:"linkStyle",linkTextDecorationSkipInk:"linkStyle",linkTextDecorationOffset:"linkStyle",linkTextBackgroundColor:"linkStyle",linkTextBackgroundRadius:"linkStyle",linkTextBackgroundPadding:"linkStyle",linkHoverFont:"linkStyle",linkHoverTextColor:"linkStyle",linkHoverFontSize:"linkStyle",linkHoverTextTransform:"linkStyle",linkHoverTextDecoration:"linkStyle",linkHoverTextDecorationColor:"linkStyle",linkHoverTextDecorationThickness:"linkStyle",linkHoverTextDecorationStyle:"linkStyle",linkHoverTextDecorationSkipInk:"linkStyle",linkHoverTextDecorationOffset:"linkStyle",linkHoverTextBackgroundColor:"linkStyle",linkHoverTextBackgroundRadius:"linkStyle",linkHoverTextBackgroundPadding:"linkStyle",linkCurrentFont:"linkStyle",linkCurrentTextColor:"linkStyle",linkCurrentFontSize:"linkStyle",linkCurrentTextTransform:"linkStyle",linkCurrentTextDecoration:"linkStyle",linkCurrentTextDecorationColor:"linkStyle",linkCurrentTextDecorationThickness:"linkStyle",linkCurrentTextDecorationStyle:"linkStyle",linkCurrentTextDecorationSkipInk:"linkStyle",linkCurrentTextDecorationOffset:"linkStyle",linkCurrentTextBackgroundColor:"linkStyle",linkCurrentTextBackgroundRadius:"linkStyle",linkCurrentTextBackgroundPadding:"linkStyle",textContent:"textContent",textVerticalAlignment:"textVerticalAlignment",variantTransition:"transition",pathSegments:"vectorPath",pathClosed:"vectorPath",spikeCount:"vectorPath",spikeDepth:"vectorPath",polygonSides:"vectorPath",elementId:"scrollTarget",scrollMarginTop:"scrollTarget",scrollTargetEnabled:"scrollTarget",altAttribute:"accessibility",altAttributeLocalized:"accessibility",cursor:"cursor",customCursorSmartComponentId:"customCursor",customCursorFollow:"customCursor",customCursorOffsetX:"customCursor",customCursorOffsetY:"customCursor",customCursorVariant:"customCursor",customCursorType:"customCursor",customCursorTransitionEnabled:"customCursor",customCursorTransition:"customCursor",customCursorPlacement:"customCursor",customCursorAlignment:"customCursor",pointerEvents:"pointerEvents",userSelect:"userSelect",zIndex:"zIndex",draggable:"draggable",imageRendering:"imageRendering",viewportHeight:"canvasSettings",isBreakpoint:"canvasSettings",backdropFill:"overlay",backdropFillEnabled:"overlay",backdropDismissible:"overlay",blockDocumentScrolling:"overlay",backdropExitTransition:"overlayTransition",backdropEnterTransition:"overlayTransition",backdropTransitionLocked:"overlayTransition",hideScrollbars:"scrollbars",customizations:"customizations",customizationsDescription:"customizations",customizationsSectionId:"customizations",customizationsCategory:"customizations",customizationsRules:"customizations",isApplyingCustomizations:"customizations",translateZ:"translateZ",scale:"scale",skewX:"skew",skewY:"skew",backfaceVisibility:"backfaceVisibility",perspective:"perspective",transformStylePreserve3d:"transformStylePreserve3d",transformOriginX:"transformOrigin",transformOriginY:"transformOrigin",transition:"transition",formInputFontSize:"formInputFont",formInputFontFamily:"formInputFont",formInputFontSelector:"formInputFont",formInputFontWeight:"formInputFont",formInputFontStyle:"formInputFont",formInputPlaceholderColor:"formPlaceholderColor",formInputFontColor:"formInputColor",formInputFontLetterSpacing:"formInputFont",formInputFontLetterSpacingUnit:"formInputFont",formInputFontLineHeight:"formInputFont",formInputFontLineHeightUnit:"formInputFont",formInputFontTextAlignment:"formInputFont",formInputOpenTypeFontFeatures:"formInputFont",formTextInputType:"formTextInputType",formTextAreaResizable:"formInputTextAreaResize",formTextInputMinNumber:"formTextInputTypeMin",formTextInputMaxNumber:"formTextInputTypeMax",formInputMaxLength:"formInputMaxLength",formInputStep:"formInputStep",formBooleanInputType:"formBooleanInputType",formBooleanInputValue:"formBooleanInputValue",formBooleanInputCheckedBorderColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderWidth:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderStyle:"formBooleanInputCheckedEffect",formBooleanInputCheckedBoxShadow:"formBooleanInputCheckedEffect",formBooleanInputCheckedFillColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedTransition:"formBooleanInputCheckedEffect",formInputFocusedBackgroundColor:"formInputFocusedFill",formInputFocusedBorderColor:"formInputFocusedBorder",formInputFocusedBorderStyle:"formInputFocusedBorder",formInputFocusedBorderWidth:"formInputFocusedBorder",formInputFocusedBoxShadow:"formInputFocusedBoxShadow",formInputFocusedTransition:"formInputFocusedTransition",formInputInvalidTextColor:"formInputInvalidTextColor",formInputIconImage:"formInputIcon",formInputIconColor:"formInputIcon",viewTransitionNone:"viewTransitionNone"};function nJ(e){let t=[],o;for(o in Rd){let r=Rd[o];e.includes(r)&&t.push(o)}return t}function CP(e,t){let o=O.componentForIdentifier(t.codeComponentIdentifier);if(!o?.properties)return{};let r={};return Object.entries(o.properties).forEach(([i,n])=>{if(!n||Xo(t)&&n.type==="slot")return;let a=pt(i),l=e[a];Bl(l)&&l.type&&mS(n.type,l.type)&&(n.type==="enum"&&!Jy(n,l.value)||(r[a]=l))}),r}function Y(e,t){return t?new Set(ft(t)?t:[t]).has(e):!0}function Dd(e,t,o,r,i,n){let a=e.getScopeNodeFor(o);function l(c){return!U(c)||a&&pr(a)&&a.hasVariable(c.id)?c:i?.[c.id]??c}let s={};if(ov(e,o)||Ue(t)&&(t.widthType===4&&(s.widthType=1),t.heightType===4&&(s.heightType=1)),Y("visibility",n)&&hr(t)&&hr(o)&&(s.visible=l(t.visible)),Y("border",n)&&ci(t)&&ci(o)&&(s.borderEnabled=t.borderEnabled,s.borderWidth=t.borderWidth,s.borderColor=t.borderColor,s.borderStyle=t.borderStyle,s.borderPerSide=t.borderPerSide,s.borderLeft=t.borderLeft,s.borderTop=t.borderTop,s.borderRight=t.borderRight,s.borderBottom=t.borderBottom),Y("border",n)&&ci(t)&&qo(o))if(W(t.borderEnabled)){let c=t.resolveValue("borderEnabled");jy(c)?(s.strokeEnabled=!0,s.strokeWidth=c.borderWidth,s.strokeColor=c.borderColor):s.strokeEnabled=!1}else s.strokeEnabled=t.borderEnabled,s.strokeWidth=t.borderWidth,s.strokeColor=t.borderColor;if(Y("stroke",n)&&qo(t)&&qo(o)&&(s.strokeEnabled=t.strokeEnabled,s.strokeColor=t.strokeColor,s.strokeWidth=t.strokeWidth,s.strokeAlignment=t.strokeAlignment,s.lineJoin=t.lineJoin,s.lineCap=t.lineCap,s.strokeMiterLimit=t.strokeMiterLimit,s.strokeDashArray=t.strokeDashArray,s.strokeDashOffset=t.strokeDashOffset),Y("stroke",n)&&qo(t)&&ci(o)&&(s.borderEnabled=t.strokeEnabled,s.borderWidth=t.resolveValue("strokeWidth"),s.borderColor=t.resolveValue("strokeColor")),Y("formInputTextAreaResize",n)&&xC(t)&&(s.formTextAreaResizable=t.formTextAreaResizable),Y("formInputFocusedFill",n)&&si(t)&&si(o)&&(s.formInputFocusedBackgroundColor=t.formInputFocusedBackgroundColor),Y("formInputFocusedBorder",n)&&si(t)&&si(o)&&(s.formInputFocusedBorderColor=t.formInputFocusedBorderColor,s.formInputFocusedBorderWidth=t.formInputFocusedBorderWidth,s.formInputFocusedBorderStyle=t.formInputFocusedBorderStyle),Y("formInputFocusedBoxShadow",n)&&si(t)&&si(o)&&(s.formInputFocusedBoxShadow=t.formInputFocusedBoxShadow?[...t.formInputFocusedBoxShadow]:void 0),Y("formInputFocusedTransition",n)&&si(t)&&si(o)&&(s.formInputFocusedTransition=t.formInputFocusedTransition),Y("formInputColor",n)&&Rn(t)&&Rn(o)&&(s.formInputFontColor=t.formInputFontColor),Y("formPlaceholderColor",n)&&Nm(t)&&Nm(o)&&(s.formInputPlaceholderColor=t.formInputPlaceholderColor),Y("formInputPadding",n)&&Io(t)&&Io(o)&&(s.padding=t.padding,s.paddingPerSide=t.paddingPerSide,s.paddingTop=t.paddingTop,s.paddingRight=t.paddingRight,s.paddingBottom=t.paddingBottom,s.paddingLeft=t.paddingLeft),Y("shadows",n)&&fn(t)&&fn(o)){let c=l(t.boxShadows);kC(o)?s.boxShadows=c:W(c)||(s.boxShadows=c?.filter(d=>d.type!=="realistic"))}if(Y("shadows",n)&&Vu(t)&&Vu(o)&&(s.shadows=t.shadows),Y("rotation",n)&&Ko(t)&&Ko(o)&&(s.rotation=t.rotation,to(o)&&to(t)&&(s.rotate3d=t.rotate3d,s.rotateX=t.rotateX,s.rotateY=t.rotateY)),Y("overflow",n)&&Ao(t)&&Ao(o)&&(s.overflow=l(t.overflow)),Y("overscroll",n)&&ds(t)&&ds(o)&&(s.overscrollBehavior=l(t.overscrollBehavior)),Y("cursor",n)&&yn(t)&&yn(o)&&(s.cursor=l(t.cursor)),Y("customCursor",n)&&yn(t)&&yn(o)&&(s.customCursorType=t.customCursorType,s.customCursorSmartComponentId=t.customCursorSmartComponentId,s.customCursorVariant=t.customCursorVariant,s.customCursorFollow=t.customCursorFollow,s.customCursorOffsetX=t.customCursorOffsetX,s.customCursorOffsetY=t.customCursorOffsetY,s.customCursorTransitionEnabled=t.customCursorTransitionEnabled,s.customCursorTransition=t.customCursorTransition,s.customCursorPlacement=t.customCursorPlacement,s.customCursorAlignment=t.customCursorAlignment),Ps(t)&&Ps(o))for(let c of yP){let d=Rd[c];Y(d,n)&&(s[c]=l(t[c]))}if(Y("blending",n)&&Tu(t)&&Tu(o)&&(s.blendingMode=l(t.blendingMode)),Y("transition",n)&&Rs(t)&&Rs(o)){let c=xe(t)?t.variantTransition:t.transition;xe(o)?s.variantTransition=c:s.transition=c}if(Y("fill",n)&&Mo(t)&&Mo(o)){s.fillColor=l(t.fillColor),s.fillType=t.fillType,s.fillLinearGradient=t.fillLinearGradient,s.fillRadialGradient=t.fillRadialGradient,s.fillConicGradient=t.fillConicGradient,s.fillType==="conic-gradient"&&!JC(o)&&(s.fillType=o.fillType??"color");let c=l(t.fillImage);W(c)?W(c)&&o.supportsDynamicValues()&&(s.fillImage=c):s.fillImage=c,s.fillImageResize=t.fillImageResize,s.fillImagePixelWidth=t.fillImagePixelWidth,s.fillImagePixelHeight=t.fillImagePixelHeight,s.fillImagePositionX=t.fillImagePositionX,s.fillImagePositionY=t.fillImagePositionY,s.fillImageTileSize=t.fillImageTileSize}if(Y("fill",n)&&Jo(t)&&Jo(o)&&(s.fillEnabled=t.fillEnabled),(Y("size",n)||Y("fill",n))&&Ue(t)&&Ue(o)){let c=s.fillType??(Mo(o)?o.fillType:void 0),d=s.heightType??o.heightType;(s.widthType??o.widthType)===5&&c!=="image"&&(s.width=o.rect().width,s.widthType=0),d===5&&c!=="image"&&(s.height=o.rect().height,s.heightType=0)}if(Y("opacity",n)&&dm(t)&&dm(o)&&(s.opacity=l(t.opacity)),Y("radius",n)&&Wr(t)&&Wr(o)&&(s.radius=l(t.radius),Qu(t)&&Qu(o)&&(s.radiusIsRelative=t.radiusIsRelative),ai(t)&&ai(o)&&(s.radiusPerCorner=t.radiusPerCorner,s.radiusBottomLeft=t.radiusBottomLeft,s.radiusBottomRight=t.radiusBottomRight,s.radiusTopLeft=t.radiusTopLeft,s.radiusTopRight=t.radiusTopRight)),Y("pointerEvents",n)&&Iu(t)&&Iu(o)&&!dt(a)&&(s.pointerEvents=l(t.pointerEvents)),Y("draggable",n)&&ws(t)&&ws(o)&&(s.draggable=l(t.draggable)),Y("userSelect",n)&&ps(t)&&ps(o)&&(s.userSelect=l(t.userSelect)),Y("imageRendering",n)&&bu(t)&&bu(o)&&(s.imageRendering=l(t.imageRendering)),Y("overflowX",n)&&Ao(t)&&Ao(o)&&(s.overflowX=l(t.overflowX)),Y("overflowY",n)&&Ao(t)&&Ao(o)&&(s.overflowY=l(t.overflowY)),Y("zIndex",n)&&Au(t)&&Au(o)&&(s.zIndex=l(t.zIndex)),Y("scrollbars",n)&&Ms(t)&&Ms(o)&&(s.hideScrollbars=l(t.hideScrollbars)),Y("textVerticalAlignment",n)&&Os(t)&&Os(o)&&(s.textVerticalAlignment=t.textVerticalAlignment),Y("textWrapBalance",n)&&tm(t)&&tm(o)&&(s.textWrapBalance=t.textWrapBalance),Y("styledText",n)&&Oe(t)&&fc(o)){s.font=t.getFonts(!1)[0],s.textColor=t.getTextColors(!1)[0];let c=t.getFontSizes(!1)[0];s.fontSize=Mi(c)?c[0]:c;let d=t.getLetterSpacings(!1)[0];s.letterSpacing=E(d)?d:QC(d),s.textTransform=t.getTextTransforms(!1)[0],s.textDecoration=t.getTextDecorations(!1)[0],s.lineHeight=t.getLineHeights(!1)[0],s.textAlignment=t.getTextAlignments(!1)[0],s.styledText=o.styledText.setFont(void 0,!1).setTextColor(void 0,!1).setFontSize(void 0,!1).setLetterSpacing(void 0,!1).setTextTransform(void 0,!1).setTextDecoration(void 0,!1).setLineHeight(void 0).setTextAlignment(void 0)}if(Y("link",n)&&Oe(t)&&Oe(o)&&(s.linkFont=t.linkFont,s.linkTextColor=t.linkTextColor,s.linkFontSize=t.linkFontSize,s.linkTextTransform=t.linkTextTransform,s.linkTextDecoration=t.linkTextDecoration,s.linkHoverFont=t.linkHoverFont,s.linkHoverTextColor=t.linkHoverTextColor,s.linkHoverFontSize=t.linkHoverFontSize,s.linkHoverTextTransform=t.linkHoverTextTransform,s.linkHoverTextDecoration=t.linkHoverTextDecoration,s.linkCurrentFont=t.linkCurrentFont,s.linkCurrentTextColor=t.linkCurrentTextColor,s.linkCurrentFontSize=t.linkCurrentFontSize,s.linkCurrentTextTransform=t.linkCurrentTextTransform,s.linkCurrentTextDecoration=t.linkCurrentTextDecoration),Y("mask",n)&&Yu(t)&&Yu(o)&&(s.masks=t.masks),De(t)&&De(o)){if(Y("fontSize",n)&&(s.textFitScale=t.textFitScale,s.textFitViewBoxSize=t.textFitViewBoxSize),Y("paragraphSpacing",n)&&(s.paragraphSpacing=t.paragraphSpacing),Y("styledText",n)){let c=t.getTextStrokeWidths(!1)[0],d=t.getTextStrokeColors(!1)[0];E(c)||(s.textStrokeWidth=c),d&&(s.textStrokeColor=d)}if(Y("richText",n))for(let c of rI){let d=t[c];e.has(d)&&(s[c]=d)}}if(Y("codeComponentProps",n)&&To(t)&&To(o)){let c=CP(t,o);Object.assign(s,c)}if(Y("codeOverride",n)&&Oi(t)&&Oi(o)&&(s.codeOverrideEnabled=t.codeOverrideEnabled,s.codeOverrideIdentifier=t.codeOverrideIdentifier),Y("formInputFont",n)&&Rn(t)&&Rn(o)&&(s.formInputFontFamily=t.formInputFontFamily,s.formInputFontWeight=t.formInputFontWeight,s.formInputFontStyle=t.formInputFontStyle,s.formInputFontSize=t.formInputFontSize,s.formInputFontSelector=t.formInputFontSelector,s.formInputFontLetterSpacing=t.formInputFontLetterSpacing,s.formInputFontLetterSpacingUnit=t.formInputFontLetterSpacingUnit,s.formInputFontLineHeight=t.formInputFontLineHeight,s.formInputFontLineHeightUnit=t.formInputFontLineHeightUnit,s.formInputFontTextAlignment=t.formInputFontTextAlignment,s.formInputOpenTypeFontFeatures=t.formInputOpenTypeFontFeatures),Y("layout",n)&&Pe(o)){let c=cr(t),d=Qy(t);(c||d)&&(no(o)||(s.layout=t.layout),s.gap=t.gap,s.padding=t.padding,s.paddingPerSide=t.paddingPerSide,s.paddingTop=t.paddingTop,s.paddingRight=t.paddingRight,s.paddingBottom=t.paddingBottom,s.paddingLeft=t.paddingLeft,c&&(s.stackDirection=t.stackDirection,s.stackDistribution=t.stackDistribution,s.stackAlignment=t.stackAlignment),d&&(s.gridAlignment=t.gridAlignment,s.gridColumnCount=t.gridColumnCount,s.gridColumnWidthType=t.gridColumnWidthType,s.gridColumnWidth=t.gridColumnWidth,s.gridColumnMinWidth=t.gridColumnMinWidth,s.gridRowHeightType=t.gridRowHeightType,s.gridRowHeight=t.gridRowHeight,s.gridRowCount=t.gridRowCount,s.gridType=t.gridType))}if(Y("position",n)&&Object.assign(s,Ca(t,r)),Y("perspective",n)&&to(t)&&to(o)&&(s.perspective=l(t.perspective)),Y("overlay",n)&&Qe(t)&&Qe(o)&&r){let c=zi(t);Object.assign(s,c)}if(Y("effects",n)&&Ls(t)&&Ls(o)&&Object.assign(s,WT(o,t)),Y("transformOrigin",n)&&to(t)&&to(o)&&Object.assign(s,{transformOriginX:t.transformOriginX,transformOriginY:t.transformOriginY}),Y("backfaceVisibility",n)&&to(t)&&to(o)&&Object.assign(s,{backfaceVisibility:t.backfaceVisibility}),Y("transformStylePreserve3d",n)&&to(t)&&to(o)&&Object.assign(s,{transformStylePreserve3d:t.transformStylePreserve3d}),Y("translateZ",n)&&to(t)&&to(o)&&Object.assign(s,{translateZ:t.translateZ}),Y("scale",n)&&to(t)&&to(o)&&Object.assign(s,{scale:t.scale}),Y("skew",n)&&to(t)&&to(o)&&Object.assign(s,{skewX:t.skewX,skewY:t.skewY}),Y("formBooleanInputType",n)&&kn(t)&&kn(o)&&Object.assign(s,{formBooleanInputType:t.formBooleanInputType}),Y("formBooleanInputValue",n)&&kn(t)&&kn(o)&&Object.assign(s,{formBooleanInputValue:t.formBooleanInputValue}),Y("formBooleanInputCheckedEffect",n)&&kn(t)&&kn(o)){let c={formBooleanInputCheckedBorderColor:t.formBooleanInputCheckedBorderColor,formBooleanInputCheckedBorderWidth:t.formBooleanInputCheckedBorderWidth,formBooleanInputCheckedBorderStyle:t.formBooleanInputCheckedBorderStyle,formBooleanInputCheckedFillColor:t.formBooleanInputCheckedFillColor,formBooleanInputCheckedBoxShadow:t.formBooleanInputCheckedBoxShadow,formBooleanInputCheckedTransition:t.formBooleanInputCheckedTransition};Object.assign(s,c)}return Y("formInputIcon",n)&&Im(t)&&Im(o)&&Object.assign(s,{formInputIconImage:t.formInputIconImage,formInputIconColor:t.formInputIconColor}),Y("viewTransitionNone",n)&&Ds(t)&&Ds(o)&&(s.viewTransitionNone=t.viewTransitionNone),s}var SP=e=>{let t=[];return e.forEach((o,r)=>{for(let i=r+1;i<e.length;i++){let n=e[i];t.push([o,n])}}),t};function vP(e,t,o){let r=t.map(u=>e.convertFrameToCanvas(u));if(r.length===2){let[u,f]=r,y=tA(u,f),v=oA(u,f);if(y&&!v)return"vertical";if(v&&!y)return"horizontal"}let i=r.map(u=>oe.center(u));if(i.length<=1){if(r.length===1){let[u]=r,f=o.width/Math.max(1,u.width),y=o.height/Math.max(1,u.height);return f<y?"vertical":"horizontal"}return o.width<o.height?"vertical":"horizontal"}let n=SP(i),a=[],l=[];n.forEach(([u,f])=>{a.push(Math.abs(u.x-f.x)),l.push(Math.abs(u.y-f.y))});let s=a.reduce((u,f)=>u+f,0),c=l.reduce((u,f)=>u+f,0);return s>c?"horizontal":"vertical"}function TP(e,t,o){return[...t].sort((r,i)=>{let n=e.tree.getRect(r),a=e.tree.getRect(i);return o==="horizontal"?n.x-a.x:n.y-a.y})}function QE(e){if(W(e))return!0;switch(e){case"start":case"center":case"end":return!0;default:return!1}}function wf(e,t,o){let r=vP(e.tree,t,o),i=e.stores.persistedUserDefaults.layoutGap;return{layout:"stack",stackDirection:r,gap:i,stackDistribution:qy,stackAlignment:$l,stackWrapEnabled:!1,padding:0,paddingPerSide:!1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}}function eA(e,t){t.forEach((o,r)=>{e.tree.moveNodeIndex(o,r)})}function bP(e,t,o,r,i){o==="horizontal"&&t.heightType===2||o==="vertical"&&t.widthType===2||IP(e,r,o,i,{})}function IP(e,t,o,r,i){if(o==="horizontal"||W(i.padding))return;let n={...r};if(i.paddingPerSide)i.paddingLeft&&(n.width-=i.paddingLeft),i.paddingRight&&(n.width-=i.paddingRight),i.paddingTop&&(n.height-=i.paddingTop),i.paddingBottom&&(n.height-=i.paddingBottom);else if(i.padding){let l=i.padding*2;n.width-=l,n.height-=l}n.width=Math.max(0,n.width),n.height=Math.max(0,n.height);let a=n.width;a>0&&t.forEach(l=>{if(!ye(l)||Ae(l)||fr(l)||ao(l)||l.widthType===2||l.widthType===4)return;if(e.tree.getRect(l).width/a>.96){let d=e.tree.getParent(l.id),u=e.tree.getParentSizeInfo(l);u.sizing&&l.heightType===4&&(u.sizing={...n,height:u.sizing.height});let f=e.tree.getRect(l),y=l.updateForRect({rect:f,parentSizeInfo:u,constraintsLocked:!0,shouldGuessPinToBottom:wn(e.tree,l),shouldGuessPinToRight:yr(e.tree,l,d)});y.width=1,l.width!==1&&(y.widthType=3),l.set(y)}})}function NP(e,t,o,r,i){if(!e.tree.getNode(t))return;TP(e,r,i).forEach(l=>{if(VC(l)&&Gr(l)||us(l))return;let s=e.tree.getParent(l.id),c=e.tree.getRect(l),d=oe.offset(c,ge.reverse(o));e.moveNode(l.id,t);let u={...o},f=e.tree.getParentSizeInfo(l);MS(l)&&f.sizing&&(u.width=f.sizing.width),OS(l)&&f.sizing&&(u.height=f.sizing.height),e.tree.current(l)?.set({...l.updateForRect({rect:d,parentSizeInfo:{sizing:u,positioning:o,viewport:f?.viewport??null,layout:kr(s)},constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:yr(e.tree,l,s)}),top:null,left:null,bottom:null,right:null,position:void 0}),Sc(e.tree,l).forEach(({replicaRoot:v,relatedNode:b})=>{Le.resetOverridesByProperty(e.tree,v,b,["position"])})})}function tA(e,t){let o=oe.maxX(e),r=oe.maxX(t);return o>t.x&&r>e.x}function oA(e,t){let o=oe.maxY(e),r=oe.maxY(t);return o>t.y&&r>e.y}function kf(e,t,o){if(!yt(o))return;let r=t==="width"?"widthType":"heightType";o.children.forEach(i=>{if(ye(i)&&(i[r]===3||i[r]===1)){let n=e.getRect(i),a={[r]:0,[t]:n[t]};Wi(i)&&(a.aspectRatio=null),e.current(i)?.set(a)}})}function j1(e,t){if(!yt(t)||!ye(t))return;let o=new Set;t.children.forEach(r=>{if(!ye(r)||!Mr(r))return;let i=e.getRect(r),n={};t.widthType===2&&(r.widthType===3||r.widthType===1)&&(n.minWidth=i.width,o.add(r)),t.heightType===2&&(r.heightType===3||r.heightType===1)&&(n.minHeight=i.height),Object.keys(n).length>0&&(o.add(r),e.current(r)?.set(n))}),o.size>0&&rA()}function rA(){GI({type:"add",variant:"info",key:"setting-stack-direction-causes-children-change",text:"Layers in this stack received min-sizing to prevent a collapse",icon:"thumbnail",duration:5e3,showCloseButton:"always"})}function Ld(e,t,o={}){if(!Eo(t)||!yt(t)||Ut(t))return;let r={layout:"stack",...o},i=e.tree.getRect(t),n=e.tree.getScopeNodeFor(t),a=Fb(t)||xe(t)&&G(n)||t.__unsafeIsGroundNode(e.tree)&&It(n),l=a?"vertical":vP(e.tree,t.children,i),s=TP(e,t.children,l);ht(t)||eA(e,s);let c=zt(t),d=t.gap??e.stores.persistedUserDefaults.layoutGap,u=a?"start":"center";r.stackDirection=c?t.stackDirection??l:l,r.stackDistribution=c?t.stackDistribution??u:u,r.gap=c||QE(u)?d:0,r.stackAlignment=c?t.stackAlignment??$l:$l,r.stackWrapEnabled=c?t.stackWrapEnabled??!1:!1;let f=c&&Io(t)?{padding:t.padding,paddingPerSide:t.paddingPerSide,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom}:{...tS};if(l==="horizontal"&&o.heightType===2||l==="vertical"&&o.widthType===2||IP(e,t.children,l,i,f),f.paddingPerSide){let{paddingTop:v,paddingRight:b,paddingBottom:V,paddingLeft:L}=f;v===b&&v===V&&v===L&&(f.paddingPerSide=!1,f.padding=v)}t.set({...r,...f})}var PP=900;function dX(e){return e.intrinsicWidth>=PP}function Fd(e,t,o){if(Oe(t))return!1;let r=o??e.getParent(t.id);return!!(r&&ve(r))}function pX(e){return e<=.5}function iA(e,t,o){if(!Pe(t)||!Er(t)||!ve(t)||Qt(t)||!Fd(e,o,t))return!1;let r=Me(o)&&Ue(o)&&o.widthType===1&&o.width===1;if(Me(o)&&o.width<PP&&!r)return!1;let i=t.children.filter(d=>d.id!==o.id);if(i.length===0)return!0;let a=e.getRect(t).width||1,l=i.map(d=>e.getRect(d));return l.some(d=>d.width/a<.5)?!1:l.every((d,u)=>l.every((f,y)=>u===y?!0:!oe.intersects(d,f)))}function uX(e,t,o,r){if(!Eo(t)||!iA(e.tree,t,o))return;let i={};r.height>500&&(i.heightType=2),Ld(e,t,i),t.set({gap:0})}function xP(e,t){for(let o of Object.values(e.variables))if(o?.type==="collectionreference"&&o.dataIdentifier===t)return o}function VP(e,t){return Object.values(e.variables).find(o=>o?.type==="multicollectionreference"&&o.dataIdentifier===t)}function nA(e,t){let o=Ac(t);if(Rr(o))return{targetDataIdentifier:o.dataIdentifier,targetProviderId:o.id};let r=e.stores.scopeStore.active;if(Tt(r))return{targetDataIdentifier:r.dataIdentifier,targetProviderId:r.id}}function mX(e,t,o){if(!Rr(o))return;let r=nA(e,t);if(!r)return;let{targetDataIdentifier:i,targetProviderId:n}=r,a=Ar(e.tree,o.dataIdentifier),l=Ar(e.tree,i);if(!a||!l)return;let s=xP(a,i),c=VP(a,i),d=xP(l,o.dataIdentifier),u=VP(l,o.dataIdentifier),f;u?f={id:Ft(),itemKey:"id",transforms:[{id:Ft(),type:"valueTransform",name:"isIncludedIn",value:Ot(u.id,n)}]}:d?f={id:Ft(),itemKey:"id",transforms:[{id:Ft(),type:"valueTransform",name:"equals",value:Ot(d.id,n)}]}:c?f={id:Ft(),itemKey:c.id,transforms:[{id:Ft(),type:"valueTransform",name:"contains",value:Ot("id",n)}]}:s&&(f={id:Ft(),itemKey:s.id,transforms:[{id:Ft(),type:"valueTransform",name:"equals",value:Ot("id",n)}]}),f&&o.set({collectionFilters:{filters:[f]}})}function fX(e,t,o,r){if(!Pe(t)||!Er(t)||!ve(t)||!Ut(t)||t.stackDirection!=="vertical"||!Fd(e.tree,o,t)||t.heightType===2||!HI(e.tree,t).height[2])return;let n=t.children.filter(c=>c.id!==o.id);if(n.length===0)return;let a=e.tree.getRect(t),l=n.map(c=>e.tree.getRect(c));oe.merge(...l).height+r.height<=a.height||(t.set({height:a.height,heightType:2}),n.forEach((c,d)=>{let u=l[d];C(u,"Child rect must be defined"),Me(c)&&Ue(c)&&c.heightType===3&&c.set({height:u.height,heightType:0})}))}var Ed=es(qF());function Rf(e){let t=mo.boundingBox(e),o=e.pathSegments.map(r=>r.merge({x:r.x-t.x,y:r.y-t.y}));return[{pathClosed:e.pathClosed,pathSegments:o},t]}function wP(e,t,o,r){let i=qe("app:importSVG"),n=e,a,l;if(r&&r.colorable){let b=un(e,"image/svg+xml").documentElement;if(!b)throw new Error(`Unsupported SVG: ${e}}`);let V=b.getAttribute("fill"),L=!(V&&V.toLowerCase()==="none");if(L){if(r.fillType==="linear-gradient"&&r.fillLinearGradient instanceof yv)a={fillType:"linear-gradient",fillLinearGradient:r.fillLinearGradient};else if(r.fillType==="image"&&r.fillImage)a={fillType:"image",fillImage:r.fillImage,fillImageResize:r.fillImageResize,fillImagePixelWidth:r.fillImagePixelWidth,fillImagePixelHeight:r.fillImagePixelHeight};else if(r.fillType==="color"&&k(r.fillColor)){let A=(0,Ed.getPaperLazily)(),H=new A.Color(r.fillColor).toCSS(!1);L&&b.setAttribute("style",`fill: ${H}; color: ${H}`);let re=b.getAttribute("stroke");re&&re.toLowerCase()==="currentcolor"&&b.setAttribute("stroke",H)}n=b}}let s=sA(n);n=s.svgElement,l=s.svgSize;let c=!1,u=(0,Ed.getPaperLazily)().project.importSVG(n,{expandShapes:!0,insert:!1,size:o,onError:v=>{i.reportError(v),c=!0;let b=document&&document.getElementsByTagName("body");if(b&&b[0]){let V=b[0].lastElementChild;for(;V&&V.tagName==="svg";)V.remove(),V=b[0].lastElementChild}}});if(c)return null;let f;try{f=kP({item:u,fillOverrides:a,tree:t()})}catch(v){return i.reportError(v),null}let y=f[0];return y?(Me(y)&&l&&y.set({width:l.width,height:l.height}),t().insertNodes(f).getNode(y.id)):null}function kP({item:e,tree:t,nodes:o=[],parent:r=null,parentAbsolutePosition:i=ge(0,0),fillOverrides:n}){let a=(0,Ed.getPaperLazily)();return e instanceof a.Group?dA({group:e,nodes:o,parent:r,parentAbsolutePosition:i,tree:t,fillOverrides:n}):e instanceof a.PathItem?cA({item:e,nodes:o,parent:r,parentAbsolutePosition:i,fillOverrides:n}):(console.warn("Unhandled Paper item:",e),o)}function sA(e){let t=k(e)?un(e,"image/svg+xml").documentElement:e;if(!t)throw new Error(`Unsupported SVG: ${e}}`);let o,r=t.getAttribute("viewBox"),i=t.getAttribute("width"),n=t.getAttribute("height");if(r){let[a,l,s,c]=r.split(" ");s&&c&&(t.setAttribute("width",s),t.setAttribute("height",c),o={width:parseInt(s),height:parseInt(c)})}else i&&n&&(o={width:parseInt(i),height:parseInt(n)});return RP(t),{svgElement:t,svgSize:o}}function RP(e){lA(e);for(let t of e.children)RP(t)}function lA(e){let t=e.getAttribute("rx"),o=e.getAttribute("ry");!t&&!o||t&&o||(t?e.setAttribute("ry",t):o&&e.setAttribute("rx",o))}function cA({item:e,nodes:t=[],parent:o=null,parentAbsolutePosition:r=ge(0,0),fillOverrides:i}){let n=Cv({item:e,parentAbsolutePosition:r}),a=Sv(e),l=o?o.id:jt;if(n.length===1){let c=n[0];C(c,"Path must be defined");let[{pathSegments:d,pathClosed:u},f]=Rf(c),y=new zs({parentid:l,pathSegments:d,pathClosed:u,...a,...i,...f});t.push(y)}else if(n.length){let c=DP(e),d=c.x-r.x,u=c.y-r.y,f=e.fillRule==="evenodd"?3:4,y=new Yc({parentid:l,pathBoolean:f,...a,...i,x:d,y:u,width:c.width,height:c.height});t.push(y),n.forEach(v=>{let[{pathSegments:b,pathClosed:V},L]=Rf(v),A=new zs({parentid:y.id,pathSegments:b,pathClosed:V,...i,x:L.x-d,y:L.y-u,width:L.width,height:L.height});t.push(A)})}return t}function dA({group:e,tree:t,nodes:o=[],parent:r=null,parentAbsolutePosition:i=ge(0,0),fillOverrides:n}){let a=DP(e),l=r?r.id:jt,s,c;return l?(s=new fI({parentid:l,x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}),c=ge(a.x,a.y)):(s=new gi({parentid:l,left:0,top:0,width:a.x+a.width,height:a.y+a.height,fillEnabled:!1}),c=ge(0,0)),o.push(s),e.children.forEach(d=>{kP({item:d,nodes:o,parent:s,parentAbsolutePosition:c,tree:t,fillOverrides:n})}),o}function DP(e){let{x:t,y:o,width:r,height:i}=e.bounds;return{x:t,y:o,width:r,height:i}}function pA(e){return Re(e)&&"iconURL"in e}function EX(e){return Re(e.icon)?e.id==="WorkspacePluginsCategory"?!0:pA(e.icon):!1}var uA={DefaultCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function AX(e){return k(e)?Object.hasOwn(uA,e):!1}var mA={FindNodesCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function MX(e){return Object.hasOwn(mA,e)}function OX(e){return e?.kind==="item"}function LP(e){if(e!==void 0)switch(e){case 2:return"auto";case 0:return"fixed";case 3:return"fraction";case 1:return"percentage";case 4:return"viewport";case 5:return"fit-image";default:j(e)}}function FP(e,{widthType:t,heightType:o},r){if(!ye(e))return;let i=t!==void 0&&e.widthType!==t,n=o!==void 0&&e.heightType!==o;!i&&!n||AV({widthType:LP(t),heightType:LP(o),source:r,nodeType:e.__class,componentId:_(e)?e.codeComponentIdentifier:void 0})}function Df(e,t,o=!1){let r={};for(let i in e){let n={...e[i]};"itemsOrder"in n&&Array.isArray(n.itemsOrder)&&o&&(n.itemsOrder=Xs(n.itemsOrder,t)),r[t.get(i)??i]=n}return r}var Ad=class extends Map{get(t){let o=super.get(t);for(;o;){let r=super.get(o);if(r===void 0)break;o=r}return o}};function fA(e,t){if(Ta(e)){if(!e.controls.target?.value)return;let o=t.get(e.controls.target.value);return o?{target:{...e.controls.target,value:o}}:void 0}if(Cr(e)){if(!e.controls.variantId?.value)return;let o=t.get(e.controls.variantId.value);return o?{variantId:{...e.controls.variantId,value:o}}:void 0}if(ma(e)){if(!e.controls.overlay?.value)return;let o=t.get(e.controls.overlay.value);return o?{overlay:{...e.controls.overlay,value:o}}:void 0}}function EP(e,t,o,r){let i=_(t),n={},a=!1,l=zc(t);for(let s in l){let c=i?pt(s):s;if(!wt(e,t,c))continue;let d=l[s];if(!ft(d))continue;let u=[],f=!1;for(let y of d){if(r&&(ma(y)||yc(y))){f=!0;continue}let b=fA(y,o);if(!b){u.push(y);continue}u.push({...y,controls:{...y.controls,...b}}),f=!0}f&&(i?n[pt(s)]={type:"eventhandler",value:u}:n[s]=u,a=!0)}a&&t.set(n,e)}function hA(e,t,o){let r={};function i(l){let s=e.get(l);s&&e.linkNodeChangesTo(s,t.id)}let n=EI(t,O);for(let l of n){if(!wt(e,t,pt(l)))continue;let s=t.getRawControlProp(l);if(s){if(s.type==="slot"&&ft(s.value)){let c=!1,d=s.value.map(u=>{if(!Re(u))return u;let f="reference";if(!k(u[f]))return u;let y=o.get(u.reference);return y?(c=!0,i(y),{...u,[f]:y}):u});if(!c)continue;r[l]={type:"slot",value:d}}else if((s.type===null||s.type==="componentinstance")&&k(s.value)){let c=o.get(s.value);if(!c)continue;r[l]={type:"slot",value:[{id:"first-item",reference:c}]},i(c)}else if(ft(s.value)){let c=!1,d=[];for(let u=0;u<s.value.length;u++){let f=s.value[u];if(!Bl(f)||f.type!==null&&f.type!=="componentinstance"||!k(f.value))continue;let y=LC(f)?f.id:Ft(),v=o.get(f.value);d.push({id:y,reference:v??f.value}),v&&(i(v),c=!0)}if(!c)continue;r[l]={type:"slot",value:d}}}}if(Lt(r))return;let a=xu(r);t.set(a,e)}function gA(e,t,o){let r={},i=O.componentForIdentifier(t.codeComponentIdentifier)?.properties;for(let n in i){if(!wt(e,t,pt(n)))continue;let a=i[n];if(a?.type!=="scrollsectionref")continue;let l=t.getRawControlProp(n);if(!l)continue;let s=fS(a,l);if(!s||U(s)||!k(s.target))continue;let c=o.get(s.target);c&&(r[n]={type:"scrollsectionref",value:{...s,target:c}})}Lt(r)||t.set(xu(r),e)}function yA(e,t){if(NT(e)&&ft(e.appearEffectScrollTargets)){let o=e.appearEffectScrollTargets.map(r=>{if(!r.target||U(r.target))return r;let i=t.get(r.target);return i?{id:Ft(),variant:r.variant,target:i}:r});e.set({appearEffectScrollTargets:o})}if(TT(e)&&k(e.styleAppearEffectScrollTarget)){let o=t.get(e.styleAppearEffectScrollTarget);o&&e.set({styleAppearEffectScrollTarget:o})}if(IT(e)&&ft(e.styleTransformEffectScrollTargets)){let o=e.styleTransformEffectScrollTargets.map(r=>{if(!r.target||U(r.target))return r;let i=t.get(r.target);return i?{id:Ft(),style:r.style,target:i}:r});e.set({styleTransformEffectScrollTargets:o})}if(Hc(e)&&e.dragEffectConstraintElement){let o=t.get(e.dragEffectConstraintElement);o&&e.set({dragEffectConstraintElement:o})}if(OT(e)&&k(e.textEffectScrollTarget)){let o=t.get(e.textEffectScrollTarget);o&&e.set({textEffectScrollTarget:o})}}function On(e,t,o,r){if(t=t.draftOrCurrent(),(Wt(t)||gc(t))&&EP(e,t,o,r),_(t)&&(EP(e,t,o,r),hA(e,t,o),gA(e,t,o)),Ls(t)&&yA(t,o),No(t)&&t.formSubmitButtonId){let n=o.get(t.formSubmitButtonId);n&&t.set({formSubmitButtonId:n})}if(Rb(t)&&t.dataSourceLoaderId){let n=o.get(t.dataSourceLoaderId);n&&t.set({dataSourceLoaderId:n})}if(bt(t)&&t.collectionRepeatedItemId){let n=o.get(t.collectionRepeatedItemId);n&&t.set({collectionRepeatedItemId:n})}if(Tt(t)){let n=AP(t.dataIdentifier,o);n&&t.set({dataIdentifier:n})}if(Jt(t)){let n=t.variables.map(a=>{if(!OC(a))return a;let l=AP(a.dataIdentifier,o);return l?{...a,dataIdentifier:l}:a});pn(t.variables,n)||t.set({variables:n})}dr(t)&&CA(t,o);let i=Jb(e,t,n=>{if(!n.providerId)return;let a=o.get(n.providerId);if(a)return Ot(o.get(n.id)??n.id,a)});if(i&&t.set(i),t.children)for(let n of t.children)On(e,n,o,r);return t}function AP(e,t){let o=ce(e);if(!_o(o))return null;let r=t.get(o.localIdName);return r?dn(o.type,r,o.exportSpecifier).value:null}function CA(e,t){let o=e.getControlProps();for(let[r,i]of Object.entries(o)){if(i?.type==="collectionreference"&&k(i.value)){let n=t.get(i.value);n&&e.setControlProp(r,{...i,value:n})}if(i?.type==="multicollectionreference"&&!E(i.value)&&!U(i.value)){let n=i.value.map(a=>t.get(a)??a);pn(i.value,n)||e.setControlProp(r,{...i,value:n})}}}function Fa(e){return e==="/"?"Home":(e=vA(e),e=SA(e),e=OP(e),e=TA(e),e=e.split(" ").map(Iy).join(" "),e)}function SA(e){return e.replace(/-+/gu," ")}function vA(e){return e.replace(Sy,"")}var MP=/\s*\/+[/\s]*/gu;function TA(e){return e.replace(MP," / ")}function OP(e){return e.replace(/^[/\s]+|[/\s]+$/gu,"")}var bA=/\s+/gu,IA=/-+/gu;function zP(e){if(e==="Home")return"/";let t=e;return t=OP(t),t=t.replace(MP,"-"),t=t.replace(bA,"-"),t=t.replace(IA,"-"),t=t.toLowerCase(),"/"+t}function _Z(e,t){let o=t.instanceIdentifier,r=e.getPersistedModuleByLocalIdentifier(o),i=O.dataForIdentifier(o)??void 0;return{identifier:o,module:r,entity:i}}function jZ(e){return e.annotations?.framerSlug}function UZ(e,t="Collection"){let o=e.resolveValue("name");return o?o.toLowerCase().includes("collection")?o:`${o.trim()} Collection`:t}function NA(e){switch(e.toLowerCase()){case"title":case"name":case"label":return!0;default:return!1}}function xA(e){return MC(e)&&NA(e.name)}function VA(e){return e.variables.find(xA)}function PA(e,t){if(E(t))return;let r=e.getControlProp(t.id)?.value||t.initialValue;if(k(r)&&r.length>0)return r}function Lf(e,t){if(E(t))return;let r=e.getControlProp(t.id)?.value||t.initialValue;if(k(r)&&r.length>0)return r}function Ea(e,t){let o=VA(e),r=PA(t,o);if(k(r))return r;let i=e.getSlugVariable(),n=Lf(t,i);return k(n)?Fa(n):"Collection Item"}function Ff(e){let{ids:t}=e.stores.selectionStore,o=t[0];if(!o)return null;let r=e.tree.getNode(o);if(Jt(r))return r;if(dr(r)){let i=e.tree.getNode(r.parentid);if(Jt(i))return i}return null}function JZ(e){let t=Ff(e);return t?t.id:null}function XZ(e){let t=Ff(e);return t?t.resolveValue("name"):null}function ZZ(e){let t=e.getContentManagementNode()?.loaded;return t?t.children.length:0}function KZ(e){let t=e.getContentManagementNode()?.loaded;return t?t.children.reduce((o,r)=>o+=r.getItemCount(),0):0}function Ef(e){return e.type==="richtext"&&k(e.value)}function wA(e,t){let o=ce(e);return r=>{let i=ce(r);if(!(!i||!o)&&(i.kind==="localModuleExport"&&o.kind==="localModuleExport"&&i.localId===o.localId||i.kind==="externalModuleExport"&&o.kind==="externalModuleExport"&&i.moduleId===o.moduleId&&i.exportSpecifier===o.exportSpecifier))return t}}function WP(e,t){return e.replaceAll(pc,(o,r)=>{let i=t(r);return i?`${ES}="${i}"`:o})}function Af(e,t){let o=e.getControlProps(),r={};for(let[i,n]of Object.entries(o)){if(!Ef(n))continue;let a=n.value,l=WP(a,t),s=$e(a),c=$e(l),d;if(n.valueLocalized){d={};for(let f of Object.keys(n.valueLocalized)){let y=n.valueLocalized[f];if(!y)continue;let v=l!==a,b=y.hash===s&&v;if(!y.value){if(b){d[f]={...y,hash:c};continue}d[f]=y;continue}let V=WP(y.value,t);d[f]={...y,value:V,hash:b?c:y.hash}}}if(n.value===l&&xr(n.valueLocalized,d))continue;let u={...n,value:l};d&&(u.valueLocalized=d),r[pt(i)]=u}return Object.keys(r).length>0?r:void 0}function YZ(e,t,o){let r=e.getContentManagementNode()?.loaded;if(!r)return;let i=wA(t,o);for(let n of r.children)for(let a of n.getUnsortedChildren()){let l=Af(a,i);l&&a.set(l)}}function kA(e,t){let o=e.getControlProps();for(let r of Object.values(o))if(Ef(r)){if(r.value.includes(t))return!0;if(r.valueLocalized){for(let i of Object.keys(r.valueLocalized))if(r.valueLocalized[i]?.value?.includes(t))return!0}}return!1}function qZ(e,t){let o=e.getContentManagementNode()?.loaded;if(!o)return!1;for(let r of o.children)for(let i of r.getUnsortedChildren())if(kA(i,t))return!0;return!1}function QZ(e){let t=new Set;for(let o of e.getUnsortedChildren()){let r=Mf(o);for(let i of r)t.add(i)}return[...t]}function Mf(e){let t=new Set,o=e.getControlProps();for(let r of Object.values(o)){if(!Ef(r))continue;let i=r.value.matchAll(pc);for(let[,n]of i)Ge(n)&&t.add(n);if(r.valueLocalized)for(let n of Object.keys(r.valueLocalized)){let a=r.valueLocalized[n];if(!a?.value)continue;let l=a.value.matchAll(pc);for(let[,s]of l)Ge(s)&&t.add(s)}}return[...t]}function eK(e,t,o){let r=Ar(e.tree,t);if(!r)return;let i=o??r.getUnsortedChildren()[0];e.stores.scopeStore.select(Tc,{keepHistory:!1}),e.stores.selectionStore.set(i??r)}function tK(e){let t=Ff(e);if(!t)return!1;let o=e.stores.contentManagementStore;return o.multiSelectedItems||o.isCreatingNewItem()?!1:!t.managedByPlugin}function BP(e,t){let o=e.stores.scopeStore.active;return C(Di(o),"Content management node should be active"),o.children.toSorted((r,i)=>oT(r.resolveValue("name")||"",i.resolveValue("name")||"",t))}function oK(e,t){let o=e.stores.scopeStore.active;BP(e,t).forEach(({id:i},n)=>{e.moveNode(i,o.id,n)})}function rK(e,t){let o=e.stores.scopeStore.active;C(Di(o),"Content management node should be active");let r=BP(e,t);return o.children.every(({id:i},n)=>r[n]?.id===i)}function Od(e){if(!e)return!1;let t=ce(e);return t?t.kind==="externalModuleExport"||t.kind==="localModuleExport":!1}function HP(e,t){_(e)&&Od(e.codeComponentIdentifier)&&t(e.codeComponentIdentifier),la(e)&&e.dataIdentifier&&t(e.dataIdentifier),Oi(e)&&Od(e.codeOverrideIdentifier)&&t(e.codeOverrideIdentifier),Es(e)&&e.codeOverrides?.forEach(o=>{t(o.identifier)}),dr(e)&&Mf(e).forEach(t)}function GP(e,t){let o={};if(_(e)&&Od(e.codeComponentIdentifier)){let i=t(e.codeComponentIdentifier);i&&(o.codeComponentIdentifier=i)}if(la(e)&&e.dataIdentifier){let i=t(e.dataIdentifier);i&&(C(Ge(i)),o.dataIdentifier=i)}if(Oi(e)&&Od(e.codeOverrideIdentifier)){let i=t(e.codeOverrideIdentifier);i&&(o.codeOverrideIdentifier=i)}if(Es(e)&&e.codeOverrides){let i=!1,n=e.codeOverrides.map(a=>{let l=t(a.identifier);return l?(i=!0,{...a,identifier:l}):a});i&&(o.codeOverrides=n)}if(dr(e)){let i=Af(e,t);i&&Object.assign(o,i)}if(Object.keys(o).length!==0)return o}function $P(e){return ZV(e)||Jt(e)}var _P=75,LA={mutable:!0,update:0};function jP(e,t,o,r,i=!1){function n(a,l,s=!1){let c=new a.constructor;c.assign(a,LA,{cache:c.cache,id:c.id}),ha(c)&&(c.itemsOrder=void 0),a.cache.insideVariant=s;let d=li(a)?a.getChildrenInVisualOrder():a.children;d&&(c.children=d.map(y=>n(y,c.id,s)));let u={parentid:l},f=GP(a,y=>{let v=ce(y);if(v.kind==="localModuleExport"){let b=t.get(v.localId);if(b)return`${b}:${v.exportSpecifier}`}else if(v?.kind==="externalModuleExport"){let b=o.get(v.moduleId);if(b)return Yg(v,b).value}});if(f&&Object.assign(u,f),uo(a)&&!xe(a)&&Object.assign(u,{replicaInfo:void 0,originalid:void 0,...a.replicaInfo.overrides[a.replicaInfo.master],_deleted:void 0}),i&&Object.assign(u,{duplicatedFrom:BS(a.duplicatedFrom,a.id)}),c.assign(u),r){if(r.has(a.id)){let y=r.get(a.id);y&&r.set(y,c.id)}r.set(a.id,c.id),a.originalid&&!r.has(a.originalid)&&r.set(a.originalid,c.id)}return c}return n(e,void 0,xe(e))}function FA(e){let t=new Map;for(let o of e)if(o.type==="local"){let r=o.moduleId;t.set(o.localId,Zg(r,o.saveId,o.file).value)}return t}async function VK(e){let t=new Map;for await(let o of e)if(o.type==="local"&&o.moduleType==="css"){let r=await UP({moduleId:o.moduleId,saveId:o.saveId}),{__treeSerializationVersion:i,...n}=r,a=i||_P,{root:l}=Gu({root:n,version:a}),s=wm(l);Fi(s)&&t.set(s.id,s)}return[...t.values()]}function PK(e,t,o){let r=FA(o.imports),i=new Map,n=[];for(let a of e.walk())HP(a,l=>{let s=ce(l);if(_o(s)){let c=r.get(s.localId);if(!c)return;let{moduleId:d,saveId:u,file:f}=ce(c);s=Kg(s,d,u,f)}if(s.kind==="externalModuleExport"){let c=t.getPersistedModuleByGlobalId(s.moduleId);c?i.set(s.moduleId,c.localId):n.push(s)}});return{identifiers:n,localIdsToExternalIdentifiers:r,externalModuleIdsToLocalIds:i}}async function UP({moduleId:e,saveId:t}){try{return await(await fetch(`${Al().modulesCDN}/${e}/${t}/tree.json`)).json()}catch(o){na(o)}}async function wK(e,t){let[o,r]=await Promise.all([UP(t),e.stores.modulesStore.getModuleDependencies(t)]);C(o,"Can't get tree.json for module identifier"),C(r,"Can't get dependencies for module identifier");let{__treeSerializationVersion:i,...n}=o,a=i||_P,{root:l}=Gu({root:n,version:a}),s=wm(l);return C($P(s),"Node should be un-linkable."),{node:s,dependencies:r}}async function kK(e,t,o){if(e.remoteDocument?.projectId&&t.assets.length>0)try{await e.stores.assetStore.assetService?.duplicateModuleAssets(o.moduleId,o.saveId)}catch{}}function Of(e){if(!yt(e)||Ae(e))return 0;let t=0,o=e.children.length;return t+=o,e.children.forEach(r=>{t+=Of(r)}),t}function JP(e,t,o,r){let i=kd(o,O),n=new Map(Object.entries(i)),a=new Map;a.set(r,n);let l={};for(let s of e.walk()){let c=Kc(t,r,s,a);c&&(l[s.getPrimaryId()]=c)}return l}function XP(e){let{left:t,top:o,right:r,bottom:i,centerAnchorX:n,centerAnchorY:a,constraintsLocked:l,width:s,widthType:c,height:d,heightType:u,aspectRatio:f,name:y,...v}=e;return v}function ZP(e){let t=O.reactComponentForIdentifier(e.codeComponentIdentifier);if(!t)return;let o={},r=Object.keys(t.properties);for(let i of r){let n=t.properties[i];if(!n||n.type!=="eventhandler")continue;let a=e.getRawControlProp(i);if(!a)continue;let{value:l}=a;!Array.isArray(l)||l.length===0||(o[i]=l)}return o}function zd(e,{opacity:t,rotation:o}){if(U(t))e.opacity=t;else if(e?.opacity||t){let r=X(t)?t:1;e.opacity=(e.opacity??1)*r}if(U(o))e.rotation=o;else if(e?.rotation||o){let r=X(o)?o:0;e.rotation=(e.rotation??0)+r}}function qK(e){return e.every(t=>Pe(t)||Oe(t)||_(t))}function QK(e,t){return t?!1:e.every(o=>{if(!Pe(o)&&!_(o)&&!De(o)||ve(o)||Pe(o)&&ya(o).length===0)return!1;if(_(o)){let r=o.getSupportedLayout(O);if(!Pi(r.width)||!Pi(r.height))return!1}return o.widthType!==2||o.heightType!==2})}function KP(e,t,o){for(let r of t)if(Oe(r)||_(r))r.set({widthType:2,heightType:2}),Oe(r)&&o&&Ct("layout_fit_text",{source:o});else if(Pe(r)){let i={widthType:2,heightType:2,aspectRatio:null};Ut(r)||Ld(e,r,i),kf(e.tree,"width",r),kf(e.tree,"height",r),Vb(r)&&(i.framePreset=null),r.set(i),o&&Ct("layout_stack",{layoutType:"stack",source:o})}}var EA=/([a-z]+)([\dA-Z]+)/gu;function AA(e){return e.replaceAll(EA,(t,o,r)=>`${o}_${r.toLowerCase()}`)}function zf(e){return Object.fromEntries(Object.entries(e).map(([t,o])=>[AA(t),o]))}var Ji=qe("ChatStreamer"),MA="/ai/v2/chat/",YP=-1,OA=Ft(),Wd=class{constructor(t){this.type=t;R(this,"streamID","");R(this,"subscribers",new Set);R(this,"currentStream");R(this,"abortController");R(this,"cancel",()=>{this.abortController&&(Ji.debug("Stream",this.streamID,"cancelled"),this.abortController.abort(),this.abortController=void 0)})}async start({model:t,user:o,messages:r,responseFormat:i,onText:n}){this.cancel(),YP++,this.streamID=`${OA}-${YP}-${this.type}`,this.emitChatEvent({type:"start",streamID:this.streamID,messages:r});let a=!1,l=f=>{let y;Re(f)&&k(f.message)?y=f.message:y=String(f),a||(a=!0,this.emitChatEvent({type:"done",streamID:this.streamID,error:y})),Ji.warn("ChatStreamer error:",f)},s=()=>{a||(a=!0,this.emitChatEvent({type:"done",streamID:this.streamID}))};this.abortController=new AbortController;let c="",d=i?zf(i):void 0,u=zf({messages:r,model:t,stream:!0,user:o,responseFormat:d});this.currentStream=_I.postStream(MA,{signal:this.abortController.signal,openWhenHidden:!0,onclose:()=>{if(a)return;a=!0;let f="Chat stream closed before done";throw new Error(f)},onerror:f=>{throw a=!0,f},onmessage:f=>{if(Ji.trace(f.event,f.id,f.data),f.data==="[DONE]"){Ji.debug("ChatStreamer finished with content:",c),s();return}if(f.data.length===0){Ji.debug("ChatStreamer stream empty");return}let y=JSON.parse(f.data);if("error"in y){let V=y.error,L=JSON.parse(V.metadata.raw);Ji.error(`ChatStreamer error '${V.message}' with code`,V.code,"and raw error",L);return}let v=y.choices[0];if(!v)return;v.finish_reason&&Ji.debug("Finishing chat completion with reason:",v.finish_reason);let{content:b}=v.delta;b&&(c+=b,this.emitChatEvent({type:"stream",streamID:this.streamID,content:b}),n(b))}},u);try{await this.currentStream}catch(f){throw l(f),f}finally{this.currentStream=void 0,this.abortController=void 0}return c}get isFinished(){return this.currentStream===void 0}async waitUntilFinished(){await this.currentStream}subscribeChatEvent(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}emitChatEvent(t){this.subscribers.forEach(o=>{try{o(t)}catch(r){Ji.error(r)}})}};var Bd=class{constructor(t,o,r,i){this.separator=t;this.parseCommand=o;this.onCommand=r;this.onError=i;R(this,"buffer","");R(this,"commands",[]);R(this,"isFinalized",!1)}addToken(t){C(!this.isFinalized,"Parser has been finalized, cannot add more tokens"),this.buffer+=t,this.processBuffer()}processBuffer(){let t;for(;(t=this.buffer.indexOf(this.separator))!==-1;){let o=this.buffer.slice(0,t);this.buffer=this.buffer.slice(t+1);try{let r=this.parseCommand(o);this.commands.push(r),this.onCommand(r)}catch(r){this.onError?.(o,r)}}}finalize(){return this.isFinalized?this.commands:(this.isFinalized=!0,this.buffer.trim()&&(this.buffer.endsWith(this.separator)||(this.buffer+=this.separator),this.processBuffer()),this.commands)}};var gY={url:"url"};function qP(e){return wi(e)&&e.actionIdentifier==="framer/useOpenURL"}function yY(e,t){let o={...e.controls,...t};return{...e,controls:o}}function QP(e){return wi(e)&&e.actionIdentifier==="framer/useSetVariableValue"}function xY(e){return G(e)||ne(e)}var zA={array:!1,boolean:!0,color:!1,eventhandler:!1,image:!1,number:!0,string:!0,richtext:!1,link:!1,linkrelvalues:!1,date:!1,enum:!1,file:!1,scrollsectionref:!1,customcursor:!1,cursor:!1,transition:!1,border:!1,boxshadow:!1,gap:!1,padding:!1,borderradius:!1,collectionreference:!1,multicollectionreference:!1,trackingid:!1,vectorsetitem:!1,controlReference:!1,nodePropertyControlReference:!1,slug:!1};function WA(e){return k(e)&&zA[e]===!0}function VY(e){return ii(e)&&WA(e.type)}function Hd(e,t,o,r){let i=tw(e,r);return eT(t,o,i)}function ew(e,t,o,r){let i=tw(e,r);return tT(t,o,i)}function tw(e,{context:t,repeaterInfo:o}){return{resolveAsset(r,i,n,a){let l,s=sa(i)?i.__defaultAssetReference:void 0;return r!==s&&(l=(a?t.assets.resolveResponsiveImage(r):t.assets.resolve(r))?.src),!EC(n)||!t.localizedValues?l:t.localizedValues.add(l,n.valueLocalized,c=>{let d=n.valueLocalized?.[c]?.value;return Fo(d)?void 0:d===s?m`undefined`:(a?t.assets.resolveResponsiveImage(r):t.assets.resolve(r))?.src})},resolveResponsiveImage(r,i,n){let a,l,s,c;if(rs(i)&&os(i.__vekterDefault)?(l=i.__vekterDefault.assetReference,s=i.__vekterDefault.positionX,c=i.__vekterDefault.positionY):sa(i)&&(l=i.__defaultAssetReference),(r!==l||n.positionX!==s||n.positionY!==c)&&(a=x.fromValue(t.assets.resolveResponsiveImage(r,{focalPoint:n}))),t.localizedValues&&(a=t.localizedValues.add(a,n.valueLocalized,u=>{let f=n.valueLocalized?.[u];if(!Cs(f))return;if(f.value===l&&f.imageFocalPoint?.positionX===s&&f.imageFocalPoint?.positionY===c)return m`undefined`;let y=t.assets.resolveResponsiveImage(f.value,{focalPoint:f.imageFocalPoint});return x.fromValue(y)})),!a)return;if(!t.valueTransforms)return a;let d=n.alt??va;return t.localizedValues&&(d=t.localizedValues.add(d,n.altLocalized,u=>n.altLocalized?.[u]?.value)),t.valueTransforms.wrapInAddImageAlt(a,x.fromValue(d))},resolveDynamicValue(r,i){let n;if(U(r))C(t.variables,"Variables are not supported"),n=t.variables.create(r);else if(_t(r)){if(!t.valueTransforms)return;C(e.cache,"Node cache must be passed in when computed values can be created"),n=t.valueTransforms.createComputedValue(r,e,i)}else{return}if(!t.valueTransforms)return n;switch(i.type){case"image":return t.valueTransforms.wrapInToImageSrc(n);case"responsiveimage":return t.valueTransforms.wrapInToResponsiveImage(n);case"gap":case"padding":case"borderradius":return t.valueTransforms.wrapInNumberToPixelString(n);default:return n}},resolveLink(r,i,n){let a=is(i.value);if(Pr(a)&&t.localizedValues){let l=i.valueLocalized;return t.localizedValues.add(a.url,l,s=>l?.[s]?.value)}if(_t(a)){if(!t.valueTransforms)return;C(e.cache,"Node cache must be passed in when computed values can be created");let l=t.valueTransforms.createComputedValue(a,e,n);return t.links.createResolvedBinding(e,l)}return t.links.resolve(e,a,o)},resolvePageScope(r){return t.links.resolvePageScope(is(r))},resolveLocalizedValue(r,i){return t.localizedValues?t.localizedValues.add(r,i,n=>i?.[n]?.value):r},resolveRichText(r,i){let n=_i(r,{collectors:t,nodeId:e.getPrimaryId()});return t.localizedValues?t.localizedValues.add(n,i,(a,l)=>{if(!i)return;let s=i[a];if(!s)return;let c=s.value;if(k(c))return _i(c,{collectors:{...t,...l},nodeId:e.getPrimaryId()})}):n},resolveFont(r){if(!pS(r))return{};let i=ic(e);return t.fonts.addFontObjectBySelector(r.fontSelector,i),uS(r)},resolveScrollSectionRef(r,i){if(!E(i)){if(U(i))return t.variables?.create(i);if(k(i.target)){let n=t.elementIds?.scrollTargetInfo(i);if(n?.ref)return n.ref}}},resolveCustomCursor(r,i){if(!E(i))return U(i)?t.variables?.create(i):t.customCursors?.addControl(r,e,i)},resolveVectorSetItem(r,i){if(!E(r))return t.vectorSets?.resolveControl(r,i,e)},resolveColor(r){return k(r)?t.cssVariableDefinitions?.resolveColor(r)??r:r}}}var BA=qe("EventCollector"),HA=Symbol("previous"),Pq=m`pathVariables`,ow=m`navigate`,rw=m`setVariant`,Gd=m`overlay`,Bf=m`loadMore`,iw={onMouseEnter:{isHovered:!0},onMouseLeave:{isHovered:!1},onTapStart:{isPressed:!0},onTap:{isPressed:!1},onTapCancel:{isPressed:!1}},jd={visible:"visible",show:"show",hide:"hide",toggle:"toggle"};function $d(e,t){return new x(`${e}.${t}`)}var _d=class{constructor(t,o,r,i,n,a,l,s,c,d={type:"canvasComponent"}){this.sourceNode=t;this.treeStore=o;this.variables=r;this.bindings=i;this.imports=n;this.assets=a;this.links=l;this.fonts=s;this.fetches=c;this.options=d;R(this,"handlers",new Map);R(this,"variantOnAppearId",new Map);R(this,"keyBindHooks",new Set);R(this,"navigationTargets",new Set);R(this,"needsPathVariables",!1);R(this,"routeHandlers",new Map);R(this,"overlayState",new Map);R(this,"overlayTriggerOverlayBindings",new Map);R(this,"relativeOverlayPrimaryTriggers",new Set)}addHandler({trigger:t,node:o,actionInfo:r}){r?.forEach(c=>{!cm(c)||!c.controls.id?.value||this.variables.create(Ny(c.controls.id.value,void 0))});let i=t===GS&&Wt(o),n=t===hc&&Wt(o),a=cS(this.treeStore.tree,o.id)??this.sourceNode,l=!r||r.length===0;if(i&&l){this.variantOnAppearId.has(a.id)||this.variantOnAppearId.set(a.id,m`undefined`);return}if(l)return;let s=n?this.createKeydownEvents(o,r,this.imports):this.createCombinedEvents(o,r,t);if(i){s&&!this.variantOnAppearId.has(a.id)&&this.variantOnAppearId.set(a.id,s);return}if(!(n||!s))return s}eventHandlersForNode(t){if(!ba(t)||To(t))return;let o=t.getActions(O),r={};for(let i in o)r[i]=this.addHandler({node:t,trigger:i,actionInfo:o[i]});return this.options.type!=="canvasComponent"||!xe(t),r}getOverlayIdForNode(t){return ht(t)?this.treeStore.tree.get(t.cache.overlayAncestorId)?.originalid:t.cache.overlayAncestorId}transformAction(t,o,r){return i=>{if(!Ou(t)||E(o.meta?.inputValue))return i;let n=m`inputValue`;switch(r.bindings.add(m`const ${n} = args[0]?.target?.value?.trim()`),o.meta.inputValue){case"empty":return m`if (!${n}) { ${i} }`;case"set":return m`if (${n}?.length > 0 ) { ${i} }`;default:j(o.meta.inputValue,"All inputValue values should be handled")}}}getRepeaterIdForNode(t){let o=Ac(t);return o?ht(t)?o.originalid:o.id:null}createCombinedEvents(t,o,r){let i=nw(),n=this.getOverlayIdForNode(t);r in iw&&this.options.type==="canvasComponent"&&xe(t)&&i.gestureHandlers.add(x.fn(te.setGestureState,iw[r]));for(let s of o){if(this.extractActionsToGroups(t,s,i,r,this.transformAction(r,s,i)),i.navigationActions.size>0)break;ma(s)&&!Or(t)&&(n||(n=s.controls.overlay.value))}if(aw.every(s=>i[s].size===0))return m`undefined`;let a=this.createEventFromGroups(r,i),l=this.getRepeaterIdForNode(t);if(i.overlayActions.size>0&&n||i.repeaterActions.size>0&&l){let s=n?this.overlayState.get(n):void 0,c=this.treeStore.tree.get(l),u=Rr(c)&&gr(c)?this.bindings.createWithNode("loadMore",c):void 0;if(s||u)return x.fn(a,{[Gd.toString()]:s,[Bf.toString()]:u})}return a}createEventFromGroups(t,o){let r=GA(o),i=`${t}${Et(me(r))}`,n=new x(i),a=m`const ${n} = ${r}`;return this.handlers.set(i,a),n}createKeydownEvents(t,o,r){C(this.options.type==="screen","Smart Components do not support keydown events");for(let i of o){let n=i.meta?.key;if(E(n))continue;let a=nw();if(this.extractActionsToGroups(t,i,a,"onKeyDown",this.transformAction("onKeyDown",i,a)),Object.keys(a).every(s=>a[s].size===0))continue;let l=this.createEventFromGroups("onKeyDown",a);if(C(r,"An Import collector must be provided to add gamepad or hotkey bindings."),zy(n))this.keyBindHooks.add(x.fn(r.addImport("framer",{exportSpecifier:"useGamepad"}),n.key,l,{mapping:n.mapping}));else{let s=n.key,c=$A(n),d=c.length?c.concat(s).join("+"):s;this.keyBindHooks.add(x.fn(r.addImport("framer",{exportSpecifier:"useHotkey"}),d,l))}}}extractActionsToGroups(t,o,r,i,n){if(Cr(o)){if(this.options.type!=="canvasComponent"||!Ou(i)&&r.setVariantActions.size>0)return;let a=jA(this.imports,o,i);a&&r.setVariantActions.add(n(a))}else if(cm(o)){if(this.options.type!=="canvasComponent")return;let a=UA(o);a&&r.eventActions.add(n(a))}else if(Ta(o)){if(this.options.type!=="screen"||r.navigationActions.size>0)return;let a=this.createNavigateAction(o.controls.type.value,o.controls.target.value,o.meta?.delay,o.controls);a&&r.navigationActions.add(n(a))}else if(o.actionIdentifier==="framer/useLog"){if(this.options.type!=="screen")return;let a=XA(o);a&&r.otherActions.add(n(a))}else if(o.actionIdentifier==="framer/useSetLocale"){let a=o.controls.localeId?.value;if(!k(a))return;r.otherActions.add(n(x.fn(te.setLocale,a)))}else if(QP(o)){let a=this.createSetVariableValueAction(t,o);a&&r.otherActions.add(n(a))}else if(qP(o)){let a=is(o.controls.url.value);if(E(a)||W(a))return;if(Oy(a)){let l=this.createOpenPageAction(a.webPageId,a.hash,o.meta?.delay);l&&r.navigationActions.add(n(l))}else{let l=JA(o,a);l&&r.otherActions.add(n(l))}}else if(!Or(t)&&ma(o)){if(o.actionIdentifier==="framer/useShowOverlay"&&this.options.type==="canvasComponent")return;let a=o.controls.overlay.value,l=this.createOverlayTriggers(a,t.id);l&&r.overlayActions.add(n(l))}else if(ZS(o)){if(!Or(t))return;let a=this.getOverlayIdForNode(t);if(C(a,"overlayAncestorId must not be null when nodeIsInOverlay is true"),!this.overlayState.has(a))return;r.overlayActions.add(n(this.createDismissOverlayAction(o.meta?.delay)))}else if(cT(o)){let a=this.getRepeaterIdForNode(t),l=this.treeStore.tree.get(a);if(!Rr(l))return;r.repeaterActions.add(x.fn(Bf))}}createDismissOverlayAction(t){return yi(x.fn($d(Gd,"hide")),t)}createOpenPageAction(t,o,r){if(!this.getNavigationTarget(t))return;let n=`${Et(t)}${o?Et(o):""}`,a=new x(`openRoute${n}`),l=[t,m`true`];o&&l.push(o),this.routeHandlers.set(n,m`const ${a} = ${x.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteHandler"}),...l)}`);let s=x.fn(a);return m`return ${yi(s,r)}`}createNavigateAction(t,o,r,i){if(t==="previous")return this.navigationTargets.add(HA),m`return ${yi(x.fn(ow,"previous"),r)}`;if(!o||!this.isValidNavigationTarget(o))return;let n={};for(let a in i){if(a==="target")continue;let l=i[a];n[a]=l.value}return this.navigationTargets.add(o),m`return ${yi(x.fn(ow,o,n),r)}`}createSetVariableValueAction(t,o){let r=this.treeStore.tree.getScopeNodeFor(t);if(!pr(r))return;let i=o.controls.variableId.value,n=r.getVariable(i);if(!n)return;let a=hs(this.treeStore.tree,O,n);if(!a)return;let l=hS(a,o.controls.value);if(!l)return;let s=ew(t,a,l,{context:{imports:this.imports,assets:this.assets,links:this.links,fonts:this.fonts,fetches:this.fetches,variables:this.variables}}),c=this.variables.createSetter(i);return x.optionalFn(c,s)}getNavigationTarget(t){if(!t)return null;let o=this.treeStore.tree.getNode(t);return!o||!(this.treeStore.tree.isGroundNode(o)||G(o))?null:o}isValidNavigationTarget(t){return!!this.getNavigationTarget(t)}createOverlayTriggers(t,o){let r=this.treeStore.tree.get(t);if(!r)return;let i=this.treeStore.tree.get(o);if(!i)return;let n=this.treeStore.tree.get(i.getPrimaryId());if(!n)return;if(!i?.children?.find(c=>c.getPrimaryId()===t&&rt(c))){BA.reportError("EventCollector: Tried to create a event handler to show an overlay which is not a descendant of the trigger.",{triggerId:o,overlayId:t});return}let l=this.overlayState.get(t)??this.bindings.create("overlay");this.overlayState.set(t,l);let s=this.overlayTriggerOverlayBindings.get(n.id)??new Map;return s.set(r.getPrimaryId(),l),this.overlayTriggerOverlayBindings.set(n.id,s),Qe(r)&&this.relativeOverlayPrimaryTriggers.add(n.id),x.fn($d(Gd,Qe(r)?"show":"toggle"))}};function nw(){return{bindings:new x.Set,gestureHandlers:new x.Set,eventActions:new x.Set,setVariantActions:new x.Set,navigationActions:new x.Set,otherActions:new x.Set,overlayActions:new x.Set,repeaterActions:new x.Set}}var aw=["bindings","gestureHandlers","eventActions","setVariantActions","otherActions","overlayActions","repeaterActions","navigationActions"];function GA(e){let t=[];for(let r of aw)for(let i of e[r])t.push(i);let o=m.joinLines(m`activeVariantCallback(async (...args) => {`,...t,m`})`);return e.overlayActions.size>0||e.repeaterActions.size>0?m`({${Gd}, ${Bf}}) => ${o}`:o}function $A(e){let t=[];for(let o in e)if(e[o])switch(o){case"altKey":t.push("alt");break;case"ctrlKey":t.push("ctrl");break;case"metaKey":t.push("meta");break;case"shiftKey":t.push("shift");break;default:break}return t}function _A(e,t,o,r){if(t==="cycle")return x.fn(rw,e.addImport("framer",{exportSpecifier:"CycleVariantState"}),r);if(o)return x.fn(rw,o,r)}function jA(e,t,o){let r=t.controls.type?.value,i=t.controls.variantId?.value,n=t.controls.pauseOffscreen?.value;if(!nP(r))return;let a=_A(e,r,i,o==="onAppear"?n:void 0);if(a)return yi(a,t.meta?.delay)}function UA(e){let t=e.controls.id?.value;if(!k(t))return;let o=new x(t);return m.joinLines(m`if (${o}) {${m.joinLines(e.meta?.delay&&m`await delay(() => {}, ${e.meta?.delay*1e3});`,m`const res = await ${o}(...args);`,m`if (res === false) return false;`)}}`)}function JA(e,t){if(!Pr(t))return;let{href:o,target:r=m`undefined`,rel:i}=SC(t.url);if(!o)return;let n=[o,r??m`undefined`,i??"noopener"];return yi(x.fn(m`window.open`,...n),e.meta?.delay)}function XA(e){let t=e.controls?.type?.value,o=e.controls?.message?.value;if(k(t))switch(t){case"event":return new x(at.lines('if (args[0] && "persist" in args[0]) args[0].persist()',yi(m`console.log(...args)`,e.meta?.delay)));case"message":return k(o)?yi(m`console.log(${o})`,e.meta?.delay):void 0;case"count":return k(o)?yi(m`console.count(${o})`,e.meta?.delay):void 0}}function yi(e,t){return!E(t)&&t>0?m`await delay(() => ${e}, ${t*1e3})`:e}function Ud(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":return!0;default:return!1}}function tr(e){return _(e)&&!Ud(e)&&!e.isVectorInstance}function sw(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":case"framer/Prototype":return!0;default:return!1}}function lw(e){switch(e.codeComponentIdentifier){case"framer/Page":return"Page";case"framer/Scroll":return"Scroll";case"framer/Prototype":return"DeviceCodeComponent"}}var zn=class extends Error{constructor(o,r,i,n=!1){super(o);this.missing=r;this.error=i;this.wasTimeout=n}};function Hf(e){return e instanceof zn}var Gf=qe("ensureComponentsInLoader"),ZA=500,KA=30*1e3;async function Jd(e,t,o,r){let i=cw(t,e).length;if(i===0)return;let n=r??KA+i*2e3;Gf.debug("modules:",t.length,", new:",i,", timeout:",n),await YA(e,o,n);let a=cw(t,e);if(a.length===0)return;let l=qA(t,e);throw Gf.debug("components loaded, but some are missing",{missing:a,errors:l}),new zn("ensureComponentsInLoader: Some modules are missing.",a,l)}async function YA(e,t,o){let r=performance.now(),i=await QA(async()=>(await lu(o),"timeout"),async()=>{await t.whenIdle();let n=t.revision;return C(n>=0,"moduleStore.revision cannot be negative"),await t.loadAllLocalModules(),n});if(i==="timeout")throw new zn("ensureComponentsInLoader: Modules store not ready in time.",[],[],!0);for(let n=0;n<1e3;n++){let a=e.modulesRevision;if(i<=a)break;if(performance.now()-r>o)throw Gf.debug("component loader not updated in time: want:",i,"got:",a),new zn("ensureComponentsInLoader: Component loader not updated in time.",[],[],!0);await lu(ZA)}}function cw(e,t){let o=new Set;for(let r of e)t.componentForIdentifier(r)||o.add(r);return Array.from(o)}function qA(e,t){let o=new Set;for(let r of e)nt(t.errorForIdentifier(r))||o.add(r);return Array.from(o)}async function QA(...e){return Promise.race(e.map(async t=>t()))}var dw=qr("componentPresets","componentPresets");function pw(e,t){let o=e.getPresetsListNode();return o?o.getComponentPresets().find(r=>r.componentIdentifier===t)??null:null}function uw(e,t){let{treeStore:o}=e.stores;if(o.tree.has(t.id))return;let r=pw(o.tree,t.componentIdentifier),i=vm(o.tree),n=iI(i.children,l=>ql(l)&&l.componentIdentifier!==t.componentIdentifier);n!==-1&&(n+=1),o.tree.insertNode(t,i.id,n),ua(e)&&e.stores.codeGenerationStore.createModuleFromComponentSource(i).catch(na),Vi(t.componentIdentifier)&&e.stores.modulesStore.addExternalModulesToProject([t.componentIdentifier],{onTreeUpdate(){}});let a=Mu(t.componentIdentifier);r||e.scheduler.runWithFullyLoadedTree(()=>{let l=o.getLoadedIndexes();for(let s of l.richTextNodes)s.htmlContent&&wt(o.tree,s,a)&&s.setComponentPreset(t.componentIdentifier,t.id)},{runInBackground:!0,name:"insertComponentPreset"})}function eM(e,t){if(pw(e.tree,t.componentIdentifier))return;let r=ym.createDefault(t);uw(e,r)}function Jq(e,t,o){e.scheduler.processWhenReady(()=>{let i=vm(e.tree).getComponentPresets(),n=new Set;for(let l of i){let s=l.resolveValue("name");s&&n.add(s)}let a=ym.createDefault(t,{name:_r(t.name,n)});uw(e,a);try{o&&o(a)}catch{}})}function Xq(e,t){return e.getPresetsListNode()?.getComponentPresets().filter(r=>r.componentIdentifier===t)??[]}function Zq(e,t,o){let r=ce(t);function i(a){let l=ce(a);return l.kind==="externalModuleExport"&&r.kind==="externalModuleExport"&&l.moduleId===r.moduleId&&l.exportSpecifier===r.exportSpecifier}let n=e.getPresetsListNode();if(n){let a=n.getComponentPresets();for(let l of a)i(l.componentIdentifier)&&l.set({componentIdentifier:o})}C(!e.getService("loader"),"Tree should be fully loaded");for(let a of e.root.walk()){if(!De(a))continue;let l=a.getComponentPresets();for(let[s,c]of l){let d=Mu(s);i(s)&&wt(e,a,d)&&(a.setComponentPreset(o,c),a.setComponentPreset(s,void 0))}}}function Kq(e,t,o){let r=t.find(i=>i.componentIdentifier===o);r&&eM(e,r)}var tM=e=>[`.${e}[data-border="true"]::after, .${e} [data-border="true"]::after { content: ""; border-width: var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0); border-color: var(--border-color, none); border-style: var(--border-style, none); width: 100%; height: 100%; position: absolute; box-sizing: border-box; left: 0; top: 0; border-radius: inherit; pointer-events: none; }`],oM=e=>[`.${e}[data-selection="true"] * ::selection, .${e} [data-selection="true"] * ::selection { color: var(--selection-color, none); background-color: var(--selection-background-color, none); }`],rM=e=>[`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar { width: 0px; height: 0px; }`,`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar-thumb, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar-thumb { background: transparent; }`,`.${e}[data-hide-scrollbars="true"], .${e} [data-hide-scrollbars="true"] { scrollbar-width: none; }`],mw="data-layout-template",iM={0:tM,1:rM,2:oM},$f="-container",Aa,Xd=class{constructor(t,o,r,i){this.entryNode=t;this.sourceNode=o;this.serializationId=r;this.cssVariableDefinitions=i;R(this,"sharedStyleIds",new Set);R(this,"rules",{});R(this,"nodeClassNames",new Map);ie(this,Aa,new Set);R(this,"selectorsByNodeId",new Map)}getNodeIdForClassName(t){let o=t.endsWith($f)?t.slice(0,-$f.length):t;return this.nodeClassNames.get(o)}get(t=this.sourceNode.id){return t===this.sourceNode.id&&this.getWideGamutColorRule(),{rules:this.rules[t]??new Map}}createScopingSelector(t,o){if(t){let r=`.${this.serializationId}.${VS}v-${Et(t)}`;return o?`${r}.${o}`:r}return`.${this.serializationId}`}createSelector(t,o,r,i,n=t===this.sourceNode.id){let a=this.createScopingSelector(r,i);return t===this.entryNode.id?`${a}.${o}, ${a} .${o}`:n?`${a}.${o}`:`${a} .${o}`}addRule(t,o,r={}){let{scope:i,gesture:n,container:a,ruleType:l=0,hasScopingSelector:s}=r,c=o.getPrimaryId(),d=PS(l,c);this.nodeClassNames.has(d)||this.nodeClassNames.set(d,o.id),a&&(d+=$f);let u=this.createSelector(c,d,i,n,s);this.selectorsByNodeId.set(c,u);let f=r.variant?.id??this.sourceNode.id;if(this.createRule(u,em(t),f),aM(t)){let y=lM(o,this.serializationId);for(let v in y)this.createRule(v,em(y[v]),f)}return d}addConditionalRule(t){F(this,Aa).add(t)}hasConditionalRule(t){return F(this,Aa).has(t)}conditionalRules(t){let o=[];return F(this,Aa).forEach(r=>{let i=iM[r],n=i(t);o.push(...n)}),o}addSharedStyle(t){this.sharedStyleIds.add(t)}createRule(t,o,r=this.sourceNode.id){let i=this.rules[r];if(i){i.set(t,o);return}this.rules[r]=new Map([[t,o]])}getWideGamutColorRule(){let t=this.cssVariableDefinitions.getWideGamutColorRules(`.${this.serializationId}`,this.selectorsByNodeId);t.length!==0&&this.createRule("@supports (color: color(display-p3 1 1 1))",t.join(" "))}};Aa=new WeakMap;var nM="viewTransitionName";function aM(e){return nM in e&&sM(e)}var fw="-exclude";function sM(e){return ty(e.viewTransitionName)&&e.viewTransitionName.endsWith(fw)}function _f(e,t,o){let r=Et(e.getPrimaryId());return o?`${t}-${r}${fw}`:r}function lM(e,t){let o=_f(e,t,!0);return{[`::view-transition-group(${o})`]:{animation:"none !important"},[`::view-transition-new(${o})`]:{animation:"none !important"},[`::view-transition-old(${o})`]:{animation:"none !important"}}}function hw(e,t,o){return!!(We(e)||We(t)||e.id===o.rootId)}var Zd=class{constructor(t,o){this.repeaterNode=t;this.parent=o;R(this,"subqueries",new Map);R(this,"variableDependencies",new Map);R(this,"childRepeaterIds",new Set)}addSubquery(t,o,r){let i=this.getSubqueries(t);i.set(o,r),this.subqueries.set(t,i),this.childRepeaterIds.add(o)}getSubqueries(t){return this.subqueries.get(t)??new Map}addVariableDependencies(t,o){let r=this.getVariableDependencies(t);r.push(...o),this.variableDependencies.set(t,r)}getVariableDependencies(t){return this.variableDependencies.get(t)??[]}};function jf(e,t){return!hr(e)||E(e.visible)?!0:W(e.visible)?t.createDeduplicatedDynamicValueBinding(e.visible,e,"visible"):e.isVisible()}function Uf(e,t,o,r){if(o.inComponentSlot||r||De(e)||Xt(e)||Qe(e)||wr(e)||ao(e)&&je.isOn("layoutScroll")||Wt(e)&&$S.some(n=>(e[n]?.length??0)>0)||Zt(e)&&!Oe(e))return!0;switch(t.scopeType){case"CanvasPage":return!0;case"SmartComponent":return!0;case"LayoutTemplate":case"WebPage":case"DesignPage":if(xe(e)||_c(e))return!0;if(Ko(e)){let n=e.rotation;if(W(n)||X(n)&&n!==0)return!0}return jc(e);case"VectorSet":return!1;default:Mt(t.scopeType)}}function Vo(e,t){if(Number.isNaN(e)&&Number.isNaN(t)||e===t)return!0;if(nt(e)||nt(t)||k(e)||k(t)||E(e)||E(t)||X(e)||X(t)||ar(e)||ar(t)||yu(e)||yu(t))return!1;if(bo(e)||bo(t))return bo(e)&&bo(t)?me(e)===me(t):!1;if(ft(e)||ft(t)){if(ft(e)&&ft(t)){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!Vo(e[o],t[o]))return!1;return!0}return!1}if(Re(e)||Re(t)){if(Re(e)&&Re(t)){for(let a in e)if(!Vo(e[a],t[a]))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;let o,r,i,n;return gs(e)&&(o=K.spreadsAtStart(e),r=K.spreadsAtEnd(e)),gs(t)&&(i=K.spreadsAtStart(t),n=K.spreadsAtEnd(t)),!Vo(o,i)||!Vo(r,n)?!1:gs(e)&&gs(t)?K.isSorted(e)===K.isSorted(t):!0}return!1}throw new Error(`Tried to compare unsupported primitive types. ${typeof e} / ${typeof t}`)}var gw={js:m`undefined`,css:"unset"};function cM(e,t){switch(t){case"js":return gw[t];case"css":return e==="display"?"block":gw[t];default:j(t,`target is not a defined enum: ${t}`)}}function Ys(e,t,o){if(!e)return;if(!t)return e;let r={},i=!1;for(let n in e){let a=e[n],l=t[n];Vo(a,l)||(E(a)?n in t&&(r[n]=o?cM(n,o):void 0,i=!0):(r[n]=a,i=!0))}if(i)return r}var Kd=(e,t)=>{if(!Oi(e)||!e.codeOverrideEnabled||!e.codeOverrideIdentifier)return;let o=O.componentForIdentifier(e.codeOverrideIdentifier);if(!(o&&cu(o)))return;let r=ce(e.codeOverrideIdentifier);if(!Ge(r))return;let{importSpecifier:i,exportSpecifier:n}=ui(r,t.moduleType,t.modulesStore);if(!(!i||!n))return{importSpecifier:i,exportSpecifier:n}};function Yd(e,t){let o=[];if(je.isOn("overridesWithPropertyControls")&&Es(e)&&e.codeOverrides)for(let r of e.codeOverrides){let i=O.componentForIdentifier(r.identifier);if(!(i&&cu(i)))continue;let n=ce(r.identifier);if(!Ge(n))continue;let a=t.imports.addModuleImport(n);if(!a)continue;let l=kb(r),s=Object.keys(l).length>0&&Bt(l);o.push(s?[a,l]:a)}return o}function yw(e){let t=e.getContentManagementNode();if(t)return C(t.isLoaded(),"ContentManagementNode should be loaded"),t;let o=new cv;return e.insertNode(o,e.root.id),o}function dM(e){if(e.type!=="controlReference"&&e.type!=="nodePropertyControlReference")return;let{expectedType:t}=e;C(t==="enum"||t==="segmentedenum"||t==="file")}function rQ({galleryImageId:e,isSmartComponent:t}){return t?Array(4).fill(null).map(()=>({id:Ft(),type:"object",value:{[e]:{type:"image",value:void 0}}})):[]}function qs(e,t){return C(e.type!=="responsiveimage",`Image variables are compiled to be responsive images. To
        prevent confusion we don't allow creation of type responsive images.
        Because that would mean that two different types represent the same thing.`),dM(e),e.type!=="trackingid"&&e.type!=="vectorsetitem"&&Ct("variable_create",{scopeType:t,variableType:e.type}),e.type==="image"&&(k(e.initialValue)?uu(e.initialValue)||(e.initialValue=void 0):Uo(e.initialValue)&&k(e.initialValue.value)&&(uu(e.initialValue.value)||(e.initialValue=void 0))),e.type==="array"&&t==="canvas_component"&&(C(e.minCount===void 0,"minCount should not be lifted to component"),C(e.maxCount===void 0,"maxCount should not be lifted to component")),{id:Ft(),...e}}function pM(e,t,o={}){let r=qd(e),i=uM(e,o),n=r.children,a=new Map;for(let s of t.collections)a.set(s.id,s);let l=[];for(let s of n){let c=s.resolveValue("name");if(nt(c))continue;let d=s.createdFromKitSchemaId?a.get(s.createdFromKitSchemaId):a.get(s.id),u=[];for(let f of s.variables){if(!ii(f))continue;if(f.type!=="collectionreference"&&f.type!=="multicollectionreference"){u.push({name:f.name,type:f.type});continue}let y=Ar(e,f.dataIdentifier);C(y,"Target collection not found for variable");let v=y.resolveValue("name");C(v,"Collection name not found"),u.push({name:f.name,type:f.type,reference:{collection:v,kind:f.type==="collectionreference"?"single":"multi"}})}l.push({name:c,variables:u,items:i.get(c),createdFromKitTemplate:d?.name})}return l}function fQ(e){let t=qd(e),o=new Map;for(let r of t.children){let i=r.resolveValue("name");nt(i)||o.set(i,r.id)}return o}function qd(e){let t=e.getContentManagementNode();C(t,"Content management node not found");let o=t.loaded;return C(o,"Content management node not loaded"),o}function uM(e,t={}){let o=qd(e),r=new Map,i=t.filterOnItemIds;for(let n of o.children){let a=n.resolveValue("name");if(nt(a))continue;let l=n.getSlugVariable(),s=[];for(let c of n.getUnsortedChildren()){if(i&&!i.includes(c.id))continue;let d={id:c.id,slug:Lf(c,l),title:Ea(n,c)};if(!t?.fullSnapshot){s.push(d);continue}s.push({...d,...mM(n,c)})}r.set(a,s)}return r}function mM(e,t){let o={};for(let r of e.variables){if(!ii(r))continue;let i=t.getControlProp(r.id);o[r.name.toLowerCase()]=i?.value??r.initialValue??null}return o}function Cw(e,t){let o=qd(e),r=[];for(let i of o.children){if(nt(i.name)||i.id!==t&&i.createdFromKitSchemaId!==t)continue;let n=i.resolveValue("name");C(n,"Collection name not found"),r.push(n)}return r}function hQ(e,t){let o=[];for(let r of t.variables){if(!ii(r)||r.type!=="collectionreference"&&r.type!=="multicollectionreference")continue;let i=Ar(e,r.dataIdentifier);C(i,`Referenced collection for field "${r.name}" not found`),o.push(i)}return o}function fM(e,t,o,r,i){let n=t.getCollectionTemplate(r.collection);C(n,`Collection with alias ${r.collection} not found`);let l=i.find(c=>c.field===o&&r.collection===c.fromTemplate)?.name;if(!l)return;let s=hM(e,n.id,l);return C(s,`Referenced collection for template "${n.name}" not found. Plan must create it first.`),s}function gQ(e,t,o,r,i=[],n){let a=[];for(let l of r.variables){let{defaultValueSuggestions:s,reference:c,...d}=l;if(d.type==="collectionreference"||d.type==="multicollectionreference"){C(c,"Reference is required");let u=n?n(c.collection):fM(e,t,l.name,c,i);if(!u)continue;a.push(qs({...d,dataIdentifier:u.instanceIdentifier},"collection"));continue}a.push(qs(d,"collection"))}return new vb({name:o,variables:a,createdFromKitSchemaId:r.id})}function hM(e,t,o){return yw(e).children.find(i=>(i.id===t||i.createdFromKitSchemaId===t)&&i.resolveValue("name")===o)}function yQ(e,t,o){let r=new Map;for(let d of t)r.set(d.fromTemplateCollection,{name:d.collectionName,new:d.new});let i=new Map;for(let d of e.fields){if(!d.isCMSConnectedField)continue;let u=o.getCollectionTemplateById(d.collectionId)?.name;if(!u)continue;let f=i.get(u)??new Set;if(d.reference?.collectionId){let y=o.getCollectionTemplateById(d.reference.collectionId)?.name;if(!y)continue;f.add(y),i.has(y)||i.set(y,new Set)}i.set(u,f)}let n=new Map;for(let[d,u]of i)for(let f of u){let y=n.get(f)??new Set;y.add(d),n.set(f,y)}let a=new Map;for(let d of i.keys()){let u=i.get(d);a.set(d,u?.size??0)}let l=[],s=[];for(let[d,u]of a)u===0&&s.push(d);for(;s.length>0;){let d=s.shift();C(d,"Collection ID must exist when the queue is not empty"),l.push(d);let u=n.get(d);if(u)for(let f of u){let y=a.get(f)??0;if(y===0)continue;let v=y-1;a.set(f,v),v===0&&s.push(f)}}let c=[];for(let d of l){let u=r.get(d);u&&c.push({id:d,name:u.name,new:u.new})}return c}function CQ(e,t,o,r={}){let i=o.resolveValue("name");C(i,"Collection must have a name");let a=pM(e,t,r).find(l=>l.name===i);return C(a,`Collection snapshot for "${i}" not found`),a}function VQ(e){return e.customizationsSectionId??e.id}function Sw(e){if($c(e)&&e.kitSectionSource)return e.kitSectionSource?.section;if(lm(e))return e.customizationsSectionId}function vw(e,t){if(!lm(t))return!1;let o=e.getParent(t.id);if(!ve(o))return!1;let r=e.getScopeNodeFor(o);return eC(r)}var gM="$NEW";function PQ(e,t,o){let r=new Map;for(let a of o.fields){if(!a.isCMSConnectedField||r.has(a.collectionId))continue;let l=t.find(s=>s.id===a.collectionId);C(l,"Collection template must be defined"),r.set(a.collectionId,l.name)}let i={};for(let[a,l]of r){let s=Cw(e,a);i[l]=[...s,gM]}let n=o.fields.map(a=>{if(!a.isCMSConnectedField)return a;let l=r.get(a.collectionId);C(l,"Alias must be defined");let{collectionId:s,reference:c,...d}=a,u=c?{...c,collection:r.get(c.collectionId)}:void 0;return{...d,collection:l,reference:u}});return{id:o.id,description:o.description,rules:o.rules,supportedCollections:i,fields:n,detailPageTemplateId:t.find(a=>a.id===o.detailPageCollectionId)?.name}}function yM(e){return!bo(e)&&(k(e)||X(e)||nt(e)||E(e))}function Jf(e,t){return t.scopeType!=="SmartComponent"?yM(e):Bt(e)}var Tw=Nt((e,t,o)=>{if(!_(e)||!e.isVectorInstance||!de(o))return;let r=O.reactComponentForIdentifier(e.codeComponentIdentifier);if(!r)return;let i=Hd(e,r.properties,e.getControlProps(r.properties),{context:o,repeaterInfo:void 0});for(let n in i){let a=i[n],l=`--${Et(n)}`;Jf(a,o)&&(t[l]=a??void 0)}});function bw(e,t,o,r,i){let n={...t};PC.has(e.codeComponentIdentifier)&&(n.__fromCodeComponentNode=!0);let a=r.reactComponentForIdentifier(e.codeComponentIdentifier);if(a?.properties){let y=Hd(e,a.properties,e.getControlProps(a.properties),{context:o,repeaterInfo:i?o.repeaterInfo.get(i):void 0});if(e.isVectorInstance)for(let v in y){let b=y[v],V=o.scopeType!=="SmartComponent"?!0:void 0;n[v]=Jf(b,o)?V:b}else Object.assign(n,y)}let l=Sb(r,e.codeComponentIdentifier,n),s=e.getActions(r);for(let y in s)l[y]=o.events?.addHandler({node:e,trigger:y,actionInfo:s[y]});if(e.isVectorInstance)return xm(l);let c=Cb(e,r);wC(e)&&Object.assign(l,e.getStylingProps(c,!1));let d=e.id===o.rootId&&o.scopeType!=="SmartComponent",u=c?Object.keys(c):[],f=Re(c)&&u.length>0&&u.some(y=>!E(c[y]));return Re(c)&&(f||d)&&d&&(c.width=m`style?.width`,c.height=m`style?.heigh`,f=!0),f&&(l.style?Object.assign(l.style,c):l.style=c),xm(l)}var CM=/\/assets\/(?:(\d+)\/)?([^?]+)\?/u;function SM(e,t){if(typeof DOMParser>"u"||e.indexOf("image")<0)return;let o=un(e),r=o.querySelector("svg");if(!r)return;let i=new Map;if(o.querySelectorAll("image").forEach(n=>{let a=n.getAttribute("xlink:href");if(!a)return;let l=CM.exec(a);if(!l)return;let s=Number.parseInt(l[1],10),c=l[2],d="::ASSET::"+i.size+"::",f=t?.resolveResponsiveImage(c)?.src??Ol(c,s);i.set(d,f),n.setAttribute("xlink:href",d)}),i.size!==0)return r.outerHTML.replace(/::ASSET::\d+::/gu,n=>i.get(n)??`missing:${n}`)}function Qd(e,t){let o=e.svg;k(o)&&(e.svg=SM(o,t)??o)}var Iw=q((e,t,o)=>{if(!wb(e)||!Pa(o?.scopeType))return;if(Yv(e)||Xt(e)&&W(e.fillImage)){t["aria-label"]=void 0;return}if(de(o)&&W(e.ariaLabel)){t["aria-label"]=o.createDeduplicatedDynamicValueBinding(e.ariaLabel,e,"ariaLabel");return}let r=e.resolveValue("ariaLabel",o?.variableOverrides);if(k(r)&&r!==""){t["aria-label"]=r;return}t["aria-label"]=void 0});var Nw=q((e,t,o)=>{let r=Zt(e),i=!!(e.parentid&&o?.renderAsListNodes?.has(e.parentid));if(!Pe(e)){if(!Oe(e)&&r&&(t.as="a"),i){t.as="li";return}return}if(!Xt(e))return;let n=e;if(r){t.as="a";return}if(i){t.as="li";return}let a=n.htmlTag??Gc;a!=="div"&&(t.as=a)});var xw=q((e,t,o)=>{if(!Kb(e)||!de(o))return;let r=e.getPrimaryId(),i=o.events.overlayState.get(r);i&&(W(e.backdropDismissible)?t.onTap=m`() => ${o.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")} && ${x.fn(m`${i}.hide`)}`:t.onTap=e.resolveValue("backdropDismissible")?m`() => ${x.fn(m`${i}.hide`)}`:void 0,t.initial={opacity:0},t.key=r,e.backdropTransitionLocked?(t.transition=ki(e.backdropEnterTransition??Zc),t.animate={opacity:1},t.exit={opacity:0}):(t.animate={opacity:1,transition:ki(e.backdropEnterTransition??Zc)},t.exit={opacity:0,transition:ki(e.backdropExitTransition??Zc)}))});var Vw=q((e,t,o)=>{if(!Yo(e)&&Mo(e)){if(Jo(e)&&!e.fillEnabled){t.background=void 0;return}t.background=yb(e,!0,o),t.background&&Ue(e)&&(e.heightType===5?t.fitImageDimension="height":e.widthType===5?t.fitImageDimension="width":t.fitImageDimension=void 0)}});var ww=q((e,t,o)=>{!ci(e)||!e.borderEnabled||bv(e)||(t["data-border"]=!0,de(o)&&o.css.addConditionalRule(0))});var kw="data-reset",Rw=q((e,t,o)=>{if(de(o)&&!(o.scopeType==="CanvasPage"||o.scopeType==="DesignPage")&&$i(e)){if(!fT(e.htmlTag)){t[kw]=void 0;return}e.htmlTag==="button"&&(t[kw]="button")}});function Xf(e,t,o){let r=_o(o)?o.localId:o?.moduleId,i=e.get(r);if(pC(i))return i.pluginId;if(!Oc(i))return;if(!E(i.save.pluginId))return i.save.pluginId;let n=t.getPersistedModuleByLocalId(i.id);if(!n)return;let a=n.metadata.pluginId;if(k(a))return a}function Z4(e,t,o,r){let i=Xf(e.tree,t,r);if(!E(i))return o.manifestById.get(i)}function K4(e){return`Edit in ${e.name}`}function Lw(e,t){if(_o(e))return ce(e).type;if(Vi(e)){let r=t.getExternalModuleNodes().find(i=>i.codeComponentIdentifier===e);return r?r.type:void 0}}var Fw=q((e,t,o)=>{if(!_(e)||!de(o)||!tr(e))return;t.scopeId=o.scopeId,t.nodeId=e.getPrimaryId(),t.isAuthoredByUser=Lw(e.codeComponentIdentifier,o.treeStore.tree)==="codeFile"?!0:void 0;let r=Vi(e.codeComponentIdentifier);r&&(t.isModuleExternal=r);let i=o.nodeRendersWithMotion.get(e);i&&(t.rendersWithMotion=i);let n=ce(e.codeComponentIdentifier);t["data-code-component-plugin-id"]=Xf(o.treeStore.tree,o.modulesStore,n)});var Ew=q((e,t,o)=>{Db(e)&&Pa(o?.scopeType)&&(t["data-nosnippet"]=Lb(e)?e.dataNosnippet:void 0)});var Aw=q((e,t,o)=>{if(!ws(e))return;let r=de(o)&&W(e.draggable)?o.createDeduplicatedDynamicValueBinding(e.draggable,e,"draggable"):e.resolveValue("draggable")??mT(e);t.draggable=!E(r)&&!W(e.draggable)?r.toString():r});var Mw=q((e,t,o)=>{if(!de(o)||To(e)||!ba(e)&&!gc(e))return;let r=o.treeStore.tree.get(o.scopeId);zr(r)&&sT(r)&&Object.assign(t,o?.events?.eventHandlersForNode(e))});var Ow=q((e,t,o)=>{if(!Oe(e))return;let r=e.getFontsForLoading();if(de(o)){let i=ic(e);for(let n of r)o.fonts?.addFontObjectBySelector(n,i)}t.fonts=r.length>0?r:void 0});var zw=q((e,t,o)=>{II(e)&&(t.step=de(o)&&W(e.formInputStep)?o.createDeduplicatedDynamicValueBinding(e.formInputStep,e,"step"):e.resolveValue("formInputStep"))});var Ww=q((e,t,o)=>{if(Ms(e)){if(de(o)){t["data-hide-scrollbars"]=W(e.hideScrollbars)?o.createDeduplicatedDynamicValueBinding(e.hideScrollbars,e,"hideScrollbars"):e.hideScrollbars||void 0,E(e.hideScrollbars)||o.css.addConditionalRule(1);return}t["data-hide-scrollbars"]=e.resolveValue("hideScrollbars",o?.variableOverrides)?!0:void 0}});var Bw=q((e,t,o)=>{!Wt(e)||o?.scopeType==="WebPage"||(t["data-highlight"]=jS(e,O)||void 0)});var Zf=q((e,t,o)=>{if(!de(o)||!o.llmSnapshot)return;let r=TM(e);if(r&&(t["data-type"]=r),_(e)&&!e.isVectorInstance){let i=IM(e);if(!i)return;let{keys:n,labels:a}=i;n.length>0&&(t["data-prop-keys"]=n.join(",")),a.length===n.length&&a.length>0&&(t["data-prop-labels"]=a.join(","))}});function TM(e){if(De(e)&&!bM(e))return"text";if(_(e))return e.isVectorInstance&&!W(e.dynamicVectorSetIdentifier)?"icon":"component"}function bM(e){return U(e.htmlContent)?!0:W(e.textContent)||U(e.textContent)}function IM(e){let t=O.componentForIdentifier(e.codeComponentIdentifier);if(!t?.properties)return;let o=e.getControlProps(t.properties),r=[],i=[];for(let n in o){let a=o[n];if(!a)continue;let{type:l,value:s}=a;if(l!=="string"&&l!=="vectorsetitem"||W(s)||U(s))continue;r.push(n);let c=t.properties?.[n]?.title;i.push(c??n)}return r.length>0?{keys:r,labels:i}:void 0}var Hw=q((e,t,o)=>{if(!ye(e)||!Me(e)||!de(o)||o.scopeType!=="LayoutTemplate")return;let r=e.tree()?.getParent(e.id);if(!ve(r))return;let{center:i}=HT(e);my(t,$T(e)?i:void 0)});var Gw=q((e,t,o)=>{if(!Zt(e)||Oe(e))return;if(o?.variables&&U(e.linkOpenInNewTab)){t.openInNewTab=o.variables.create(e.linkOpenInNewTab);return}let r=e.resolveValue("linkOpenInNewTab",o?.variableOverrides);ar(r)&&(t.openInNewTab=r)}),$w=q((e,t,o)=>{if(!Zt(e)||Oe(e))return;if(o?.variables&&U(e.linkSmoothScroll)){t.smoothScroll=o.variables.create(e.linkSmoothScroll);return}let r=e.resolveValue("linkSmoothScroll",o?.variableOverrides);ar(r)&&(t.smoothScroll=r)}),_w=q((e,t,o)=>{if(!Zt(e)||Oe(e))return;if(o?.variables&&U(e.linkClickTrackingId)){t.clickTrackingId=o.variables.create(e.linkClickTrackingId);return}let r=e.resolveValue("linkClickTrackingId",o?.variableOverrides);k(r)&&(t.clickTrackingId=r)}),jw=q((e,t,o)=>{if(!Zt(e)||Oe(e))return;let r=e.resolveValue("linkRelValues",o?.variableOverrides);if(o?.variables&&U(e.linkRelValues)){t.relValues=o.variables.create(e.linkRelValues);return}Hy(r)&&(t.relValues=r)}),Uw=q((e,t,o)=>{if(!Zt(e)||Oe(e))return;if(o?.variables&&U(e.linkPreserveParams)){t.preserveParams=o.variables.create(e.linkPreserveParams);return}let r=e.resolveValue("linkPreserveParams",o?.variableOverrides);ar(r)&&(t.preserveParams=r)}),Jw=q((e,t,o)=>{if(!Gi(e)||Oe(e))return;if(!Zt(e)){t.href=void 0;return}let r=e.getLink();_t(r)?t.href=o?.valueTransforms?.createComputedValue(r,e,void 0):Pr(r)&&e.linkLocalized&&o?.localizedValues?t.href=o.localizedValues.add(r.url,e.linkLocalized,i=>e.linkLocalized?.[i]?.value):t.href=o?.links?.create(r)}),Xw=q((e,t)=>{if(ss(e)){let o=new Set,r=e.getInlineLinks(!1);k(e.link)&&r.push(e.link),r.forEach(i=>{if(!i||!Ay(i))return;let n=My(i)?.target;n&&o.add(n)}),t.__link=e.link,o.size&&(t.preload=Array.from(o))}}),Zw=q((e,t)=>{t.nodeId=e.getPrimaryId()}),Kw=q((e,t,o)=>{t.scopeId=o?.scopeId});var Yw=q((e,t,o)=>{if(!Hc(e)||!de(o)||!Uc(o.scopeType)||rt(e))return;if(!uT(e)){t.drag=void 0;return}let r,i;!e.dragEffectFreeform&&o.scopeType!=="SmartComponent"?r=o.elementIds.scrollTargetInfo({target:e.dragEffectConstraintElement,collectionItem:e.dragEffectConstraintItem})?.ref:e.dragEffectSnapBack&&(i=!0);let n=e.dragEffectTransition?ki(e.dragEffectTransition):void 0,a=n?o.declarations.file.dedupe("inertia",n):void 0,l=r||i,s=m`e`,c={drag:!0,dragConstraints:r,dragMomentum:!!e.dragEffectMomentum,dragTransition:l?a:void 0,dragSnapToOrigin:i,onMouseDown:o.declarations.file.dedupe("preventDefault",m`(${s}) => ${s}.preventDefault()`)};Object.assign(t,c)});var NM="--extracted-",xM=["--framer-text-color","--framer-text-stroke-width","--framer-text-stroke-color","--framer-font-variation-axes"];function Qs(e,t){let o=Na(e);return qw(o,(r,i)=>{for(let n of xM){let a=r.style.getPropertyValue(n);if(!a)continue;let l=VM(i,n),s=PM(l,a);t&&(t[l]=a),r.style.setProperty(n,s)}}),o.innerHTML}function VM(e,t){return NM+Et(e+t)}function PM(e,t){return`var(${e}, ${t})`}function qw(e,t,o=""){for(let r=0;r<e.children.length;r++){let i=e.children[r];if(i instanceof HTMLElement){let n=o+i.tagName+r;t(i,n),qw(i,t,n)}}}var Qw=q((e,t,o)=>{if(!uc(e)||!de(o))return;let r=o.scopeType==="SmartComponent",i=r?Qs(e.html):e.html,{assets:n,imports:a,variables:l,links:s,cssVariableDefinitions:c}=o||{};if(C(n&&a&&s,"assets, imports, links must exist at this point"),U(e.htmlContent))C(l,"context.variables should exist if we are dealing with variables references"),t.children=l.create(e.htmlContent);else{let d=_i(i,{collectors:{assets:n,imports:a,links:s,variables:l,cssVariableDefinitions:c},useFramerMotion:r,nodeId:e.getPrimaryId(),scopeId:o.scopeId}),u=Qc(i);t.children=o.localizedValues.add(d,e.htmlLocalized,(f,y)=>{let v=XI(u,e.htmlLocalized?.[f],i);if(!v)return;let b;return v.type==="rich-text"?(b=JI(e.html,v.value),r&&(b=Qs(b))):b=Zb(i,v.value),_i(b,{collectors:{assets:n,...y},useFramerMotion:r,nodeId:e.getPrimaryId(),scopeId:o.scopeId})})}De(e)&&Uo(e.anchorLinkOffsetY)&&(t.anchorLinkOffsetY=e.anchorLinkOffsetY),o.metrics?.measureLength("textBytes",t.__htmlStructure),o.metrics?.measureLength("textBytes",t.htmlFromDesign),o.metrics?.measureLength("textBytes",t.children)});var ek=q((e,t,o)=>{if(!(!Li(e)||!e.colorable)){if(Jo(e)&&!e.fillEnabled){t.fill=null;return}if(Mo(e)&&!(e.fillType==="linear-gradient"&&e.fillLinearGradient||e.fillType==="radial-gradient"&&e.fillRadialGradient||e.fillType==="conic-gradient"&&e.fillConicGradient)){if(e.fillType==="image"&&e.fillImage){t.fill=gb(e,o,o?.variableOverrides);return}if(e.fillColor){if(W(e.fillColor)&&de(o)){t.fill=o.createDeduplicatedDynamicValueBinding(e.fillColor,e,"fillColor");return}t.fill=e.resolveValue("fillColor",o?.variableOverrides)}}}});var tk=q((e,t,o)=>{if(!fc(e)||!eS(e))return;let r=Gi(e)&&k(e.link)?e.link:void 0,i=KC(e)?e.htmlTextTag:void 0,{alignment:n,rawHTML:a}=e.getStyledText().getProps(e,r,i,()=>{});t.alignment=n,t.rawHTML=a?m`${a}`:void 0,o?.metrics?.measureLength("textBytes",t.rawHTML)});var ok=q((e,t,o)=>{if(!Dv(e))return;let r=e.textContent;if(!r){t.text=void 0;return}if(de(o)){if(Fy(r)){let i=r.transforms[0],n=o.imports.addImport("framer",{exportSpecifier:"RelativeDate"});t.text=ot.tag(n,new K({date:Vr(r)?o.variables.create(r.startValue):o.fetches.createFetchBinding(e,r.startValue),dateFormat:i.format,dateStyle:i.dateStyle,dateCapitalize:i.capitalize??!1,locale:i.locale}))}else W(r)?t.text=o.createDeduplicatedDynamicValueBinding(r,e,"textContent"):j(r,"text content must be a variable or a computed value");o?.metrics?.measureLength("textBytes",t.text)}});var rk=q((e,t,o)=>{!Jc(e)||!e.resolveValue("textSelection")||(t["data-selection"]=!0,de(o)&&o.css.addConditionalRule(2))});var ik=q((e,t)=>{Os(e)&&(t.verticalAlignment=e.textVerticalAlignment)});var nk=q((e,t)=>{dI(e)&&(t.description=k(e.description)&&e.description!==""?e.description:void 0,t.title=k(e.title)&&e.title!==""?e.title:void 0)});function wM(e){if(xe(e))return e.variantTransition;if(Rs(e))return e.transition}var ak=q((e,t,o)=>{if(o.scopeType!=="SmartComponent")return;let r=wM(e);if(W(r)){t.value=o.createDeduplicatedDynamicValueBinding(r,e,"transition");return}if(!r){t.value=void 0;return}let i=ki(r);t.value=o.declarations.file.dedupe("transition",i)});var kM="-container",Yf=m`formState`,RM=q((e,t,o)=>{Li(e)&&(t.withExternalLayout=!0,t.intrinsicHeight=e.intrinsicHeight||void 0,t.intrinsicWidth=e.intrinsicWidth||void 0,t.svg=m`${e.svg}`,Qd(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg))}),DM=q((e,t,o)=>{if(!Ae(e))return;C(t instanceof K,"");let r=Lm.shared().getSVGStringForNode(e),i=e.contentHash;K.assign(t,{layout:o?.scopeType==="SmartComponent"?"position":void 0,intrinsicWidth:void 0,intrinsicHeight:void 0,...Tm(e),withExternalLayout:!0,svgContentId:i,svg:r});let n=t.style?.opacity;(n||Number.isFinite(Number(n)))&&(t.opacity=n),Qd(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg)}),LM=q((e,t,o)=>{if(!Pt(e))return;let r=Lm.shared().getSVGStringForNode(e);Object.assign(t,{intrinsicWidth:void 0,intrinsicHeight:void 0,...Tm(e),svg:r,withExternalLayout:!0,requiresOverflowVisible:ZI(e)});let i=t.style?.opacity;(i||Number.isFinite(Number(i)))&&(t.opacity=i),Qd(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg)});function FM(e){return e.codeComponentIdentifier==="framer/Prototype"}function Kf(e,t,o,r,i){if(!_(e))return;let{lastRepeaterId:n,layoutId:a}=i;if(K.assign(t,bw(e,void 0,o,O,n)),FM(e))t.scaleTo="dynamic";else if(Ud(e))t.__fromCanvasComponent=!0;else if(!e.isVectorInstance)t.width="100%",t.height="100%",t.id=e.getPrimaryId(),e.name!==null&&!t.name&&!lv(e.name)&&(t.name=e.name);else{let c=Ko(e)&&(W(e.rotation)||X(e.rotation)&&e.rotation!==0);t[RT]=o.scopeType==="SmartComponent"?!0:_c(e)||c||jc(e)}JT(e,t,o);let l=o.events.overlayTriggerOverlayBindings.get(e.getPrimaryId());if(VT(e)&&l?.size){let c=new x(Array.from(l.values())?.map(d=>m`${d}.visible`)?.join(" || "));t.variant=m`(${c}) ? ${e.whileOpenEffectVariant} : ${t.variant??m`undefined`}`}CT(o.treeStore.tree,e)&&(t.type="submit",gT(e)&&(t.variant=x.fn(o.declarations.file.dedupe("formVariants",m`(form, variants, currentVariant) => { ${m.joinLines(m`switch(form.state) {${m.joinLines(m`case "success": return variants.success ?? currentVariant`,m`case "pending": return variants.pending ?? currentVariant`,m`case "error": return variants.error ?? currentVariant`,m`case "incomplete": return variants.incomplete ?? currentVariant`)}}`)} }`),Yf,{success:e.formButtonSuccessVariantEnabled?e.formButtonSuccessVariant:void 0,error:e.formButtonErrorVariantEnabled?e.formButtonErrorVariant:void 0,pending:e.formButtonPendingVariantEnabled?e.formButtonPendingVariant:void 0,incomplete:e.formButtonIncompleteVariantEnabled?e.formButtonIncompleteVariant:void 0},t.variant??m`undefined`)));let s=o.treeStore.tree.get(i.lastRepeaterId);if(Rr(s)&&gr(s)&&(mi(e,s)||dT(e))&&(t.variant=s&&pT(e)?x.fn(o.declarations.file.dedupe("loaderVariants",m`(repeaterState, variants, currentVariant) => { ${m.joinLines(m`if (repeaterState.currentPage >= repeaterState.totalPages) return variants.disabled ?? currentVariant`,m`if (repeaterState.isLoading) return variants.loading ?? currentVariant`,m`return currentVariant`)} }`),o.bindings.createWithNode("paginationInfo",s),{disabled:e.dataLoaderDisabledVariantEnabled?e.dataLoaderDisabledVariant:void 0,loading:e.dataLoaderLoadingVariantEnabled?e.dataLoaderLoadingVariant:void 0},t.variant??m`undefined`):void 0),Ei(e)||r.identifiers&&r.identifiers.size>1){let c=ce(e.codeComponentIdentifier);C(Ge(c),`Expected a module export identifier, got ${c}`);let{importSpecifier:d,exportSpecifier:u,importBinding:f}=ui(c,o.moduleType,o.modulesStore);C(d,"A module must have an import specifier."),t.Component=U(e.dynamicVectorSetIdentifier)?o.vectorSets.resolveVariableInstance(e):o.imports.addImport(d,{exportSpecifier:u,importBinding:f})}t.layoutId=a??e.getPrimaryId()}var EM=(e,t,o,r)=>{let i=new K;return Kf(e,i,t,o,r),Zf(e,i,t),i},AM=In(Iw,Nw,xw,Vw,ww,Fw,Ab,Rw,Ew,Aw,Mw,Ow,yI,Mb,vI,NI,zw,LI,xI,VI,Ob,XT,Ww,Bw,Hw,Xw,ZT,Yw,jT,ET,KT,YT,_T,Qw,DM,tk,nI,ek,RM,uI,ok,aI,sI,rk,ik,nk,LM);function MM(e){if(E(e)||e instanceof K&&K.hasSpreads(e))return e;for(let t of Object.values(e))if(!E(t))return e}function ep(e){return e.declarations.component.dedupe("scopingClassNames",x.fn(e.imports.addImport("framer",{exportSpecifier:"cx"}),te.serializationHash,m`...${te.sharedStyleClassNames}`))}var OM=(e,t,o,r,{style:i,className:n})=>{let a=new K;AM(e,a,t),To(e)&&tr(e)||Zf(e,a,t);let l=e.getPrimaryId()===t.rootId;if(a.style||i||l){let y={};if(Re(a.style)&&Object.assign(y,a.style),i&&Object.assign(y,i),a.style=MM(y),l){let v=new K(a.style);K.addSpreadAtEnd(v,m`style`),a.style=v}}let s=[];a.className&&s.push(a.className),n&&s.push(n),l&&(s.unshift(ep(t)),s.push(te.className),a.ref=te.refBinding,K.addSpreadAtStart(a,te.restProps),t.scopeType==="SmartComponent"&&(s.push(te.classNames),K.addSpreadAtStart(a,te.gestureHandlers))),t.scopeType==="WebPage"&&vw(t.treeStore.tree,e)&&(a["data-section-id"]=e.getPrimaryId()),(We(e)||We(t.treeStore.tree.getParent(e.id)))&&s.unshift(ep(t)),s.length===1?a.className=s[0]:s.length>1&&(a.className=x.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),...s)),t.scopeType==="LayoutTemplate"&&ve(e)&&(a[mw]=!0);let{withKey:c,layoutId:d}=o,u=d??e.getPrimaryId();c&&(a.key=u),t.scopeType==="SmartComponent"?(a.layoutId=tr(e)?u+kM:u,a.layoutDependency=m`layoutDependency`):t.scopeType==="CanvasPage"&&(a.layoutIdKey=u,e.duplicatedFrom&&e.duplicatedFrom.length>0&&(a.duplicatedFrom=e.duplicatedFrom)),_(e)&&(tr(e)?o.inComponentSlot&&(a.inComponentSlot=o.inComponentSlot):(Ud(e)&&(a.__fromCanvasComponent=!0),Kf(e,a,t,r,o)),ao(e)&&(a.layoutScroll=!0)),Oe(e)&&(a.withExternalLayout=!0,a.__fromCanvasComponent=!0),cc(e)&&t?.scopeType==="WebPage"&&!xe(e)&&(a.id=e.scrollTargetEnabled?t.elementIds.id(e):void 0),a["data-framer-cursor"]=t.customCursors.add(e),Qe(e)?Object.assign(a,{role:"dialog"}):a[vu]=t.elementIds.portalId(e),MT(e)&&(a.id=a.id??t.elementIds.id(e),a.lightboxClassName=ep(t));let f=t.treeStore.tree.get(o.lastRepeaterId);return f&&_(e)&&mi(e,f)&&Object.assign(a,{__paginationInfo:t.bindings.createWithNode("paginationInfo",f),__loadMore:t.bindings.createWithNode("loadMore",f)}),o.isColumnMasonryLayout&&Re(o.itemsOrderOverrides)&&!Lt(o.itemsOrderOverrides)&&(a["data-framer-order-id"]=u),a},zM=In(Jw,Gw,$w,_w,jw,Uw,Zw,Kw);function WM(e,t){let o=new K({motionChild:!0});return zM(e,o,t),o}function BM(e,t){let o=new K;return ak(e,o,t),o}var HM=new K({placement:void 0,alignment:void 0,offsetX:void 0,offsetY:void 0,className:void 0,anchorRef:void 0,floatingRef:void 0,onDismiss:void 0,portalSelector:void 0,safeArea:void 0,collisionDetection:void 0});function GM(e,t){if(!fa(e))return;if(!Qe(e))return HM;let o=t.events.overlayState.get(e.getPrimaryId());if(!o)return;let r=t.treeStore.tree.getParent(e.getPrimaryId());if(r)return new K({placement:e.floatingPlacement,alignment:e.floatingAlignment,offsetX:e.floatingOffsetX,offsetY:e.floatingOffsetY,anchorRef:t.rootId===r.id?m`${te.refBinding}`:t.elementIds.ref(r),onDismiss:m`${$d(o,"hide")}`,safeArea:e.floatingSafeArea??!0,zIndex:nS(e)?e.zIndex:void 0,collisionDetection:e.floatingCollisionDetection??!1,collisionDetectionPadding:e.floatingCollisionDetection?e.floatingCollisionPadding??Cc:void 0,[vu]:t.elementIds.portalId(e),className:x.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),ep(t),t.scopeType==="SmartComponent"?te.classNames:void 0)})}function $M(e,t){if(!We(e))return;let o=!1;return Bt(e.backdropDismissible)?o=e.backdropDismissible:W(e.backdropDismissible)&&(o=t.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")??!1),new K({blockDocumentScrolling:e.blockDocumentScrolling,dismissWithEsc:o})}function sk(e,t){let o=t.fetches.getFetchesForNode(e);return new K({requests:o??[],disabled:t.scopeType==="SmartComponent"?te.isLoading:void 0})}function _M(e,t){if(!_(e))return;let o=new K;if(O.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerComponentViewportWidth==="true"){let n=t.simulatedDOM.getComponentViewportContext(e);Object.assign(o,n)}return o}function lk(e){if(!ec(e)||!Ue(e)||!Me(e))return;let t={width:void 0,height:void 0};return e.widthType===1&&Number.isFinite(e.width)&&(t.width=`${e.width*100}%`),e.widthType===3&&Number.isFinite(e.width)&&(t.width=e.cache.parentDirection==="horizontal"?fm(e.width):ur(e.width*100,"%")),e.heightType===1&&Number.isFinite(e.height)&&(t.height=`${e.height*100}%`),e.heightType===3&&Number.isFinite(e.height)&&(t.height=e.cache.parentDirection==="vertical"?fm(e.height):ur(e.height*100,"%")),new K(t)}function qf(e,t,o,r,{className:i,style:n}={}){let a=OM(e,t,r,o,{style:n,className:i}),l=BM(e,t),s=GM(e,t),c=$M(e,t);if(To(e)&&tr(e)){let d=EM(e,t,o,r),u=sk(e,t);return{container:a,transition:l,floating:s,overlay:c,fetcher:u,element:d,componentViewport:_M(e,t),tickerItem:lk(e)}}return{element:a,transition:l,floating:s,overlay:c,link:WM(e,t),fetcher:sk(e,t),tickerItem:lk(e)}}var jM=["onTap","onTapStart","onClick","onMouseDown","onMouseUp"],UM=(e,t)=>{if(!Wt(t)||!lT(e,t))return!1;let o=t.getActions(O);return jM.some(r=>{if(r in o){let i=o[r];return i?i.length>0:!1}return!1})},ck=Nt((e,t,o)=>{if(!yn(e)||mr(e))return;if(W(e.cursor)&&de(o)){t.cursor=o.cssVariableDefinitions.create(e,"cursor");return}if(e.cursor&&aS(e.cursor)){t.cursor=e.resolveValue("cursor",o?.variableOverrides),De(e)&&e.hasLinks()&&(t.cursor=void 0,t[sS]=e.cursor);return}if(!de(o))return;let r=xe(e)&&o.topLevelVariantsWithGestures[e.id];t.cursor=r||UM(o.treeStore.tree,e)?"pointer":void 0});var dk=Nt((e,t)=>{Zt(e)&&(t.textDecoration="none")});var pk=Nt((e,t,o)=>{ye(e)&&$i(e)&&o?.renderAsListNodes?.has(e.id)&&(t.listStyle="none",t.margin=0)});var uk=Nt((e,t,o)=>{if(!(!ds(e)||!Ao(e))&&IC(e)){if(W(e.overscrollBehavior)&&de(o)){t.overscrollBehavior=o.cssVariableDefinitions.create(e,"overscrollBehavior");return}t.overscrollBehavior=e.resolveValue("overscrollBehavior",o?.variableOverrides)}});var mk=Nt((e,t)=>{cc(e)&&(t.scrollMarginTop=X(e.scrollMarginTop)&&e.scrollTargetEnabled&&e.scrollMarginTop>0?e.scrollMarginTop:void 0)});var fk=Nt((e,t,o)=>{if(!Eb(e))return;if(W(e.tapHighlightColor)&&de(o)){t.WebkitTapHighlightColor=o.cssVariableDefinitions.create(e,"tapHighlightColor");return}let r=e.resolveValue("tapHighlightColor",o?.variableOverrides);if(hn(r)){t.WebkitTapHighlightColor=ms(r);return}t.WebkitTapHighlightColor=r?aa.toRgbString(r):void 0});var hk=Nt((e,t,o)=>{if(!Jc(e))return;let r=e.resolveValue("textSelection");t["--selection-color"]=r?.color,t["--selection-background-color"]=r?.backgroundColor});var gk=Nt((e,t,o)=>{if(ps(e)){if(W(e.userSelect)&&de(o)){t.userSelect=t.WebkitUserSelect=o.cssVariableDefinitions.create(e,"userSelect");return}t.userSelect=t.WebkitUserSelect=NC(e)?e.resolveValue("userSelect",o?.variableOverrides):void 0}});var yk=Nt((e,t,o)=>{if(!Ds(e)||!de(o)||o.scopeType!=="LayoutTemplate")return;let r=o.treeStore?.tree.getParent(e.id);ve(r)&&(t.viewTransitionName=e.viewTransitionNone===!0?_f(e,o.serializationId,!0):void 0)});var Sk=Nt((e,t,o)=>{let r=XM(e,o);t.willChange=r}),Ck=`var(${dy}, transform)`;function XM(e,t){if(Uc(t?.scopeType)&&(BT(e)&&(xT(e)||PT(e))||t?.scopeType!=="SmartComponent"&&bT(e)&&ST(e.styleAppearEffectTrigger)==="onMount"))return Ck;if(!yt(e)||!Ao(e)||!bC(e.overflow))return;let o=Wr(e)&&e.radius,r=ai(e)&&e.radiusPerCorner&&(e.radiusBottomLeft||e.radiusBottomRight||e.radiusTopLeft||e.radiusTopRight);if(o||r)return`var(${cy}, transform)`;if(qT(e))return`var(${py}, filter)`}var ZM=In(tI,FT,SI,ck,zb,TI,Wb,eb,Bb,Hb,wI,GT,dk,pk,lb,uk,Vv,ob,mk,hk,Gb,ib,fk,PI,nb,mb,pb,gk,yk,Sk,hb),Qf=In(eI,Iv,ab,CI,Nv,sb,QT,xv,bI,kI,DI,RI,Rv,DT,tb,Pv,wv,cb,db,kv,Tw),eh=In(ub,rb);function KM(e,t){return nt(e)||Qt(e)||_(e)?"relative":We(e)?"fixed":ri(e)||Qe(t)?"relative":"absolute"}function th(e,t,o,r){let i={position:KM(t,e),zIndex:We(t)?fb(t,o):void 0,...r},n=o.scopeType==="WebPage"||o.scopeType==="LayoutTemplate"||o.nodeRendersWithMotion?.get(e)===!1,a={};return o.llmSnapshot&&Object.assign(a,i),ZM(e,o.llmSnapshot?a:i,o),Qf(e,!o.llmSnapshot&&n?i:a,o),uc(e)&&o.scopeType==="SmartComponent"&&Qs(e.html,a),eh(e,a,o),{css:i,style:Lt(a)?void 0:a}}var Ma={opacity:1,rotate:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"rgba(0, 0, 0, 0)",boxShadow:"none",filter:"none",WebkitFilter:"none",backdropFilter:"none",WebkitBackdropFilter:"none",mask:"none",WebkitMask:"none",textShadow:"none",scale:1,rotateX:0,rotateY:0,skewX:0,skewY:0,z:0,padding:0};function YM(){let e={},t={},o={},r={},i={},n={};return[[new hi({fillEnabled:!0,fillType:"color",fillColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderEnabled:!0,borderColor:"rgba(0, 0, 0, 0)",borderStyle:"solid"}),e],[new gI,t],[new lI,o],[new Pn({codeComponentIdentifier:"framer/Page"}),r],[new pI,i],[new gi,n]].forEach(([l,s])=>{Qf(l,s,{}),eh(l,s,{})}),{FrameNode:Object.assign(e,Ma),TextNode:Object.assign(t,Ma),RichTextNode:Object.assign(o,Ma),CodeComponentNode:Object.assign(r,Ma),SVGNode:Object.assign(i,Ma),ShapeContainerNode:Object.assign(n,Ma)}}var vk=YM();function Tk(e,t,o){if(!(!o||E(e.__class)||bo(t.style))&&!(!E(t.style)&&!Re(t.style)))for(let r in o){if(E(t.style?.[r])&&E(o[r])||t.style&&r in t.style&&!E(t.style[r])&&!E(o[r]))continue;let i=vk?.[e.__class];if(!i||!(r in i)){E(o[r])&&(o[r]=m`undefined`);continue}let n=i[r];if(E(t.style?.[r])){let a=t.style??{};a[r]=n,t.style=a}E(o[r])&&(o[r]=n)}}function Wn(e,t,o){let r=e.originalid===t?e.id:Zo(e.id,t);return o.get(r)}function qM(e){let t=e.children?.find(i=>Dr(i));if(!t)return;let o=e.itemsOrder?e.itemsOrder.indexOf(t.getPrimaryId()):e.children?.indexOf(t);if(!X(o)||o<0||!e.itemsOrder&&e.children&&o===e.children.length-1)return;let r=new Map;return e.itemsOrder?e.itemsOrder.forEach((i,n)=>{if(i===t.originalid)return;let a=n<o?-1e3:1e3;r.set(i,n+a)}):e.children?.forEach((i,n)=>{if(i===t)return;let a=n<o?-1e3:1e3;r.set(i.getPrimaryId(),n+a)}),r}function bk(e,t){if(t==="LayoutTemplate"&&ve(e))return qM(e);let o=e.itemsOrder;if(!o||o.length<1)return;let r=new Map;return o.forEach((i,n)=>{r.set(i,n)}),r}var QM=e=>(t,o)=>!o||!e?t:{...t,...o[e]};function Vk(e,t,o,r){let{combinedVariableControlMap:i}=e.combineVariableControlMap(o.treeStore.tree,r.inheritedControlMap,O,O.activeBundleHash);t&&(Dm(t,e),tO(t,e));let n=gr(e),a=r.subqueries;bt(e)&&Tt(e)?a=new Zd(e,n?void 0:r.subqueries):As(e)&&(a=void 0);let l=o.scopeType==="WebPage",s=o.scopeType==="SmartComponent",c=r.inCodeOverride||!E(Kd(e,o))||Yd(e,o).length>0,d=o.treeStore.tree.get(r.lastRepeaterId),u=o.kitSectionsStructure.addSection(e),f={isAnyVariantAnImage:Xt(e),isAnyVariantALink:Zt(e)&&!Oe(e),isAnyVariantAnEffect:gm(e,o.scopeType),isAnyVariantAVariantAppearEffect:mm(e),isAnyVariantATickerEffect:Ai(e),isAnyVariantARef:l&&Cn(e)||Qe(e)||_(e)&&bt(d)&&mi(e,d),isAnyVariantATransitionOverride:s&&(um(e)||Eu(e)),isAnyVariantOptimizedAppearEffect:hm(e,o),itemsOrderOverrides:{},hiddenInVariants:new Set(r.hiddenInVariants),inCodeOverride:c,inheritedControlMap:i,isAnyVariantFloating:Qe(e),isAnyVariantPaginated:n,isAnyVariantColumnMasonryLayout:wr(e),identifiers:_(e)?new Set([Nk(e)]):void 0,subqueries:a,kitSectionId:u};o.trackingIds.add(e),o.kitSectionsStructure.addCustomizations(e,r.kitSectionId),No(e)&&o.formIds.add(e.id),o.scopeType==="LayoutTemplate"&&ha(e)&&ve(e)&&(f.itemsOrderOverrides[e.id]=bk(e,o.scopeType));let y=jf(e,o),v=new Map,b=Uf(e,o,r,c),V=[],L=ku(e);for(let ct of o.variants){let pe=Wn(ct,e.id,o.treeStore.tree);if(!pe)continue;pe.combineVariableControlMap(o.treeStore.tree,r.inheritedControlMap,O,O.activeBundleHash);let Lo=o.treeStore.tree.getParent(pe.id);if(f.hiddenInVariants.has(ct.id))continue;Lo&&Dm(Lo,pe);let Go=Ik(ct),vr=jf(pe,o);if(!Vo(vr,v.get(ct.replicaInfo?.inheritsFrom??"")??y)){let nr=mr(ct);v.set(Go,{value:vr,isGesture:nr})}else(o.scopeType==="WebPage"||o.scopeType==="LayoutTemplate")&&y!==!0&&v.set(Go,{value:y});if(vr===!1){f.hiddenInVariants.add(ct.id);continue}Zt(pe)&&!Oe(pe)&&(f.isAnyVariantALink=!0),Xt(pe)&&(f.isAnyVariantAnImage=!0),gm(pe,o.scopeType)&&(f.isAnyVariantAnEffect=!0),mm(pe)&&(f.isAnyVariantAVariantAppearEffect=!0),hm(pe,o)&&(f.isAnyVariantOptimizedAppearEffect=!0),Ai(pe)&&(f.isAnyVariantATickerEffect=!0),gr(pe)&&(f.isAnyVariantPaginated=!0),_(pe)&&f.identifiers?.add(Nk(pe)),wr(pe)&&(f.isAnyVariantColumnMasonryLayout=!0),o.trackingIds.add(pe);let Gt=ku(pe);if(Gt){L||=Gt;let{stops:nr,info:bi}=Gt;L.stops=Math.max(L?.stops,nr??0),L.info||=bi}o.scopeType==="WebPage"?Cn(pe)&&(f.isAnyVariantARef=!0):o.scopeType==="SmartComponent"&&(UT(pe)&&(f.isAnyVariantAnEffect=!0),(um(pe)||Eu(pe))&&(f.isAnyVariantATransitionOverride=!0)),li(pe)&&(f.itemsOrderOverrides[ct.id]=bk(pe,o.scopeType)),b=b||Uf(pe,o,r,c),V.push({nodeInVariant:pe,variant:ct})}E(L)||o.nodesWithAnyGradientFill.set(e.id,L);let{condition:A,classNames:M,classNameExpressions:H}=o.renderFunctions.create(y,v);if(A===!1)return;o.nodeRendersWithMotion.set(e,b);let re=e.parentid?o.renderAsListNodes.get(e.parentid):!1;$i(e)&&hT(e.htmlTag)&&!re&&o.renderAsListNodes.set(e.id,!0);let be=t&&wr(t),se=r?.itemsOrderOverrides?.[o.rootId],{css:Fe,style:Q}=th(e,t,o,!be&&se?{order:xk(e,se)}:void 0),_e=tr(e),Xe=hw(e,t,o),Z=o.css.addRule(Fe,e,{container:_e,hasScopingSelector:Xe}),Rt=qf(e,o,f,r,{className:Z,style:Q});o.hitTargets.recordClassName(e,o.rootId,Z);let lt={link:void 0,container:void 0,element:void 0,floating:void 0,overlay:void 0,transition:void 0,fetcher:void 0,componentViewport:void 0,tickerItem:void 0},Kt={variants:void 0,css:void 0};if(De(e))for(let ct of e.getStylePresetsForCodeGeneration(o.treeStore.tree))o.css.addSharedStyle(ct.id);let Do=_e?Rt.container:Rt.element;C(!E(Do),"Target will always be defined if the node needs a container");for(let{nodeInVariant:ct,variant:pe}of V){let Lo=Ik(pe);if(o.hitTargets.recordClassName(ct,pe.id,Z),De(ct))for(let oo of ct.getStylePresetsForCodeGeneration(o.treeStore.tree))o.css.addSharedStyle(oo.id);let Go=o.treeStore.tree.getParent(ct.id),{itemsOrderOverrides:vr}=r,Kr=vr?.[pe.id],Gt=Go&&wr(Go),nr=th(ct,Go,o,!Gt&&Kr?{order:xk(e,Kr)}:void 0),bi=QM(pe.replicaInfo?.inheritsFrom),an=Ys(nr.css,bi(Fe,Kt.css),"css");if(an){let oo=mr(pe);Kt.css||(Kt.css={}),Kt.css[pe.id]=an,o.css.addRule(an,ct,{variant:pe,hasScopingSelector:Xe,container:_e,gesture:oo?pe.gesture:void 0,scope:oo?pe.replicaInfo?.inheritsFrom:o.scopeType==="SmartComponent"?pe.id:void 0})}o.scopeType==="SmartComponent"&&Tk(ct,Do,nr.style);let kl=qf(ct,o,f,r,{className:Z,style:Do.style}),Ii=Ys(nr.style,bi(Q,Kt.variants));if(Ii)if(o.scopeType==="SmartComponent"||o.llmSnapshot)Kt.variants||(Kt.variants={}),Kt.variants[Lo]=Ii;else{let oo=_e?"container":"element";lt[oo]=oO(nr.style,lt[oo],Lo)}let $o;for($o in kl){let oo=Ys(kl[$o],bi(Rt[$o],lt[$o]),"js");if(!oo)continue;lt[$o]||(lt[$o]={[Lo]:{}});let Ya=lt[$o][Lo];lt[$o][Lo]=Re(Ya)?Object.assign(Ya,oo):oo}}let Ho=new Set(M);f.isAnyVariantALink&&Ho.add(o.linkClassName);let Xr=new x.Set(H),Zr=f.isAnyVariantARef||o.events.relativeOverlayPrimaryTriggers.has(e.id);return K.assign(Do,{variants:Kt.variants,className:eO(Do.className,Ho,Xr,o.imports),ref:Do.ref??(Zr?o.elementIds.ref(e):Do.ref),[gC]:f.isAnyVariantOptimizedAppearEffect?o.appearIds.create(e.id):void 0}),o.renderConditions.set(e.id,A),{...f,propsForLink:{props:Rt.link,overrides:lt.link},propsForElement:{props:Rt.element,overrides:lt.element},propsForContainer:{props:Rt.container,overrides:lt.container},propsForTransition:{props:Rt.transition,overrides:lt.transition},propsForFetcher:{props:Rt.fetcher,overrides:lt.fetcher},renderCondition:A,propsForFloating:{props:Rt.floating,overrides:lt.floating},propsForOverlay:{props:Rt.overlay,overrides:lt.overlay},propsForComponentViewport:{props:Rt.componentViewport,overrides:lt.componentViewport},propsForTickerItem:{props:Rt.tickerItem,overrides:lt.tickerItem}}}function eO(e,t,o,r){if(t.size===0&&o.size===0)return e;if(o.size===0){let i=Array.from(t).join(" ");return e?Ke`${e} ${i}`:i}else{let i=r.addImport("framer",{exportSpecifier:"cx"});return e?x.fn(i,e,...t,...o):x.fn(i,...t,...o)}}function tO(e,t){t.cache.ancestorRepeaterIds=xd(e,e.cache.ancestorRepeaterIds??[])}function Ik(e){return mr(e)?`${e.replicaInfo.inheritsFrom}-${e.gesture}`:e.id}function oO(e,t,o){let r=t??{};return r[o]=r[o]??{},r[o].style=r[o].style??{},Object.assign(r[o].style,e),r}function Pk(e,t,o){let r={background:"transparent",height:0,width:0,position:"relative",flexGrow:1,margin:0,marginBottom:Cm(t,o)};for(let i of o.variants){let n=Wn(i,e.id,o.treeStore.tree);if(!n)continue;let a=Ys({...r,marginBottom:Cm(i,o)},r);!a||Lt(a)||o.css.addRule(a,n,{variant:i})}return o.css.addRule(r,e)}function Nk(e){return Ei(e)?Tv:e.codeComponentIdentifier}function xk(e,t){return t.get(e.id)??t.size}var tp=class{constructor(){R(this,"cssWidthCache",new Map);R(this,"heightCache",new Map);R(this,"yPositionCache",new Map);R(this,"verticalStackLayoutInfoCache",new Map);R(this,"gridLayoutInfoCache",new Map);R(this,"computationCache",new Map);R(this,"testing",{getCSSWidthCache:()=>this.cssWidthCache,getHeightCache:()=>this.heightCache})}getCSSWidth(t){return this.cssWidthCache.get(t)}setCSSWidth(t,o){this.cssWidthCache.set(t,o)}getHeight(t){return this.heightCache.get(t)}setHeight(t,o){this.heightCache.set(t,o)}getYPosition(t){return this.yPositionCache.get(t)}setYPosition(t,o){this.yPositionCache.set(t,o)}getVerticalStackLayoutInfo(t){return this.verticalStackLayoutInfoCache.get(t)}setVerticalStackLayoutInfo(t,o){this.verticalStackLayoutInfoCache.set(t,o)}getGridLayoutInfo(t){return this.gridLayoutInfoCache.get(t)}setGridLayoutInfo(t,o){this.gridLayoutInfoCache.set(t,o)}memo(t,o){if(this.computationCache.has(t))return this.computationCache.get(t);let r=o();return this.computationCache.set(t,r),r}};var oh=class{constructor(){R(this,"heightNodes",new Set)}startComputingHeightFor(t){this.heightNodes.add(t)}isComputingHeightFor(t){return this.heightNodes.has(t)}finishComputingHeightFor(t){this.heightNodes.delete(t)}};function rO(e,t){return(o,r,i=void 0)=>{if(_t(o))return t.createComputedValue(o,r,i);if(U(o))return e.create(o);Mt(o,"all dynamic values should be handled above")}}function wk(e,t,o){return{tree:e,cache:new tp,workInProgress:new oh,getVariableBinding:rO(t,o)}}var fe=class extends Error{};function he(e,t){let o=Math.round(e*1e4)/1e4;return{type:"css-const",expr:t?`${o}${t}`:`${o}`,value:e,unit:t}}var op={"+":"-","-":"+","*":"/","/":"*"};function Be(e,t,o){if(t.type==="css-const"&&o.type==="css-const"){if(t.unit===o.unit){if(e==="+")return he(t.value+o.value,t.unit);if(e==="-")return he(t.value-o.value,t.unit);if(e==="min")return he(Math.min(t.value,o.value),t.unit);if(e==="max")return he(Math.max(t.value,o.value),t.unit)}else if(Oa(e)&&(t.value===0||o.value===0))return o.value!==0?o:t;if(e==="*"&&(!t.unit||!o.unit))return he(t.value*o.value,t.unit||o.unit);if(e==="/"&&!o.unit)return he(t.value/o.value,t.unit)}if(Oa(e)){if(o.type==="css-const"&&o.value===0)return t;if(t.type==="css-const"&&t.value===0)return o}else if(rp(e)){if(o.type==="css-const"&&o.value===1)return t;if(t.type==="css-const"&&t.value===1)return o}else if(e==="min"||e==="max"){if(t.type==="css-op"&&t.op===e&&kk(t,o))return t;if(o.type==="css-op"&&o.op===e&&kk(o,t))return o;if(Vo(t.expr,o.expr))return t}t.type==="css-op"&&t.right.type==="css-const"&&(Oa(e)&&Oa(t.op)?(o=Be(e==="+"?t.op:op[t.op],o,t.right),t=t.left):rp(e)&&rp(t.op)&&(o=Be(e==="*"?t.op:op[t.op],o,t.right),t=t.left));let r;if(Oa(e))o.type==="css-const"&&o.value<0&&(e=op[e],o=he(-o.value,o.unit)),e==="+"?r=Ke`${Bn(t)} + ${o.expr}`:e==="-"?o.type==="css-op"&&!ip(o.op)?r=Ke`${Bn(t)} - (${o.expr})`:r=Ke`${Bn(t)} - ${Bn(o)}`:Mt(e);else if(rp(e)){if(o.type==="css-const"&&o.value<1){let i=he(1/o.value,o.unit);i.expr.length<o.expr.length&&(e=op[e],o=i)}e==="/"&&o.type==="css-op"&&!ip(o.op)?r=Ke`${Bn(t)} / (${o.expr})`:r=Ke`${Bn(t)} ${e} ${Bn(o)}`}else ip(e)?r=Ke`${e}(${t.expr}, ${o.expr})`:Mt(e,`unhandled op ${e}`);return{type:"css-op",expr:r,op:e,left:t,right:o}}function np(e){switch(e.type){case"number-const":return he(e.value,"px");case"number-template":return Xi(e.expr);default:Mt(e)}}function Xi(e){return{type:"css-template",expr:e}}function Oa(e){return e==="+"||e==="-"}function rp(e){return e==="*"||e==="/"}function ip(e){return e==="min"||e==="max"}function kk(e,t){return Vo(e.left.expr,t.expr)||Vo(e.right.expr,t.expr)}function Bn(e){return e.type==="css-op"&&Oa(e.op)?Ke`(${e.expr})`:e.expr}function ap(e){return e.type==="css-template"||e.type==="css-const"||e.type==="css-op"&&ip(e.op)?e.expr:Ke`calc(${e.expr})`}function iO(e,t,o,r,i,n){let a=t??AT;if(!n)return!0;let l=e.filters.filter(s=>{if(!s.itemKey)return!1;let c=n.properties[s.itemKey];return!(!c||c.type!=="boolean"&&s.transforms.length===0)});return l.length===0?!0:l[a==="all"?"every":"some"](s=>{let c=s.itemKey;C(c!==null,"itemKey should not be null");let d=n.properties[c];C(d,"control should exist");let u=o(c),f=r.getVariableControlByKey(c);return s.transforms.reduce((y,v)=>xS(y,v,r,i,f,void 0,void 0),u)})}function Rk(e,t,o,r,i,n){return e?o.filter(a=>iO(e,t,l=>a[l],r,i,n)):o}function nO(e,t){return t?Array.from(e).reverse():e}function aO(e,t){if(t===void 0||t===0)return e;let o=Array.from(e);return o.splice(0,t),o}function sO(e,t){return e.length<=t?e:e.slice(0,t)}function Dk(e,t,o,r,i=15){if(i&1&&(t=Rk(e.collectionFilters,e.collectionFiltersOperator,t,e.cache,o,r)),i&2&&(t=nO(t,e.collectionReverse)),i&4&&(t=aO(t,e.collectionStartOffset)),i&8){let n=e.collectionLimit??1/0,a=e.collectionPaginationPageSize??1/0,l=Math.min(n,a);t=sO(t,l)}return t}var Oo=1e3,Lk=Symbol("Affects Layout: Indeterminate");function sp(e){return e===Lk}function Ci(e,t,o,r){return rt(e)||Nc(e,t)&&fr(e)||Ic(o,e)&&ao(e)||hr(e)&&e.visible===!1?!1:hr(e)&&W(e.visible)?r?e.isVisible():Lk:!0}function kt(e){if(!Io(e))return 0;if(W(e.padding))throw new fe;return e.paddingPerSide?e.paddingTop??0:e.padding??0}function go(e){if(!Io(e))return 0;if(W(e.padding))throw new fe;return e.paddingPerSide?e.paddingBottom??0:e.padding??0}function Po(e){return W(e)?0:e??0}var lO=[];function Zi(e){let t=(ha(e)?e.getChildrenInVisualOrder():e.children)??lO;if(bt(e)){let o=e.collectionRepeatedItemId?t.findIndex(n=>n.id===e.collectionRepeatedItemId):0,r=t[o];if(!r)return t;let i=cO(e);return t.slice(0,o).concat(Array(i).fill(r)).concat(t.slice(o+1))}return t}function cO(e){if((e.collectionFilters?.filters?.length??0)>0)return 1;let t=O.dataForIdentifier(e.dataIdentifier),o=Gv(void 0,t),r=Object.keys(o).length,i=Array(r).fill({});return Dk(e,i,void 0,t,14).length}function el(e){let t=e.resolveValue("fillImage"),o=Ey(t)?t.src:t;if(!o)return;let r=qv(o);if(!(!r||!Number.isFinite(r.width)||!Number.isFinite(r.height)||r.width<=0||r.height<=0))return r.width/r.height}function lp(e,t){let o=e.widthType===0,r=pa(e)&&e.usesDOMRectCached()&&e.cache.getRawDOMRect(e.id)!==null;if(!(!o&&!r))return t.tree.getRect(e).width}var Ek=";";function ih(e,t){return`${e}${Ek}${t}`}function dO(e){let[t,o]=e.split(Ek);return C(o!==void 0,"parseCellCoordinate(), satisfying TypeScript: columnIndex must exist: "+e),[Number(t),Number(o)]}function Fk(e,t,o,r){let i=0;for(let n=0;n<o;n++){let a=ih(t,n);if(e.has(a)){i=0;continue}if(i++,i!==r)continue;let s=n-(r-1);return C(s>=0,"getColumnIndexForItem(), column index should be at least 0"),s}return-1}function pO(e,t,o,r,i,n,a){let l=r+(n-1);C(a>l,"fillCellsForItem(), column count has to be larger than maxColumnIndex");let s=o+(i-1);for(let c=r;c<=l;c++)for(let d=o;d<=s;d++){let u=ih(d,c);t.set(u,e)}}function uO(e,t){return!mn(e)||W(e.gridItemColumnSpan)?1:e.gridItemColumnSpan==="all"?t:Math.min(e.gridItemColumnSpan??1,t)}function cp(e,t){return!mn(e)||t.gridRowHeightType==="fit"||W(e.gridItemRowSpan)?1:e.gridItemRowSpan??1}var rh=class{constructor(t,o,r,i){this.gridLayout=t;this.rowCount=o;this.columnCount=r;this.filledRowCount=i;R(this,"coordinateCache")}getGridItem(t,o){let r=ih(t,o);return this.gridLayout.get(r)??null}findCoordinates(t){if(!this.coordinateCache){this.coordinateCache=new Map;for(let[o,r]of this.gridLayout){let[i,n]=dO(o),a=this.coordinateCache.get(r);(!a||i<a.rowIndex||n<a.columnIndex)&&this.coordinateCache.set(r,{rowIndex:i,columnIndex:n})}}return this.coordinateCache.get(t)??null}isEmpty(){return this.gridLayout.size===0}};function Ak(e,t){let o=e.gridColumnCount;if(!X(o))return null;let r=new Map,i=0,n=-1;for(let s of Zi(e)){if(!Ci(s,e,t,!0))continue;let c=uO(s,o),d=cp(s,e),u=Fk(r,i,o,c);for(;u===-1;)i++,u=Fk(r,i,o,c);pO(s.id,r,i,u,d,c,o);let f=i+(d-1);n=Math.max(n,f)}let a=n+1,l=Math.max(e.gridRowCount??0,a);return new rh(r,l,o,a)}function Hn(e,t){let o=t.cache.getGridLayoutInfo(e.id);if(o)return o;let r=Ak(e,t.tree);if(r===null)throw new fe;return t.cache.setGridLayoutInfo(e.id,r),r}function woe(e,t){return Ak(e,t)?.filledRowCount}var mO={type:"number-const",value:0},fO={type:"number-const",value:1/0},hO={type:"number-const",value:Oo};function ue(e){return e===0?mO:e===1/0?fO:e===Oo?hO:{type:"number-const",value:SO(e)}}function B(e,...t){return dp(e,0,t.length,t)}function dp(e,t,o,r){ro(0<=t&&t<=o&&o<=r.length,"start and end must be within the bounds of operands");let i=o-t;if(i===0)return null;if(i===1){let c=r[t];return Ml(c)?ue(c):c}let{hasTemplateOperands:n,operationResult:a}=gO(t,o,r,e);if(!n)return ue(a);let l=yO(t,o,r),s=e==="min"||e==="max"?x.fn(m`Math.${new x(e)}`,...l):new x(`(${at(l,` ${e} `)})`);return tl(s,a,!0)}function gO(e,t,o,r){let i=!1,n;for(let a=e;a<t;a++){let l=o[a],s;Ml(l)?s=l:l.type==="number-const"?s=l.value:l.type==="number-template"?(i=!0,s=yo(l)):Mt(l),E(n)?n=s:n=CO(r,n,s)}return ro(n!==void 0,"resultEstimate must be computed after walking over all operands"),{hasTemplateOperands:i,operationResult:n}}function yO(e,t,o){let r=[];for(let i=e;i<t;i++){let n=o[i];Ml(n)?r.push(m`${n}`):n.type==="number-const"?r.push(m`${n.value}`):r.push(n.expr)}return r}function tl(e,t,o=!1){return{type:"number-template",expr:o?e:m`(${e})`,impreciseEstimate:t}}function CO(e,t,o){switch(e){case"+":return t+o;case"-":return t-o;case"*":return t*o;case"/":return t/o;case"min":return Math.min(t,o);case"max":return Math.max(t,o);default:Mt(e)}}function SO(e){return Math.round(e*1e4)/1e4}function yo(e){return e.type==="number-const"?e.value:e.impreciseEstimate}var nh=class{constructor(t,o,r,i,n){this.columns=t;this.nodeToAccurateCoordinateMap=o;this.nodeToRoughCoordinateMap=r;this.gap=i;this.contentHeight=n;R(this,"frToPxCache",new Map)}walkColumn(t,o){if(this.columns[t])for(let r of this.columns[t])o(r.nodeId)}getStackItem(t,o){return this.columns[t]?.[o]?.nodeId??null}findCoordinates(t){return this.findAccurateCoordinates(t)??this.findRoughCoordinatesOfConditionallyVisibleNode(t)}findAccurateCoordinates(t){return this.nodeToAccurateCoordinateMap.get(t)??null}findRoughCoordinatesOfConditionallyVisibleNode(t){return this.nodeToRoughCoordinateMap.get(t)??null}getFrToPxForColumn(t){let o=this.columns[t];if(!o)return null;if(!this.frToPxCache.has(t)){let r=[],i=[];for(let d of o)d.type==="regular"?r.push(d):d.type==="fr"?i.push(d):Mt(d);let n=r.reduce((d,u)=>B("+",d,u.getHeight()),ue(0)),a=this.gap*(o.length-1),l=B("-",this.contentHeight,B("+",n,a)),s=i.reduce((d,u)=>d+u.frUnits,0),c=B("/",l,Math.max(s,1));for(i=i.sort((d,u)=>yo(u.getMinHeightPerFr())-yo(d.getMinHeightPerFr()));i[0]&&yo(i[0].getMinHeightPerFr())>yo(c);)l=B("-",l,i[0].getMinHeight()),s-=i[0].frUnits,c=B("/",l,Math.max(s,1)),i.shift();for(i=i.sort((d,u)=>yo(d.getMaxHeightPerFr())-yo(u.getMaxHeightPerFr()));i[0]&&yo(i[0].getMaxHeightPerFr())<yo(c);)l=B("-",l,i[0].getMaxHeight()),s-=i[0].frUnits,c=B("/",l,Math.max(s,1)),i.shift();this.frToPxCache.set(t,B("max",ue(0),c))}return this.frToPxCache.get(t)??null}};function pp(e,t,o,r,i){let n=t.cache.getVerticalStackLayoutInfo(e.id);if(n)return n;let a=vO(e,t,o,r,i);return t.cache.setVerticalStackLayoutInfo(e.id,a),a}function vO(e,t,o,r,i){let n=ah(e),a=fo(n),l=B("-",o(e),kt(e)+go(e)),s=yo(l),c=new Map,d=new Map,u=[],f=0;for(let y of Zi(e)){if(!(Me(y)&&Ue(y)))continue;let v=Ci(y,e,t.tree,!1);if(v===!1)continue;if(sp(v)){d.set(y.id,{columnIndex:Math.max(u.length-1,0),columnItemIndex:Math.max(u[u.length-1]?.length??0,0)});continue}let b=TO(y,t,o,r,i);if(e.stackWrapEnabled){let L=yo(b.type==="fr"?b.getMinHeight():b.getHeight());Math.ceil(f+a+L)>Math.ceil(s)||u.length===0?(u.push([b]),f=L):(u[u.length-1].push(b),f+=a+L)}else u[0]=u[0]??[],u[0].push(b);c.set(y.id,{columnIndex:u.length-1,columnItemIndex:u[u.length-1].length-1})}return new nh(u,c,d,a,l)}function TO(e,t,o,r,i){if(e.heightType===3){let n={nodeId:e.id,type:"fr",frUnits:e.height,getMinHeight:()=>t.cache.memo(`stack-getMinHeight-${e.id}`,()=>r(e)),getMaxHeight:()=>t.cache.memo(`stack-getMaxHeight-${e.id}`,()=>i(e)),getMinHeightPerFr:()=>t.cache.memo(`stack-getMinHeightPerFr-${e.id}`,()=>B("/",n.getMinHeight(),n.frUnits)),getMaxHeightPerFr:()=>t.cache.memo(`stack-getMaxHeightPerFr-${e.id}`,()=>B("/",n.getMaxHeight(),n.frUnits))};return n}else return{nodeId:e.id,getHeight:()=>t.cache.memo(`stack-getHeight-${e.id}`,()=>o(e)),type:"regular"}}function ah(e){return _l(e)?Po(e.gap):0}function Mk(e,t){if(e.textFitViewBoxSize)throw new fe;let o=e.widthType!==2,r=0;for(let[i,n]of e.getProsemirrorTextBlocks(!1).entries()){let a,[l,s]=NO(n,t);if(s==="px")a=l;else{let u=s==="%"?l/100:l;a=bO(n,t)*u}let c=0;i>0&&(c=xO(n,e,t)??0);let d=1;if(o){let u=n.attrs.tag;u==="h1"||u==="h2"||u==="h3"||u==="h4"||u==="h5"||u==="h6"?d=1:u==="p"||u==="div"?d=5:Mt(u)}r+=c+a*d}return r}function bO(e,t){let o=IO(e,t);return e.descendants(r=>{if(!kS(r))return;let n=r.marks.find(wS)?.attrs.inlineStyles.fontSize;if(W(n))throw new fe;if(E(n))return;let[a,l="px"]=Mi(n)?n:[n],s=Ru(a,l,"px");s>o&&(o=s)}),o}function IO(e,t){if(lc(e)){let o=e.attrs.textStylePreset,r=t.getNodeWithTrait(o,Fi);if(r){let[i,n]=qC(r.fontSize)?ys(r.fontSize):[r.fontSize,"px"];return n==="rem"?qt(i*YC,0):i}}if(!E(e.attrs.inlineStyles.fontSize)){let o=e.attrs.inlineStyles.fontSize;if(W(o))throw new fe;let[r,i="px"]=Mi(o)?o:[o];return Ru(r,i,"px")}return ys(Du.fontSize)[0]}function NO(e,t){if(lc(e)){let o=e.attrs.textStylePreset,r=t.getNodeWithTrait(o,Fi);if(r)return r.lineHeight}return E(e.attrs.blockStyles.lineHeight)?Du.lineHeight:e.attrs.blockStyles.lineHeight}function xO(e,t,o){if(lc(e)){let r=e.attrs.textStylePreset,i=o.getNodeWithTrait(r,Fi);if(i)return i.paragraphSpacing}return t.paragraphSpacing}var Ok=qe("simulateHeight"),VO=200;function zk(e,t){try{let o=Ye(e,t);return o.type==="number-const"?o.value:o.expr}catch(o){if(o instanceof fe)return;Ok.reportWithoutLogging(o,{nodeId:e.id}),Ok.warnOncePerMinute(`Can\u2019t simulate the height for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function Ye(e,t){let o=t.cache.getHeight(e.id);if(o!==void 0)return o;if(t.workInProgress.isComputingHeightFor(e.id))throw new Error("Detected a circular walk in simulateHeight(): we\u2019re entering a node which is already being computed. This would result in a call stack overflow. Exiting early.");let r;try{t.workInProgress.startComputingHeightFor(e.id),r=PO(e,t)}finally{t.workInProgress.finishComputingHeightFor(e.id)}return t.cache.setHeight(e.id,r),r}function PO(e,t){if(!Ia(e))throw new fe;let o=t.tree.getNodeParent(e);if(We(e))return ue(Oo);if(C(Me(e)&&Ue(e),"Can\u2019t calculate the height on a node when it doesn\u2019t have size information"),ca(e)){let i=t.tree.getRect(e).height;return tl(m`${te.componentViewport}?.height || ${i}`,i)}if(vs(e))return St.startFromRowHeightMultipliedBySpan(e,t).getWithConstraints();if(!Bi(e,o)&&ye(e)&&e.top!==null&&e.bottom!==null)return(ao(e)?St.startFromFixedValue(ue(Oo),e,t):St.startFromParentOuterHeight(e,t)).op((n,a)=>{let l=a.top,s=a.bottom;return C(l!==null&&s!==null,"Satisfying TypeScript"),B("-",n,ue(l+s))}).getWithConstraints();if(e.heightType===0)return St.startFromFixedValue(ue(e.height),e,t).getWithConstraints();if(e.heightType===1){C(o,"A node can\u2019t have a % height without a parent");let i;return ao(e)?i=St.startFromFixedValue(ue(Oo),e,t):fr(e)?i=St.startFromParentOuterHeight(e,t):zt(o)&&mn(e)?i=St.startFromRowHeightMultipliedBySpan(e,t):i=St.startFromParentInnerHeight(e,t),i.op((n,a)=>B("*",n,ue(a.height))).getWithConstraints()}if(e.heightType===4)return St.startFromFixedValue(ue(e.height*Oo),e,t).getWithConstraints();if(e.heightType===3){if(C(!fr(e)&&!ao(e),"FractionOfFreeSpace height is not supported for fixed or absolute node"),C(o,"A node can\u2019t have a fractional height without a parent"),!Ut(o)&&zt(o)){let i=up(e,t);if(!i)throw new fe;return i}if(C(Ut(o),"A node can have a fractional height only if it\u2019s inside a stack"),C(o.stackDirection,"A stack must have a direction defined"),W(o.stackDirection))throw new fe;if(o.stackDirection==="horizontal")return St.startFromParentInnerHeight(e,t).op((i,n)=>B("*",i,ue(n.height))).getWithConstraints();if(o.stackDirection==="vertical"){C(Me(o)&&Ue(o),"A stack must have a size and size-dimension type");let i=pp(o,t,s=>Ye(s,t),s=>mp(s,t),s=>fp(s,t)),n=i.findCoordinates(e.id);C(n,"Node must be found in stack");let a=i.getFrToPxForColumn(n.columnIndex);C(a,"frHeight must be available for column");let l=B("*",a,ue(e.height));return St.startFromFixedValue(l,e,t).getWithConstraints()}j(o.stackDirection)}if(e.heightType===2){let i=up(e,t);if(!i)throw new fe;return i}if(e.heightType===5){if(!Xt(e))throw new fe;let i=el(e),n=lp(e,t),a=E(n)||E(i)?e.height:Math.round(n*(1/i));return St.startFromFixedValue(ue(a),e,t).getWithConstraints()}j(e.heightType)}var Si,ol,za,rl,zo,sh,lh,Wk,ch,wo=class wo{constructor(t,o,r,i){ie(this,Si);ie(this,ol);ie(this,za);ie(this,rl);ee(this,Si,t),ee(this,ol,o),ee(this,za,r),ee(this,rl,i)}static startFromFixedValue(t,o,r){return new wo(t,()=>{var n,a;let i=r.tree.getNodeParent(o);if(C(i,"Can\u2019t calculate the parent height on a node without a parent"),C(Me(i)&&Ue(i),"Can\u2019t calculate the parent height on a node when a parent doesn\u2019t have size information"),zt(i)){let l=gt(n=wo,zo,sh).call(n,o,i,r);return gt(a=wo,zo,lh).call(a,l,o,i)}else return Ye(i,r)},o,r)}static startFromParentOuterHeight(t,o){let r=o.tree.getNodeParent(t);C(r,"Can\u2019t call startFromParentOuterHeight() on a node without a parent");let i=Ye(r,o);return new wo(i,()=>i,t,o)}static startFromParentInnerHeight(t,o){let r=o.tree.getNodeParent(t);C(r,"Can\u2019t call startFromParentInnerHeight() on a node without a parent");let i=B("-",Ye(r,o),kt(r)+go(r));return new wo(i,()=>i,t,o)}static startFromRowHeightMultipliedBySpan(t,o){var a,l;let r=o.tree.getNodeParent(t);C(r&&zt(r),"Can\u2019t call startFromColumnHeightMultipliedBySpan() if the node isn\u2019t inside a grid");let i=gt(a=wo,zo,sh).call(a,t,r,o),n=gt(l=wo,zo,lh).call(l,i,t,r);return new wo(n,()=>n,t,o)}op(t){return ee(this,Si,t(F(this,Si),F(this,za))),this}getWithConstraints(){var t;return ee(this,Si,gt(t=wo,zo,Wk).call(t,F(this,Si),F(this,za),F(this,rl),F(this,ol))),F(this,Si)}};Si=new WeakMap,ol=new WeakMap,za=new WeakMap,rl=new WeakMap,zo=new WeakSet,sh=function(t,o,r){if(C(o.gridRowHeightType!==void 0,"A grid node must have gridRowHeightType defined"),o.gridRowHeightType==="fixed")return C(o.gridRowHeight!==void 0,"A fixed-height grid node must have gridRowHeight defined"),ue(o.gridRowHeight);if(o.gridRowHeightType==="fit"){let i=Hn(o,r);if(i.isEmpty())return ue(0);let n=i.findCoordinates(t.id);C(n,"Node must be found in the grid layout");let a=n.rowIndex;return Bk(r,i,a)}else if(o.gridRowHeightType==="auto"){let i=Ye(o,r),n=B("-",i,kt(o)+go(o)),a=Hn(o,r).rowCount,l=Po(o.gap),s=fo(l),c=(a-1)*s;return B("/",B("-",n,c),a)}else j(o.gridRowHeightType)},lh=function(t,o,r){let i=cp(o,r),n=Po(r.gap),a=fo(n);return B("+",B("*",t,i),a*(i-1))},Wk=function(t,o,r,i){var a,l;let n=t;return Mr(o)&&(o.maxHeight&&(n=gt(a=wo,zo,ch).call(a,"maxHeight",n,o,r,i)),o.minHeight&&(n=gt(l=wo,zo,ch).call(l,"minHeight",n,o,r,i))),n},ch=function(t,o,r,i,n){let a=t==="minHeight"?"max":"min",[l,s]=Tn(r[t]);if(s==="%"){let c=i.tree.getNodeParent(r);if(C(c,"parentNode must exist for a node with percentage min-max heights"),Ue(c)&&c.heightType===2)return o;let d=n();return B(a,o,B("*",d,l/100))}else{if(s==="px")return B(a,o,l);if(s==="vh")return B(a,o,Oo*l/100);j(s)}},ie(wo,zo);var St=wo;function up(e,t){return t.cache.memo(`autoHeight-${e.id}`,()=>wO(e,t))}function wO(e,t){if(De(e)){let o=Mk(e,t.tree);return St.startFromFixedValue(ue(o),e,t).getWithConstraints()}if(_(e)){let o=e.getIntrinsicSize(O).height??VO;return St.startFromFixedValue(ue(o),e,t).getWithConstraints()}if(Ut(e)){if(C(e.stackDirection,"A stack must have a direction defined"),W(e.stackDirection))throw new fe;if(e.stackDirection==="horizontal"){if(e.stackWrapEnabled)throw new fe;{let o=kO(e,t);return St.startFromFixedValue(o,e,t).op((r,i)=>B("+",r,kt(i)+go(i))).getWithConstraints()}}else if(e.stackDirection==="vertical"){let o=RO(e,t),r=DO(e,t,o);return St.startFromFixedValue(r,e,t).op((i,n)=>B("+",i,kt(n)+go(n))).getWithConstraints()}else j(e.stackDirection)}if(zt(e)){if(C(e.gridColumnCount!==void 0,"A grid node must have gridColumnCount"),e.gridColumnCount==="auto-fill")throw new fe;if(X(e.gridColumnCount)){C(e.gridRowHeightType!==void 0,"A grid must have gridRowHeightType defined");let o=Hn(e,t);if(e.gridRowHeightType==="fixed"){C(e.gridRowHeight!==void 0,"A node with gridRowHeightType: fixed must have gridRowHeight defined");let r=o.rowCount,i=Po(e.gap),n=fo(i),a=(o.rowCount-1)*n,s=e.gridRowHeight*r+a;return St.startFromFixedValue(ue(s),e,t).op((c,d)=>B("+",c,kt(d)+go(d))).getWithConstraints()}else if(e.gridRowHeightType==="fit"){let r=ue(0);for(let s=0;s<o.rowCount;s++){let c=Bk(t,o,s);r=B("+",r,c)}let i=Po(e.gap),n=fo(i),a=(o.rowCount-1)*n,l=B("+",r,a);return St.startFromFixedValue(l,e,t).op((s,c)=>B("+",s,kt(c)+go(c))).getWithConstraints()}else if(e.gridRowHeightType==="auto"){let r=ue(0);for(let c=0;c<o.rowCount;c++)for(let d=0;d<o.columnCount;d++){let u=o.getGridItem(c,d);if(!u)continue;let f=t.tree.getNode(u);if(C(f,"Can\u2019t find grid item in the tree"),!Me(f)||!Ue(f))continue;let y;f.heightType===1||vs(f)?y=up(f,t)??ue(0):y=Ye(f,t);let v=cp(f,e);if(v>1){let b=Po(e.gap),L=fo(b)*(v-1);y=B("/",B("-",y,L),v)}r=B("max",r,y)}let i=B("*",r,o.rowCount),n=Po(e.gap),a=fo(n),l=(o.rowCount-1)*a,s=B("+",i,l);return St.startFromFixedValue(s,e,t).op((c,d)=>B("+",c,kt(d)+go(d))).getWithConstraints()}else j(e.gridRowHeightType)}j(e.gridColumnCount)}return null}function kO(e,t){let o=ue(0);for(let r of e.children??[])!Me(r)||!Ue(r)||Ci(r,e,t.tree,!0)&&(r.heightType===1||r.heightType===3||(o=B("max",o,Ye(r,t))));return o}function RO(e,t){if(Me(e)&&Mr(e)&&e.maxHeight!==void 0&&e.stackWrapEnabled){let o=fp(e,t),r=B("-",o,kt(e)+go(e));return yo(r)}return 1/0}function DO(e,t,o){let r=ah(e),i=fo(r),n=[];for(let l of Zi(e)){if(!Me(l)||!Ue(l)||!Ci(l,e,t.tree,!0))continue;let s;switch(l.heightType){case 3:s=mp(l,t);break;case 1:s=ue(0);break;case 0:case 2:case 4:case 5:s=Ye(l,t);break;default:j(l.heightType)}let c=n[n.length-1]??ue(0),d=B("+",c,i,s);Math.ceil(yo(d))>Math.ceil(o)||n.length===0?n.push(s):n[n.length-1]=d}return B("max",...n)??ue(0)}function Bk(e,t,o){let r=ue(0);for(let i=0;i<t.columnCount;i++){let n=t.getGridItem(o,i);if(!n)continue;let a=e.tree.getNode(n);if(C(a,"Can\u2019t find grid item in the tree"),!Me(a)||!Ue(a))continue;let l=a.heightType===1?up(a,e)??ue(0):Ye(a,e);r=B("max",r,l)}return r}function mp(e,t){let o=ue(0);return Me(e)?St.startFromFixedValue(o,e,t).getWithConstraints():o}function fp(e,t){let o=ue(1/0);return Me(e)?St.startFromFixedValue(o,e,t).getWithConstraints():o}var Hk=qe("simulateCSSWidth");function _k(e,t){try{let o=il(e,t);return ap(o)}catch(o){if(o instanceof fe)return;Hk.reportWithoutLogging(o,{nodeId:e.id}),Hk.warnOncePerMinute(`Can\u2019t simulate the CSS width for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function il(e,t){let o=t.cache.getCSSWidth(e.id);if(o)return o;let r=LO(e,t);return t.cache.setCSSWidth(e.id,r),r}function LO(e,t){if(!Ia(e))throw new fe;let o=t.tree.getNodeParent(e);if(We(e))return he(100,"vw");if(C(Me(e)&&Ue(e),`Can\u2019t calculate the width on a node ${e.id} when it doesn\u2019t have size information`),t.tree.isGroundNode(e)){if(ve(e)&&Ee(t.tree.getScopeNodeFor(e)))return he(100,"vw");if(ca(e)||ve(e)){let i=he(100,"vw");return Xi(m`${te.componentViewport}?.width || ${i.expr}`)}else{let i=lp(e,t);if(E(i))throw new fe;return he(i,"px")}}if(mc(e))return so.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(!Bi(e,o)&&ye(e)&&e.left!==null&&e.right!==null)return so.startFromParentOuterWidth(e,t).op((i,n)=>{let a=n.left,l=n.right;return C(a!==null&&l!==null,"Satisfying TypeScript"),Be("-",i,he(a+l,"px"))}).getWithConstraints();if(Wi(e)&&ye(e)&&X(e.aspectRatio)&&LT(e)==="width"){let i=Ye(e,t),n=Be("*",np(i),he(e.aspectRatio));return so.startFromRawValue(n,e,t).getWithConstraints()}if(e.widthType===0)return so.startFromRawValue(he(e.width,"px"),e,t).getWithConstraints();if(e.widthType===1){C(o,"A node can\u2019t have a % width without a parent");let i;return ao(e)?i=so.startFromRawValue(he(100,"vw"),e,t):fr(e)?i=so.startFromParentOuterWidth(e,t):zt(o)?i=so.startFromColumnWidthMultipliedBySpan(e,t):i=so.startFromParentInnerWidth(e,t),i.op((n,a)=>Be("*",n,he(a.width))).getWithConstraints()}if(e.widthType===3){let i=t.tree.getNodeParent(e);if(C(i,"A node can\u2019t have a fractional width without a parent"),zt(i))return so.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(C(Ut(i),"A node can have a fractional width only if it\u2019s inside a stack"),C(i.stackDirection,"A stack must have a direction defined"),i.stackDirection==="horizontal")return Gk(e,i.stackWrapEnabled??!1,t);if(i.stackDirection==="vertical")return $k(e,t);if(W(i.stackDirection)){let n=Gk(e,i.stackWrapEnabled??!1,t),a=$k(e,t);if(Vo(n,a))return n;let l=t.getVariableBinding(i.stackDirection,i);if(!l)throw new fe;let s=m`${l} === "row"`,c=m`${s} ? ${ap(n)} : ${ap(a)}`;return Xi(c)}j(i.stackDirection)}if(e.widthType===2){if(Mr(e)&&e.maxWidth){let[i,n]=Tn(e.maxWidth);return he(i,n)}throw new fe}if(e.widthType===4){let i=he(e.width*100,"vw");return so.startFromRawValue(i,e,t).getWithConstraints()}if(e.widthType===5){if(!Xt(e))throw new fe;let i=el(e),n=Ye(e,t),a=E(n)||E(i)?he(e.width,"px"):Be("*",np(n),he(i));return so.startFromRawValue(a,e,t).getWithConstraints()}j(e.widthType)}function Gk(e,t,o){return t?so.startFromParentInnerWidth(e,o).getWithConstraints():so.startFromParentInnerWidth(e,o).subtractSiblingWidths().getWithConstraints()}function $k(e,t){return so.startFromParentInnerWidth(e,t).op((o,r)=>Be("*",o,he(r.width))).getWithConstraints()}var Je,Wa,or,Ki,rr,jk,Uk,dh,ph,Wo=class Wo{constructor(t,o,r,i){ie(this,Je);ie(this,Wa);ie(this,or);ie(this,Ki);ee(this,Je,t),ee(this,Wa,o),ee(this,or,r),ee(this,Ki,i)}static startFromRawValue(t,o,r){return new Wo(t,()=>{let i=r.tree.getNodeParent(o);return C(i,"Can\u2019t calculate the parent width if the node doesn\u2019t have a parent"),il(i,r)},o,r)}static startFromParentOuterWidth(t,o){let r=o.tree.getNodeParent(t);C(r,"Can\u2019t call createFromParentWidth() if the node doesn\u2019t have a parent");let i=il(r,o);return new Wo(i,()=>i,t,o)}static startFromParentInnerWidth(t,o){var n;let r=o.tree.getNodeParent(t);C(r,"Can\u2019t call createFromParentWidthMinusPaddings() if the node doesn\u2019t have a parent");let i=il(r,o);return i=gt(n=Wo,rr,dh).call(n,i,r,o),new Wo(i,()=>i,t,o)}static startFromColumnWidthMultipliedBySpan(t,o){var a,l;let r=o.tree.getNodeParent(t);C(r&&zt(r),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node isn\u2019t inside a grid"),C(mn(t),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node doesn\u2019t have grid item layout");let i=gt(a=Wo,rr,jk).call(a,r,o),n=gt(l=Wo,rr,Uk).call(l,i,r,t.gridItemColumnSpan??1,o);return new Wo(n,()=>n,t,o)}subtractSiblingWidths(){let t=F(this,Ki).tree.getNodeParent(F(this,or));C(t&&Ut(t),"Can\u2019t call subtractSiblingWidths() if the node isn\u2019t inside a stack");let o=[],r=[],i=[],n=[],a=[],l=0;for(let u of Zi(t)){let f=Ci(u,t,F(this,Ki).tree,!1);if(f!==!1&&!sp(f))switch(C(Me(u)&&Ue(u),"It\u2019s impossible to have a regular visible node without width/height/widthType/heightType fields"),l++,u.widthType){case 0:{o.push(u);break}case 1:{r.push(u);break}case 3:{i.push(u);break}case 4:{n.push(u);break}case 2:throw new fe;case 5:{if(!Xt(u)||!u.fillImagePixelWidth||!u.fillImagePixelHeight)throw new fe;a.push(u);break}default:j(u.widthType)}}let c=1-r.reduce((u,f)=>u+f.width,0);if(c!==1&&ee(this,Je,Be("*",F(this,Je),he(c))),o.length){let u=o.reduce((f,y)=>Be("+",f,he(y.width,"px")),he(0,"px"));ee(this,Je,Be("-",F(this,Je),u))}if(a.length){let u=a.reduce((f,y)=>{let v=el(y);if(!v)throw new fe;let b=Ye(y,F(this,Ki));if(!b)throw new fe;return Be("+",f,Be("*",np(b),he(v,"px")))},he(0,"px"));ee(this,Je,Be("-",F(this,Je),u))}if(n.length){let u=n.reduce((f,y)=>Be("+",f,he(y.width*100,"vw")),he(0,"vw"));ee(this,Je,Be("-",F(this,Je),u))}if(W(t.gap)){let u=F(this,Ki).getVariableBinding(t.gap,t);if(u){let f=Xi(Ke`${m`${u} * ${l-1}`}px`);ee(this,Je,Be("-",F(this,Je),f))}}else{let f=Xc(t.gap)*(l-1);f!==0&&ee(this,Je,Be("-",F(this,Je),he(f,"px")))}let d=i.reduce((u,f)=>u+f.width,0);return ee(this,Je,Be("/",F(this,Je),he(d))),ee(this,Je,Be("*",F(this,Je),he(F(this,or).width))),ee(this,Je,Be("max",F(this,Je),he(1,"px"))),this}op(t){return ee(this,Je,t(F(this,Je),F(this,or))),this}getWithConstraints(){var t,o;return Mr(F(this,or))?(F(this,or).maxWidth&&ee(this,Je,gt(t=Wo,rr,ph).call(t,"maxWidth",F(this,Je),F(this,Wa),F(this,or))),F(this,or).minWidth&&ee(this,Je,gt(o=Wo,rr,ph).call(o,"minWidth",F(this,Je),F(this,Wa),F(this,or))),F(this,Je)):F(this,Je)}};Je=new WeakMap,Wa=new WeakMap,or=new WeakMap,Ki=new WeakMap,rr=new WeakSet,jk=function(t,o){var r;if(C(t.gridColumnWidthType!==void 0,"A grid node must have a gridColumnWidthType defined"),t.gridColumnWidthType==="fixed")return C(t.gridColumnWidth!==void 0,"A grid node with fixed width columns must have a gridColumnWidth defined"),he(t.gridColumnWidth,"px");if(t.gridColumnWidthType==="minmax"){if(t.gridColumnCount==="auto-fill")throw new fe;let i=il(t,o);if(i=gt(r=Wo,rr,dh).call(r,i,t,o),C(t.gridColumnCount!==void 0,"A grid node must have a gridColumnCount defined"),W(t.gap)){let n=o.getVariableBinding(t.gap,t);if(n){let a=Xi(Ke`${m`${n} * ${t.gridColumnCount-1}`}px`);i=Be("-",i,a)}}else{let a=Xc(t.gap)*(t.gridColumnCount-1);a!==0&&(i=Be("-",i,he(a,"px")))}return t.gridColumnCount>1&&(i=Be("/",i,he(t.gridColumnCount))),t.gridColumnMinWidth&&(i=Be("max",i,he(t.gridColumnMinWidth,"px"))),i}else j(t.gridColumnWidthType)},Uk=function(t,o,r,i){if(r===1)return t;let n;if(X(r)){if(o.gridColumnCount==="auto-fill")throw new fe;C(o.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),n=Math.min(r,o.gridColumnCount)}else if(r==="all"){if(o.gridColumnCount==="auto-fill")throw new fe;C(o.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),n=o.gridColumnCount}else{if(W(r))throw new fe;j(r)}if(n>1&&(t=Be("*",t,he(n))),W(o.gap)){let a=i.getVariableBinding(o.gap,o);if(a){let l=Xi(Ke`${m`${a} * ${n-1}`}px`);t=Be("+",t,l)}}else{let l=Xc(o.gap)*(n-1);l!==0&&(t=Be("+",t,he(l,"px")))}return t},dh=function(t,o,r){if(!Io(o))return t;let i;if(W(o.padding)){let n=r.getVariableBinding(o.padding,o);n&&(i=Xi(Ke`${m`${n} * 2`}px`))}else o.paddingPerSide?i=he((o.paddingLeft??0)+(o.paddingRight??0),"px"):i=he((o.padding??0)*2,"px");return i?Be("-",t,i):t},ph=function(t,o,r,i){let n=t==="minWidth"?"max":"min",[a,l]=Tn(i[t]);if(l==="%"){let s=r();return Be(n,o,Be("*",s,he(a/100)))}else return Be(n,o,he(a,l))},ie(Wo,rr);var so=Wo;var Jk=qe("simulateYPosition");function Zk(e,t){try{let o=Yi(e,t);return o.type==="number-const"?o.value:o.expr}catch(o){if(o instanceof fe)return;Jk.reportWithoutLogging(o,{nodeId:e.id}),Jk.warnOncePerMinute(`Can\u2019t simulate the y position for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function Yi(e,t){let o=t.cache.getYPosition(e.id);if(o)return o;let r=FO(e,t);return t.cache.setYPosition(e.id,r),r}function FO(e,t){if(!Ia(e))throw new fe;let o=t.tree.getNodeParent(e);if(!(ye(e)&&bc(e))){if(We(e))return ue(0);C(!1,"Can\u2019t calculate the y position on a node when it doesn\u2019t have position information")}if(t.tree.isGroundNode(e)){if(ve(e)&&Ee(t.tree.getScopeNodeFor(e)))return ue(0);if(ca(e)||ve(e))return tl(m`${te.componentViewport}?.y || 0`,0);throw new fe}let r=OO(e,o,t);if(r==="fixed"){if(e.top!==null)return ue(e.top);if(e.bottom!==null){let i=Ye(e,t);return B("-",Oo-e.bottom,i)}else{let i=Ye(e,t);return B("-",B("*",Oo,e.centerAnchorY),B("/",i,2))}}if(r==="absolute"){C(o&&ye(o)&&bc(o),"absolute position: parentNode for the node must exist, be pinnable, and have position type");let i=Yi(o,t);if(e.top!==null)return B("+",i,ue(e.top));if(e.bottom!==null){let n=Ye(o,t),a=Ye(e,t);return B("-",B("+",i,n),B("+",e.bottom,a))}else{let n=Ye(o,t),a=Ye(e,t);return B("+",i,B("-",B("*",n,e.centerAnchorY),B("/",a,2)))}}if(r==="sticky"||r===void 0){if(C(o&&ye(o)&&bc(o),"relative position: parentNode for the node must exist, be pinnable, and have position type"),Ut(o)){if(C(o.stackDirection,"parentNode for the node must have stackDirection"),o.stackDirection==="horizontal"){if(o.stackWrapEnabled)throw new fe;if(W(o.stackAlignment))throw new fe;let i=Ye(o,t),n=B("-",i,kt(o)+go(o));if(C(o.stackAlignment,"parentNode for node must have stackAlignment"),o.stackAlignment==="start")return B("+",Yi(o,t),ue(kt(o)));if(o.stackAlignment==="center"){let a=Ye(e,t),l=B("-",n,a);return B("+",Yi(o,t),B("+",kt(o),B("/",l,2)))}else if(o.stackAlignment==="end"){let a=Ye(e,t),l=B("-",n,a);return B("+",Yi(o,t),kt(o),l)}else j(o.stackAlignment)}if(o.stackDirection==="vertical"){let i=pp(o,t,c=>Ye(c,t),c=>mp(c,t),c=>fp(c,t)),n=i.findCoordinates(e.id);C(n,"Node must be found in stack layout info");let a=EO(n.columnIndex,i,t),l=AO(n.columnItemIndex,a,o,t),s=[Yi(o,t),kt(o),l];return zO(o,e,t)&&s.unshift(Oo),B("+",...s)}if(W(o.stackDirection))throw new fe;j(o.stackDirection)}if(zt(o)){if(C(o.gridColumnCount!==void 0,"parentNode for node must have gridColumnCount"),o.gridColumnCount==="auto-fill")throw new fe;if(X(o.gridColumnCount)){let i=Hn(o,t);if(i.isEmpty())return B("+",Yi(o,t),kt(o));let n=i.findCoordinates(e.id);C(n,"Node must be found in the grid layout info");let a=MO(n.rowIndex,i,o,t);return B("+",Yi(o,t),kt(o),a)}j(o.gridColumnCount)}C(!1,"Relative and sticky nodes can only exist in stacks or grids")}j(r)}function EO(e,t,o){let r=[];return t.walkColumn(e,i=>{let n=o.tree.get(i);C(n&&Me(n)&&Ue(n),"column item must exist, have size, and have size dimension type");let a;if(n.heightType===3){let l=t.getFrToPxForColumn(e);C(l,"frToPx must be available for the column"),a=B("*",l,n.height)}else a=Ye(n,o);r.push(a)}),r}function Xk(e,t,o){return o.cache.memo(`sumAllStackChildrenHeights-${e.id}`,()=>B("+",...t)??ue(0))}function AO(e,t,o,r){let i=o.stackDistribution;if(C(i,"parentNode for node must have stackDistribution"),W(i))throw new fe;let n=Ye(o,r),a=B("-",n,kt(o)+go(o));if(i==="start"||i==="center"||i==="end"){let l=Po(o.gap),s=fo(l),c;if(i==="start")c=ue(0);else{let f=Xk(o,t,r),y=s*(t.length-1),v=B("-",a,B("+",f,y));c=i==="center"?B("/",v,2):v}let d=dp("+",0,e,t)??ue(0),u=s*e;return B("+",c,d,u)}if(i==="space-between"||i==="space-around"||i==="space-evenly"){C(!_l(o),"gap is not expected with stackDistribution:",o.stackDistribution);let l=Xk(o,t,r),s=B("-",a,l),c=t.length,d;switch(i){case"space-between":d=B("/",s,Math.max(1,c-1));break;case"space-around":d=B("/",s,c);break;case"space-evenly":d=B("/",s,c+1);break;default:j(i)}let u;switch(i){case"space-between":u=ue(0);break;case"space-around":u=B("/",d,2);break;case"space-evenly":u=d;break;default:j(i)}let f=dp("+",0,e,t)??ue(0),y=B("*",d,e);return B("+",u,f,y)}j(i)}function MO(e,t,o,r){if(C(o.gridRowHeightType!==void 0,"parentNode for node must have gridRowHeightType defined"),o.gridRowHeightType==="fixed"){C(o.gridRowHeight!==void 0,"A grid parent node with gridRowHeightType === 'fixed' (for node) must have gridRowHeight defined");let i=e*o.gridRowHeight,n=Po(o.gap),a=fo(n),l=e*a;return ue(i+l)}if(o.gridRowHeightType==="fit"){let i=[];for(let c=0;c<e;c++)for(let d=0;d<t.columnCount;d++){let u=r.tree.get(t.getGridItem(c,d));if(!u)continue;C(Me(u)&&Ue(u),"grid child must have size and size-dimension type");let f=Ye(u,r);i[c]=B("max",i[c]??ue(0),f)}let n=B("+",...i)??ue(0),a=Po(o.gap),l=fo(a),s=e*l;return B("+",n,s)}if(o.gridRowHeightType==="auto"){let i=Ye(o,r),n=B("-",i,kt(o)+go(o)),a=Hn(o,r),l=a.rowCount,s=Po(o.gap),c=fo(s),d=(a.rowCount-1)*c,u=B("/",B("-",n,d),l),f=B("*",e,u),y=e*c;return B("+",f,y)}j(o.gridRowHeightType)}function OO(e,t,o){if(Ic(o.tree,e)&&e.position==="fixed")return"fixed";if(Nc(e,t)&&e.position==="absolute")return"absolute";if(hv(e,t)&&e.position==="sticky")return"sticky";if(t&&We(t))return"fixed";if(!(t&&Qt(t)))return"absolute"}function zO(e,t,o){if(ve(e)&&Ee(o.tree.getScopeNodeFor(e))){let r=e.children?.findIndex(Dr);if(E(r))return!1;let i=o.tree.getIndex(t);return r<i}return!1}var hp=class{constructor(t,o,r){this.treeStore=t;this.variables=o;this.valueTransforms=r;R(this,"simulationContext");this.simulationContext=wk(this.treeStore.tree,this.variables,this.valueTransforms)}getCSSWidth(t){return _k(t,this.simulationContext)}getHeight(t){return zk(t,this.simulationContext)}getYPosition(t){return Zk(t,this.simulationContext)}getComponentViewportContext(t){let o=this.getCSSWidth(t),r,i;return Or(t)||(r=this.getHeight(t),i=this.getYPosition(t)),{width:o,height:r,y:i}}};var gp=class{constructor(t,o){this.tree=t;this.bindings=o;R(this,"ids",new Map)}create(t){let o=this.composeBaseId(t),r=this.tree.get(t);ro(r,"AppearIdCollector: Node not found");let i=Mc(r,this.tree);return i.length>0?this.composeRepeaterId(o,i):o}composeBaseId(t){let o=Et(t),r=this.ids.get(o);if(E(r))return this.ids.set(o,0),o;let i=r+1;return this.ids.set(o,i),`${o}-${i}`}composeRepeaterId(t,o){let r=[t];for(let i of o){let n=this.tree.get(i);n&&r.push(this.bindings.createWithNode("index",n))}return Ke.join(r,"-")}};var qi,uh,mh,Gn=class{constructor(t){this.assetMap=t;ie(this,qi);R(this,"keys",new Set)}addAsset(t){this.keys.add(t)}resolve(t){if(!gt(this,qi,uh).call(this,t))return;let o=gt(this,qi,mh).call(this,t);if(o!==null)return o&&(t=o.identifier),{src:oy(t)}}resolveResponsiveImage(t,{focalPoint:o}={}){if(!gt(this,qi,uh).call(this,t))return;let r=gt(this,qi,mh).call(this,t);if(r===null)return;r&&(t=r.identifier);let i=r?.preferredSize??"auto",n=this.assetMap.assetForKey(t),a=n?.properties?.image,l=r?.intrinsicSize??a,s=iy(a?.width,a?.height),d={src:n?ny(n,i,s):Ol(t,void 0,void 0,l),positionX:void 0,positionY:void 0,srcSet:je.isOn("fixedSizeImageSrcset")?void 0:this.generateSrcSet(n,s,i),preferredSize:je.isOn("fixedSizeImageSrcset")?i:void 0,pixelWidth:l?.width,pixelHeight:l?.height};return o&&k(o.positionX)&&k(o.positionY)&&(d.positionX=o.positionX,d.positionY=o.positionY),d}generateSrcSet(t,o,r){if(!t)return;ro(!je.isOn("fixedSizeImageSrcset"),"This code path must only be executed with fixedSizeImageSrcset: off");let i;if((!r||r==="auto"||r==="lossless")&&o?.length&&t.properties?.image){i="";for(let{maxSideSize:a,width:l}of o)l<ly||(i+=`${pu(t,a,r==="lossless")} ${l}w,`);i+=`${pu(t,void 0,r==="lossless")} ${t.properties.image.width}w`}return i}};qi=new WeakSet,uh=function(t){return!(Fo(t)||t.startsWith("https:"))},mh=function(t){let o=ry(t);return o&&(t=o.identifier),t===""?null:(this.addAsset(t),o)};var yp=class{constructor(t,o,r){this.declarations=t;this.scope=o;this.primaryVariantId=r}create(t,o){if(t===!0&&E(o))return{condition:!0};if(!E(t)&&E(o))return{condition:t};if(o){if(Array.from(o.values()).every(({value:y})=>y===t))return{condition:t};let r=new Set,i=new x.Set;da(this.scope)&&this.primaryVariantId&&Yk(this.primaryVariantId,t,r,i);let n=new Map,a=new Map,l=new Map,s=BO(l),c=s(t);for(let[y,v]of o){if(da(this.scope)&&Yk(y,v.value,r,i),!v.isGesture&&v.value===t)continue;let b=v.isGesture?n:a;WO(y,s(v.value),b)}let d=[],u=[];for(let y of l.keys()){let v=l.get(y);v&&(u.push(new x(y)),d.push(me(v)))}let f=this.declarations.dedupe("isDisplayed",new x(at.lines(m`(${new x(d.join(", "))}) => {`,da(this.scope)&&m`if (!${x.fn(te.isBrowser)}) return true`,...this.createConditionStatementsForGroup(n,"gestureVariant"),...this.createConditionStatementsForGroup(a,"baseVariant"),m`return ${c}`,m`}`)));return{condition:x.fn(f,...u),classNames:r,classNameExpressions:i}}return{condition:!0}}createConditionStatementsForGroup(t,o){if(t.size===0)return[];let r=[],i=new x(o);for(let[n,a]of t){let l=new x(n);if(a.size===1){let s=Array.from(a)[0];if(E(s))continue;r.push(m`if (${i} === ${s}) return ${l}`)}else r.push(m`if (${Array.from(a)}.includes(${i})) return ${l};`)}return r}};function WO(e,t,o){let r=me(t),i=o.get(r)??new Set;o.set(r,i.add(e))}function BO(e){let t=new Set;return o=>{if(!bo(o))return o;let r=me(o),i=e.get(r)??new x(Fc("value",t));return e.set(r,i),i}}function Kk(e){return`hidden-${Et(e)}`}function Yk(e,t,o,r){if(t===!1){let i=Kk(e);o.add(i)}else if(bo(t)){let i=Kk(e);r.add(m`!(${t}) && ${i}`)}}var nl,$n,al,Cp=class{constructor(t,o,r,i,n,a){this.scope=t;this.bindings=o;this.declarations=r;this.imports=i;this.variables=n;this.treeStore=a;ie(this,nl,new Map);ie(this,$n,null);ie(this,al,new Map)}isLayoutTemplateRef(t){if(nt(F(this,$n))){if(ee(this,$n,new Set),!sc(this.scope)||!zS(this.scope))return!1;let o=O.componentForIdentifier(this.scope.layoutTemplateIdentifier)?.properties;if(!o)return!1;let r=this.scope.getControlProps(o);for(let i in r){let n=r[i];if(E(n?.value)||W(n.value)||n.type!=="scrollsectionref")continue;let a=n.value.target;E(a)||W(a)||F(this,$n).add(a)}}return F(this,$n).has(t)}getNodeInPrimary(t){if(!t)return;let o=t.originalid?this.treeStore.tree.get(t.originalid):t;if(o)return o}scrollTargetInfo({target:t,collectionItem:o}){if(!t)return;if(U(t))return{ref:this.variables.create(t)};let r=this.treeStore.tree.get(t);if(!r||!Cn(r)||this.treeStore.treeIndex.getScopeIdFor(r.id)!==this.scope.id)return;let i=this.getNodeInPrimary(r);if(!i)return;let n=this.ref(i,o);if(n)return{ref:n,offset:r.scrollMarginTop}}ref(t,o){let r=this.getNodeInPrimary(t);if(!r)return;let i=F(this,nl).get(r.id);if(i)return i;let n=Mc(r,this.treeStore.tree),a=this.isLayoutTemplateRef(r.id);if(a||o||n&&n.length>0){let d=this.id(r,o);if(!d)return;let u=this.imports.addImport("framer",{exportSpecifier:a?"useSiteRefs":"useDynamicRefs"});return x.fn(this.declarations.component.dedupe("dynamicRef",x.fn(m`${u}<HTMLElement>`)),d)}let l=this.bindings.create("ref"),s=this.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),c=m`const ${l} = ${x.fn(m`${s}.useRef<HTMLElement>`,m`null`)}`;return this.declarations.component.create(c),F(this,nl).set(r.id,l),l}getBaseId(t,o){if(G(o)){if(Cn(t)){let r=[t.id];return o&&o.id!==this.scope.id&&r.push(o.id),this.declarations.component.dedupe("elementId",x.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteElementId"}),...r))}return Et(t.id)}if(ne(o))return Ke`${te.layoutId}-${Et(t.id)}`}getPortalAncestor(t){let o=this.treeStore.tree.getParent(t.id);if(o){if(rt(t))return this.treeStore.tree.get(o.getPrimaryId());if(We(o)){let r=this.treeStore.tree.getParent(o.id);return this.treeStore.tree.get(r?.getPrimaryId())}}}portalId(t){let o=this.getPortalAncestor(t);return o?this.id(o):void 0}id(t,o){let r=this.getNodeInPrimary(t);if(!r)return;let i=this.treeStore.treeIndex.getScopeIdFor(r.id),n=this.treeStore.tree.get(i);if(!G(n)&&!ne(n))return;if(G(n)&&Cn(r)){let l=Jv(r,this.treeStore.tree);l&&F(this,al).set(r.id,l)}let a=this.getBaseId(r,n);if(a)return Xv(r,this.treeStore.tree,l=>{if(l.id===r.id)return a;if(U(o)&&o.id===l.id)return this.variables.create(o);if(LS(o)&&o.key===l.id)return o.value;if(l.type==="slug")return this.variables.create(Ot(l.id,l.providerId))})}annotation(){let t=Object.fromEntries(F(this,al));return Lt(t)?"":JSON.stringify(t)}};nl=new WeakMap,$n=new WeakMap,al=new WeakMap;function GO(e){return e instanceof Error?!!Hf(e):!1}function $O(e){return k(e)?e:e instanceof Error?e.message:Re(e)?JSON.stringify(e):"Unknown error"}var sl,Sp=class{constructor(t,o,r){this.scopeId=t;this.sourceNodeId=o;this.type=r;ie(this,sl,[])}record(t,o,r){if(GO(o)){this.recordKnownError(t,o);return}F(this,sl).push({nodeId:t.id,reason:$O(o),moduleIdentifier:Ge(r)?r:void 0})}get errors(){return F(this,sl).map(t=>new Nb({...t,sourceNodeId:this.sourceNodeId,sourceNodeModuleType:this.type,scopeId:this.scopeId,type:"CodeGeneration"}))}recordKnownError(t,o){if(Hf(o)){let r=new Set;o.error.forEach(i=>{r.add(i),this.record(t,"CodeError",i)}),o.missing.forEach(i=>{r.has(i)||this.record(t,"MissingModule",i)})}}};sl=new WeakMap;function fh(e,t){let o=[],r=Ty(e,n=>{let a=t.create(n);return o.push(n),"${"+a+"}"});return{templatedUrl:new x("`"+r+"`"),usedVariables:o}}function vp(e,t,o,r=void 0){if(W(e.value))return ro(!_t(e.value),"Computed values should not be possible in fetch fallback"),t.create(e.value);switch(e.type){case"color":return e.value?m`${e.value}`:m`undefined`;case"string":return m`${e.value}`;case"boolean":return new x(e.value);case"number":return new x(e.value);case"image":{if(e.value===void 0)return m`undefined`;let i=o.resolveResponsiveImage(e.value);return i?m`${i.src}`:m`undefined`}case"link":{if(!e.value||!r)return m`undefined`;let i=r.create(e.value);return i?new x(me(i)):m`undefined`}default:Mt(e)}}function Tp(e,t,o,r=void 0){let{templatedUrl:i}=fh(e,t),n=zl(e);return new K({url:i,resultKeyPath:e.resultKeyPath,fallbackValue:vp(n.controlProp,t,o,r),errorFallbackValue:n.errorControlProp?vp(n.errorControlProp,t,o,r):void 0,resultOutputType:n.controlProp.type,cacheDuration:e.cacheDuration,credentials:e.credentials})}var _n=class{constructor(t,o,r,i,n){this.bindings=t;this.variables=o;this.preload=r;this.assets=i;this.links=n;R(this,"fetchesByNode",new Map);R(this,"resultBindingsByNode",new Map)}createFetchBinding(t,o){let r=zl(o);if(!vy(r))return vp(r.controlProp,this.variables,this.assets,this.links);let i=t.getPrimaryId(),n=this.resultBindingsByNode.get(i)??this.bindings.create("fetchResult");this.resultBindingsByNode.set(i,n),this.preload.addFetch(t,r);let a=this.fetchesByNode.get(t.id)??[];return a.push(Tp(r,this.variables,this.assets,this.links)),this.fetchesByNode.set(t.id,a),m`${n}[${a.length-1}]`}getResultBinding(t){return this.resultBindingsByNode.get(t.getPrimaryId())}getFetchesForNode(t){return this.fetchesByNode.get(t.id)}};var bp=class{constructor(t){this.declarationCollector=t;R(this,"fontObjects",new Set);R(this,"fontReferences",new Map);R(this,"referencedComponentIdentifiers",new Set);R(this,"fontObjectsBySelector",new Map)}createDedupedVariationAxesBinding(t){return t.variationAxes?this.declarationCollector.dedupe("variationAxes",[...t.variationAxes]):void 0}addFontObjectBySelector(t,o){let r=this.fontObjectsBySelector.get(t);if(r){if(!o)return;let n=r[0];if(!n)return;if(nc(n.source,o)&&!n.openType)for(let a of r)a.openType=!0;return}let i=ay.getFontBySelector(t);if(!(!i||!i.file))if(i.subsets){let n=[];this.fontObjectsBySelector.set(t,n);for(let a of i.subsets){let l={url:a.file,uiFamilyName:i.family.name,cssFamilyName:i.cssFamilyName,style:i.style,weight:i.weight!==void 0?String(i.weight):void 0,source:i.family.source,unicodeRange:a.unicodeRange,variationAxes:this.createDedupedVariationAxesBinding(i),openType:nc(i.family.source,o)};this.fontObjects.add(l),n.push(l)}}else{let n={url:i.file,uiFamilyName:i.family.name,cssFamilyName:i.cssFamilyName,style:i.style,weight:i.weight!==void 0?String(i.weight):void 0,source:i.family.source,variationAxes:this.createDedupedVariationAxesBinding(i),openType:nc(i.family.source,o)};this.fontObjects.add(n),this.fontObjectsBySelector.set(t,[n])}}addFontReference({componentIdentifier:t,fontReference:o}){this.fontReferences.set(me(o),o),this.referencedComponentIdentifiers.add(t)}};function _O(e){return e==="string"||e==="vectorsetitem"}var jn,Ip=class{constructor(t,o){this.modulesStore=t;this.tree=o;ie(this,jn,new Map)}get structure(){return Array.from(F(this,jn).values())}addSection(t){if(!sm(t)&&!$c(t))return;let o=Sw(t);if(!o)return;let r={_id:o,_layerId:t.id,content:[]};return F(this,jn).set(r._id,r),r._id}addCustomizations(t,o){if(!sm(t)||!o)return;let r=F(this,jn).get(o);if(r&&(_(t)&&jO(t,r,this.tree,this.modulesStore),!!iT(t))){for(let i of t.customizations)if(De(t))r.content.push({field:i.fieldPath,text:t.getTextContent()});else if(_(t)&&t.isVectorInstance){if(!Ge(t.codeComponentIdentifier))return;let n=Vs(ce(t.codeComponentIdentifier),this.tree,this.modulesStore)?.name;if(!k(n))return;r.content.push({field:i.fieldPath,text:n})}F(this,jn).set(o,r)}}};jn=new WeakMap;function jO(e,t,o,r){let i=O.componentForIdentifier(e.codeComponentIdentifier)?.properties;if(!i)return;let n=e.getControlProps(i);for(let a in n){let l=n[a];if(!l)continue;let{type:s,value:c}=l;if(!k(s)||!_O(s))continue;let d=i[a]?.title??a;if(k(c))switch(s){case"string":t.content.push({field:d,text:c});break;case"vectorsetitem":{if(!Ge(c))continue;let u=Vs(ce(c),o,r)?.name;if(!k(u))continue;t.content.push({field:d,text:c});break}default:j(s,"Unknown control type")}}}var Un,Np=class{constructor(t){this.scopeNode=t;ie(this,Un,new Map)}recordClassName(t,o,r){if(!Ee(this.scopeNode)||t.parentid!==o||t.visible===!1||Nn(t)&&t.locked)return;let i=o,n=F(this,Un).get(i)??new Set;n.add("."+r),F(this,Un).set(i,n)}annotation(){if(!Ee(this.scopeNode)||F(this,Un).size===0)return"{}";let t={};for(let[o,r]of F(this,Un))t[o]=Array.from(r);return JSON.stringify(t)}};Un=new WeakMap;var hh=class{constructor(t,o,r,i){this.moduleType=t;this.modulesStore=o;this.submoduleName=r;this.sourceCode=i;R(this,"submoduleFilename");R(this,"submoduleImport");R(this,"bindings",new Hr);R(this,"imports");R(this,"declarations",new xn(this.bindings));this.submoduleFilename=YI(this.submoduleName),this.submoduleImport=qI(this.submoduleFilename),this.imports=new pi(this.moduleType,this.modulesStore,this.bindings)}get estimatedSize(){return this.declarations.declarationsByteSize}serialize(){let t=at.linesFrom(this.imports.statements),o=this.declarations.list();return at.sections(t,this.sourceCode,...o)}},xp=class{constructor(t,o,r){this.moduleType=t;this.modulesStore=o;this.componentSourceNodeId=r;R(this,"submodules",new Set)}create(t){let o=KI(this.componentSourceNodeId,this.submodules.size),r=new hh(this.moduleType,this.modulesStore,o,t);return this.submodules.add(r),r}delete(t){this.submodules.delete(t)}serialize(){let t=new Map;for(let o of this.submodules){let r=o.serialize();t.set(o.submoduleName,r)}return t}};function qk(e){return`${e}ToDisplayName`}var Qk="enumToDisplayNameFunctions";function eR(e){if(e?.type!=="enum"||!e.optionTitles)return m`(value) => value`;let t=e.optionTitles;return new x(at.lines(m`(value, _locale) => {`,m`switch (value) {`,...e.options.map((o,r)=>{let i=t[r];return m`case ${o}: return ${E(i)?m`undefined`:i};`}),m`default: return "";`,m`}`,m`}`))}function tR(e){let{locale:t,grouping:o,notation:r,compactDisplay:i,style:n,currency:a,currencyDisplay:l,unit:s,unitDisplay:c,minimumFractionDigits:d,maximumFractionDigits:u,minimumIntegerDigits:f}=e,y={locale:t,notation:r,style:n};switch(ar(o)&&(y.useGrouping=o),X(d)&&(y.minimumFractionDigits=d),X(u)&&(y.maximumFractionDigits=u),X(f)&&(y.minimumIntegerDigits=f),r==="compact"&&(y.compactDisplay=i),n){case"currency":y.currency=a,y.currencyDisplay=l;break;case"unit":y.unit=s,y.unitDisplay=c;break}return new K(y)}var oR=m`(value, options = {}, activeLocale) => {
    const fallbackLocale = "en-US";
    const locale = options.locale || activeLocale || fallbackLocale;
    const {
        useGrouping,
        notation,
        compactDisplay,
        style,
        currency,
        currencyDisplay,
        unit,
        unitDisplay,
        minimumFractionDigits,
        maximumFractionDigits,
        minimumIntegerDigits,
    } = options;
    const formatOptions = {useGrouping, notation, compactDisplay, style, currency, currencyDisplay, unit, unitDisplay, minimumFractionDigits, maximumFractionDigits, minimumIntegerDigits};
    const number = Number(value);
    try {
        return number.toLocaleString(locale, formatOptions);
    } catch {
        try {
            return number.toLocaleString(fallbackLocale, formatOptions);
        } catch {
            return number.toLocaleString();
        }
    }
};
`;function rR(e,t){if(t.length===0)return null;C(e);let o=new Set;for(let i of t){let n=e.create(i);o.add(me(n))}let r=`{${Array.from(o).join(", ")}}`;return new x(r)}function iR(e,t,o,r){let i=e.name;switch(i){case"contains":case"containsAny":case"containsAll":case"endsWith":case"equals":case"startsWith":case"greaterThan":case"lessThan":case"isBefore":case"isAfter":case"isIncludedIn":return U(e.value)?(C(o),[o.create(e.value)]):[E(e.value)?m`undefined`:e.value];case"prefix":case"suffix":{if(U(e.value))return C(o),[o.create(e.value)];let a=E(e.value)?m`undefined`:e.value;return e.valueLocalized?(C(r,"LocalizedValueCollector is required"),[r.add(a,e.valueLocalized,l=>e.valueLocalized?.[l]?.value)]):[a]}case"toDateString":return[t.getActiveLocaleCode()];case"extractDateSegment":return[e.segment];case"numberToString":return[tR(e),t.getActiveLocaleCode()];case"offsetAndLimitArray":return[e.startOffset,X(e.limit)?e.limit:m`undefined`];case"isBetweenDates":{let a=[];return U(e.start)?(C(o),a.push(o.create(e.start))):a.push(E(e.start)?m`undefined`:e.start),U(e.end)?(C(o),a.push(o.create(e.end))):a.push(E(e.end)?m`undefined`:e.end),a}case"convertFromEnum":case"convertFromString":{let l=function(d){So(d)&&ti(d,u=>l(u)),U(d)&&a.push(d)};var n=l;let a=[];l(e.default);for(let d of e.cases)l(d.to);let s=rR(o,a),c=o?.getLocale()??m`undefined`;return s?[c,s]:[c]}case"convertFromBoolean":{let l=function(u){So(u)&&ti(u,f=>l(f)),U(u)&&a.push(u)};var n=l;let a=[];l(e.truthy),l(e.falsy);let s=o?.getLocale()??m`undefined`,c=rR(o,a);return c?[s,c]:[s]}case"enumToDisplayName":return t.variables?[t.variables.getLocale()]:[];case"toString":case"toBoolean":case"toNumber":case"isSet":case"negate":case"reverseArray":case"toResponsiveImage":case"toImageSrc":case"jsonStringify":case"htmlEscape":case"htmlUnescape":case"addImageAlt":case"toZIndex":case"toAxisOverflow":case"toOverflowWithClipFallback":case"numberToPixelString":case"radiusForCorner":case"arrayToArray":case"arrayLength":case"isEven":case"isOdd":case"getGridColumnCSSValue":case"getGridRowCSSValue":case"getNumericColumnGap":return[];default:j(i,"All value transforms should define their arguments")}}var nR=m`(image, alt) => {
    if (!image || typeof image !== "object") {
        return;
    };
    return { ...image, alt };
};
`;var aR=m`(value) => {
    return Array.isArray(value) ? value.length : 0
}
`;function sR(e){let t=m`item`,o={[fi]:m`${t}?.[${fi}]`};for(let r in e.mapping){let i=e.mapping[r];if(C(Uo(i)),xy(i.value)){o[r]=m`${t}?.[${i.value.id}]`;continue}i.value}return m`(value) => {
      if (!Array.isArray(value)) return
      return value.map((${t}) => (${o}))
    }`}var lR=m`(a, b) => {
    if (typeof a === "string" && typeof b === "string") {
        return a.toLowerCase().includes(b.toLowerCase());
    }

    if (Array.isArray(a) && typeof b === "string") {
        return a.includes(b);
    }

    return false;
};
`;var cR=m`(a, b) => {
    if (!Array.isArray(a) || !Array.isArray(b)) {
        return false;
    }

    const aSet = new Set(a);

    for (const item of b) {
        if (!aSet.has(item)) {
            return false;
        }
    }

    return true;
};
`;var dR=m`(a, b) => {
    if (!Array.isArray(a) || !Array.isArray(b)) {
        return false;
    }

    if (b.length === 0) {
        return true;
    }

    const shortestArray = a.length < b.length ? a : b;
    const longestArray = shortestArray === a ? b : a;
    const longestSet = new Set(longestArray);

    for (const item of shortestArray) {
        if (longestSet.has(item)) {
            return true;
        }
    }

    return false;
};
`;function UO(e){let t=Fr(e.outputType);return me(m`return ${Bt(t)?t:m`undefined`};`)}function pR(e,t,o,r,i,n,a){if(o==="link")return!a||!So(e)&&!U(e)?void 0:a.create(e);if(!So(e))return U(e)?i.create(e):TS(o,e,r)?n&&t&&o==="string"?n.add(e,t,l=>t?.[l]?.value):e:bS(o,r)}function JO(e,t,o,r,i){if(!vS(e.outputType))return UO(e);let n=pR(e.truthy,e.truthyLocalized,e.outputType,t,o,r,i),a=pR(e.falsy,e.falsyLocalized,e.outputType,t,o,r,i);return at.lines(m`if (value) {`,m`return ${n===void 0?m`undefined`:n};`,m`} else {`,m`return ${a===void 0?m`undefined`:a};`,m`}`)}function uR(e,t,o,r,i){C(o),C(r),C(i);let n=new Set;function a(s){if(So(s)&&ti(s,c=>a(c)),U(s)){C(o);let c=o.create(s);n.add(me(c))}}a(e.truthy),a(e.falsy);let l=[m`value`,te.activeLocale];if(n.size>0){let s=`{${Array.from(n).join(", ")}}`;l.push(new x(s))}return new x(at.lines(m`(${new x(l.map(me).join(", "))}) => {`,new x(JO(e,t,o,r,i)),m`}`))}function Ba(e,t,o,r,i,n,a){if(o==="link")return!a||!So(e)&&!U(e)?void 0:a.create(e);if(!So(e))return U(e)?i.create(e):CS(o,e,r)?n&&o==="string"&&k(e)&&t?n.add(e,t,l=>t?.[l]?.value):e:SS(o,r)}function mR(e){let t=Fr(e.outputType);return me(m`return ${Bt(t)?t:m`undefined`};`)}function XO(e,t,o,r,i,n){if(t?.type!=="enum"||!gS(e.outputType))return mR(e);let a=new Set,l=Ba(e.default,e.defaultLocalized,e.outputType,o,r,i,n);return at.lines(m`switch (value) {`,...e.cases.filter(s=>a.has(s.from)||!t.options.includes(s.from)?!1:(a.add(s.from),!0)).map(s=>{let c=Ba(s.to,s.toLocalized,e.outputType,o,r,i,n);return m`case ${s.from}: return ${c===void 0?m`undefined`:c};`}),m`default: return ${l===void 0?m`undefined`:l};`,m`}`)}function fR(e,t,o,r,i,n){C(r),C(i),C(n);let a=new Set;function l(c){if(So(c)&&ti(c,d=>l(d)),U(c)){C(r);let d=r.create(c);a.add(me(d))}}e.cases.forEach(c=>{l(c.to)}),l(e.default);let s=[m`value`,te.activeLocale];if(a.size>0){let c=`{${Array.from(a).join(", ")}}`;s.push(new x(c))}return new x(at.lines(m`(${new x(s.map(me).join(", "))}) => {`,new x(XO(e,t,o,r,i,n)),m`}`))}function ZO(e){let t=Fr(e.outputType);return me(m`return ${Bt(t)?t:m`undefined`};`)}function KO(e,t,o,r,i){if(!yS(e.outputType))return ZO(e);let n=new Set,a=Ba(e.default,e.defaultLocalized,e.outputType,t,o,r,i);return at.lines(m`switch (typeof value === "string" ? value.toLowerCase() : value) {`,...e.cases.filter(l=>{let s=l.from.toLowerCase();return n.has(s)?!1:(n.add(s),!0)}).map(l=>{let s=Ba(l.to,l.toLocalized,e.outputType,t,o,r,i);return m`case ${l.from.toLowerCase()}: return ${s===void 0?m`undefined`:s};`}),m`default: return ${a===void 0?m`undefined`:a};`,m`}`)}function hR(e,t,o,r,i){C(o),C(r),C(i);let n=new Set;function a(s){if(So(s)&&ti(s,c=>a(c)),U(s)){C(o);let c=o.create(s);n.add(me(c))}}e.cases.forEach(s=>{a(s.to)}),a(e.default);let l=[m`value`,te.activeLocale];if(n.size>0){let s=`{${Array.from(n).join(", ")}}`;l.push(new x(s))}return new x(at.lines(m`(${new x(l.map(me).join(", "))}) => {`,new x(KO(e,t,o,r,i)),m`}`))}var gR=m`(a, b) => {
    return typeof a === "string" && typeof b === "string" && a.toLowerCase().endsWith(b.toLowerCase());
};
`;var yR=m`(a, b) => {
    return (typeof a === "string" && typeof b === "string") ? a.toLowerCase() === b.toLowerCase() : a === b;
};
`;var CR=m`(value, segment = "year") => {
    if (typeof value !== "string") return;
    const date = new Date(value);
    if (isNaN(date.getTime())) return;
    if (segment === "year") return date.getUTCFullYear();
    if (segment === "month") return date.getUTCMonth() + 1;
    if (segment === "day") return date.getUTCDate();
    if (segment === "hour24") return date.getUTCHours();
    if (segment === "hour12") {
        const hour = date.getUTCHours();
        return hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;
    }
    if (segment === "minute") return date.getUTCMinutes();
};
`;var gh=m`spanCount`,Vp=m`optionalColumnCount`,SR=m`(columnSpan, ${Vp}) => {
    if (columnSpan === "all") return "-1 / 1";
    const ${gh} = Number.isFinite(columnSpan) && columnSpan > 0 ? columnSpan : 1;
    if (Number.isFinite(${Vp}) && ${gh} > ${Vp}) {
        return ${Ke`span ${Vp}`};
    }
    return ${Ke`span ${gh}`};
};
`;var vR=m`spanCount`,TR=m`(rowSpan) => {
    const ${vR} = Number.isFinite(rowSpan) && rowSpan > 0 ? rowSpan : 1;
    return ${Ke`span ${vR}`}
};
`;var bR=m`(gap) => {
    if (Number.isFinite(gap) && gap >= 0) return gap;
    if (typeof gap !== "string") return 0;
    const firstSegment = gap.split(" ")[0];
    const parsedGap = parseFloat(firstSegment);
    return Number.isFinite(parsedGap) && parsedGap >= 0 ? parsedGap : 0;
};
`;var IR=m`(a, b) => {
    return (typeof a === "number" && typeof b === "number") ? a > b : false;
};
`;var NR=m`(value) => {
    if (typeof value !== "string") return "";
    return value.replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll('"', "&quot;").replaceAll("'", "&#39;");
};
`;var xR=m`(value) => {
    if (typeof value !== "string") return "";
    const entities = /&(?:[gl]t|quot|#39|amp|#6[02]|#34|apos|#38);/gu;
    const replacers = { "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'", "&amp;": "&", "&#60;": "<", "&#62;": ">", "&#34;": '"', "&apos;": "'", "&#38;": "&" };
    return value.replace(entities, match => replacers[match]);
};
`;var VR=m`(dateString, minDateString) => {
    if (typeof dateString !== "string" || typeof minDateString !== "string") return false;

    const date = new Date(dateString);
    if (isNaN(date.getTime())) return false;

    const minDate = new Date(minDateString);
    if (isNaN(minDate.getTime())) return false;

    return date >= minDate;
};
`;var PR=m`(dateString, maxDateString) => {
    if (typeof dateString !== "string" || typeof maxDateString !== "string") return false;

    const date = new Date(dateString);
    if (isNaN(date.getTime())) return false;

    const maxDate = new Date(maxDateString);
    if (isNaN(maxDate.getTime())) return false;

    return date <= maxDate;
};
`;var wR=m`(value, start, end) => {
    if (typeof value !== "string" || typeof start !== "string" || typeof end !== "string") return false;

    const date = new Date(value);
    if (isNaN(date.getTime())) return false;

    const startDate = new Date(start);
    if (isNaN(startDate.getTime())) return false;

    const endDate = new Date(end);
    if (isNaN(endDate.getTime())) return false;

    return date >= startDate && date <= endDate;
};
`;var kR=m`(value) => {
    return typeof value === "number" && value % 2 === 0;
};
`;var RR=m`(a, b) => {
    return b.includes(a);
};
`;var DR=m`(value) => {
    return typeof value === "number" && value % 2 === 1;
};
`;var LR=m`(value) => {
    if (Array.isArray(value)) return value.length > 0;
    return value !== undefined && value !== null && value !== "";
};
`;var FR=m`(value) => {
    const result = JSON.stringify(value)
    if (typeof result === 'string') return result.replace(/<\\/(script|style)/gi, '<\\\\/$1')
    return result
};
`;var ER=m`(a, b) => {
    return (typeof a === "number" && typeof b === "number") ? a < b : false;
};
`;var AR=m`(value) => {
    return !value;
};
`;var MR=m`(value) => {
    if (typeof value !== "number") return value;
    if (!Number.isFinite(value)) return undefined;
    return Math.max(0, value) + "px";
};
`;var OR=m`(value, offset, limit) => {
    if (!Array.isArray(value)) return []
    const end = typeof limit === "number" ? offset + limit : undefined
    return value.slice(offset, end);
};
`;var zR=m`(value, prefix) => {
    if (typeof value === "string" && typeof prefix === "string") {
        return prefix + value;
    } else if (typeof value === "string") {
        return value;
    } else if (typeof prefix === "string") {
        return prefix;
    }
    return "";
};
`;var WR=m`(value, cornerIndex) => {
    if (typeof value === "number" && Number.isFinite(value)) return Math.max(0, value) + "px";
    if (typeof value !== "string" || typeof cornerIndex !== "number") return undefined;
    const segments = value.split(" ");
    return segments[cornerIndex] || segments[cornerIndex - 2] || segments[0];
};
`;var BR=m`(value) => {
    return Array.isArray(value) ? Array.from(value).reverse() : [];
}
`;var HR=m`(a, b) => {
    return typeof a === "string" && typeof b === "string" && a.toLowerCase().startsWith(b.toLowerCase());
};
`;var GR=m`(value, suffix) => {
    if (typeof value === "string" && typeof suffix === "string") {
        return value + suffix;
    } else if (typeof value === "string") {
        return value;
    } else if (typeof suffix === "string") {
        return suffix;
    }
    return "";
};
`;var $R=m`(value, overflow) => {
    const isNonScrollable = (o) => o === "visible" || o === "clip" || o === undefined
    return isNonScrollable(value) === isNonScrollable(overflow) ? value : undefined
}`;var _R=m`(value) => {
    return Boolean(value);
};
`;var jR=m`value`,UR=m`activeLocale`;function JR(e,t){let o=t.dedupe("sharedDateFormatter",new x(at.lines(m`(value, formatOptions, locale) => {`,m`  if (typeof value !== "string") return "";`,m`  const date = new Date(value);`,m`  if (isNaN(date.getTime())) return "";`,m`  const fallbackLocale = "en-US";`,m`  try {`,m`      return date.toLocaleString(locale || fallbackLocale, formatOptions);`,m`  } catch {`,m`      return date.toLocaleString(fallbackLocale, formatOptions);`,m`  }`,m`};`))),r=NS(e.display,e.format,e.dateStyle,!1),i={...IS[r].options,timeZone:"UTC"},n=t.dedupe("dateOptions",new x(me(i)));return new x(at.lines(m`(${jR}, ${UR}) => {`,m`return ${x.fn(o,jR,n,e.locale||UR)};`,m`};`))}var XR=m`(value) => {
    if (typeof value === "object" && value !== null && typeof value.src === "string") {
        return value.src;
    };
    return typeof value === "string" ? value : undefined;
};
`;var ZR=m`(value) => {
    if (typeof value === "number" && Number.isFinite(value)) return value;
    if (typeof value !== "string") return 0;
    const parsedNumber = parseFloat(value);
    return (typeof parsedNumber === "number" && Number.isFinite(parsedNumber)) ? parsedNumber : 0;
};
`;var YO=`var(${uy}, clip)`,KR=m`(value) => {${m.joinLines(m`if (value === "clip") return ${YO}`,m`return value`)}};`;var YR=m`(value) => {
    if (typeof value === "object" && value !== null && typeof value.src === "string") {
        return value
    }
    return typeof value === "string" ? {src: value} : undefined;
};
`;var qR=m`(value) => {
    return typeof value === "string" ? value : String(value);
};
`;var QR=m`(value) => {${m.joinLines(m`if (value < -1) return -1`,m`if (value > 11) return 11`,m`return value`)}};`;function eD(e){switch(e){case"isAfter":return VR;case"isBefore":return PR;case"isBetweenDates":return wR;case"contains":return lR;case"containsAny":return dR;case"containsAll":return cR;case"endsWith":return gR;case"equals":return yR;case"isSet":return LR;case"greaterThan":return IR;case"lessThan":return ER;case"negate":return AR;case"numberToString":return oR;case"startsWith":return HR;case"toString":return qR;case"toNumber":return ZR;case"toBoolean":return _R;case"extractDateSegment":return CR;case"reverseArray":return BR;case"offsetAndLimitArray":return OR;case"arrayLength":return aR;case"prefix":return zR;case"suffix":return GR;case"toResponsiveImage":return YR;case"toImageSrc":return XR;case"jsonStringify":return FR;case"htmlEscape":return NR;case"htmlUnescape":return xR;case"addImageAlt":return nR;case"toZIndex":return QR;case"toAxisOverflow":return $R;case"toOverflowWithClipFallback":return KR;case"numberToPixelString":return MR;case"radiusForCorner":return WR;case"isIncludedIn":return RR;case"isEven":return kR;case"isOdd":return DR;case"getGridColumnCSSValue":return SR;case"getGridRowCSSValue":return TR;case"getNumericColumnGap":return bR;default:j(e,"All constant transform names should be implemented")}}function tD(e,t,o,r,i,n,a){switch(e.name){case"enumToDisplayName":return eR(t);case"convertFromEnum":return fR(e,t,o,r,i,n);case"convertFromString":return hR(e,o,r,i,n);case"convertFromBoolean":return uR(e,o,r,i,n);case"arrayToArray":return sR(e);case"toDateString":return JR(e,a);default:j(e,"All dynamic transform names should be implemented")}}var ko=ia(),qO={name:"toString"},QO={name:"toNumber"},ez={name:"toBoolean"},tz={name:"toResponsiveImage"},oz={name:"toImageSrc"},rz={name:"toZIndex"},iz={name:"numberToPixelString"},nz={name:"radiusForCorner"},az={name:"toAxisOverflow"},sz={name:"toOverflowWithClipFallback"},lz={name:"jsonStringify"},cz={name:"htmlEscape"},dz={name:"htmlUnescape"},pz={name:"addImageAlt"},uz={name:"getGridColumnCSSValue"},mz={name:"getGridRowCSSValue"},fz={name:"getNumericColumnGap"};function hz(e){return Py(e.name)}var Jr=class{constructor(t,o,r,i,n,a,l,s,c){this.fileDeclarations=t;this.componentDeclarations=o;this.imports=r;this.variables=i;this.localizedValues=n;this.links=a;this.fetches=l;this.modulesStore=s;this.type=c}wrapInTransformFunction(t,o,r,i,n){if(Vy(o.name)){let a=this.fileDeclarations.dedupe(o.name,eD(o.name));return x.fn(a,t,...r)}if(hz(o)){if(o.name==="enumToDisplayName"&&i&&i.type==="enum"){let l=this.getImportedEnumToDisplayNameIfPossible(t,i);if(l)return l}let a=tD(o,i,n,this.variables,this.localizedValues,this.links,this.fileDeclarations);return x.fn(new x(this.fileDeclarations.dedupe(o.name,a)),t,...r)}j(o.name,"All value transforms should be handled in wrapInTransformFunction")}getImportedEnumToDisplayNameIfPossible(t,o){let r=this.imports,i=this.modulesStore;if(!r||!i)return;let n=XC(o);if(!n)return;let{dataIdentifier:a,enumFieldKey:l}=n;if(a===av)return l===nv?this.variables?.getLayoutDirectionName()??m`undefined`:this.variables?.getLocaleName()??m`undefined`;let s=O.dataForIdentifier(a);if(!s||!s.annotations)return;let c="framerEnumToDisplayNameUtils",d=s.annotations?.[c];if(!k(d))return;let u=Number.parseInt(d,10);if(!X(u))return;let f=ce(a);if(!Ge(f))return;let{importSpecifier:y}=ui(f,this.type,i);if(!y)return;let v=this.variables?.getLocale()??m`undefined`;switch(u){case 1:{let b=qk(l),V=r.addImport(y,{exportSpecifier:b});return x.optionalFn(V,t,v)}case 2:{let b=Qk,V=r.addImport(y,{exportSpecifier:b});return x.optionalFn(m`${V}[${l}]`,t,v)}default:throw new Error(`Enum to display name utils, unsupported version: ${u}`)}}wrapInValueTransform(t,o,r,i){return this.wrapInTransformFunction(t,o,iR(o,this,this.variables,this.localizedValues),r,i)}makeTypeSafe(t,o){switch(o){case"string":case"color":return this.wrapInTransformFunction(t,qO,ko);case"number":return this.wrapInTransformFunction(t,QO,ko);case"boolean":return this.wrapInTransformFunction(t,ez,ko);case"array":case"enum":case"link":case"gap":case"padding":case"borderradius":case"image":return t;default:return t}}getActiveLocaleCode(){if(!this.componentDeclarations||!this.imports)return m`undefined`;let t=this.imports.addImport("framer",{exportSpecifier:"useLocaleCode"});return this.componentDeclarations.dedupe("activeLocaleCode",x.fn(t))}createComputedValue(t,o,r){C(this.variables);let i=Vr(t)?o.cache.getVariableControlByReference(t.startValue):void 0,n=Vr(t)?this.variables.create(t.startValue):this.fetches.createFetchBinding(o,t.startValue),a;t.transforms.forEach(s=>{wy(s.name)&&(n=this.wrapInValueTransform(n,s,i,r),a=s)});let l=a?ky(a.name):null;return!l||l.length>1||l[0]!==t.outputType?this.makeTypeSafe(n,t.outputType):n}wrapInToResponsiveImage(t){return this.wrapInTransformFunction(t,tz,ko)}wrapInToImageSrc(t){return this.wrapInTransformFunction(t,oz,ko)}wrapInToZIndex(t){return this.wrapInTransformFunction(t,rz,ko)}wrapInNumberToPixelString(t){return this.wrapInTransformFunction(t,iz,ko)}wrapInRadiusForCorner(t,o){return this.wrapInTransformFunction(t,nz,[o])}wrapInToAxisOverflow(t,o){return this.wrapInTransformFunction(t,az,[o])}wrapInToOverflowWithClipFallback(t){return this.wrapInTransformFunction(t,sz,ko)}wrapInAddImageAlt(t,o){return this.wrapInTransformFunction(t,pz,[o])}wrapInClampRGB(t){return C(this.imports,"ValueTransformCollector: Must have imports to wrap in clampColor."),x.fn(this.imports.addImport("framer",{exportSpecifier:"clampRGB"}),t)}wrapInGetGridColumnCSSValue(t,o){return this.wrapInTransformFunction(t,uz,o?[o]:ko)}wrapInGetGridRowCSSValue(t){return this.wrapInTransformFunction(t,mz,ko)}wrapInGetNumericColumnGap(t){return this.wrapInTransformFunction(t,fz,ko)}wrapInTemplateFilters(t,o){return this.makeTypeSafe(_b(t,o,{json:r=>this.wrapInTransformFunction(r,lz,ko),escape:r=>this.wrapInTransformFunction(r,cz,ko),raw:r=>this.wrapInTransformFunction(r,dz,ko)}),"string")}};function gz(e){return G(e)||Jt(e)||ne(e)||lr(e)||Ee(e)}function oD(e,t){return m`(key, locale){${m.joinLines(m`while (locale) {${m.joinLines(m`const values = ${e}[locale.id]`,m`if (values) {${m.joinLines(m`const value = ${t?m`values.read()[key]`:m`values[key]`}`,m`if (value) return value`)}}`,m`locale = locale.fallback`)}}`)}}`}var cl,Pp=class{constructor(t,o,r){this.entryNode=t;this.variables=o;this.treeStore=r;R(this,"cache",{});R(this,"valueCounter",0);ie(this,cl,!1)}freeze(){ee(this,cl,!0)}add(t,o,r){C(!F(this,cl),"Cannot add values to a frozen LocalizedValuesCollector.");let i={};if(!o||!gz(this.entryNode))return t;let n;if(this.variables){let u=new Hr;n=new Vn(this.entryNode,u)}let a=this.treeStore.tree.root.locales??[];for(let u of a){if(!(u.id in o))continue;let f=this.createLocalizedValue(u.id,n,r);Fo(f)||(i[u.id]=f)}if(Lt(i))return t;let l=me({defaultValue:t,localizedValues:i}),s=this.cache[l];if(s)return s;let c=`v${this.valueCounter++}`,d=x.fn(this.getLocalizedValueBinding,c,te.activeLocale);if(this.variables&&n&&n.size>0){let u=[],f=[];for(let[v,b]of n){u.push(b);let V=this.variables.create(v);f.push(V)}for(let v in i){let b=i[v];C(!Fo(b),"Localized should not be null or undefined");let V=m.listFrom(u);i[v]=m`(${V}) => ${b}`}let y=m.listFrom(f);d=m`${d}?.(${y})`}for(let u in i){let f=i[u];C(!Fo(f),"Localized should not be null or undefined"),this.recordLocalizedValue(u,c,f)}return E(t)||(d=m`${d} ?? ${t}`),this.cache[l]=d}};cl=new WeakMap;var Qi,wp=class extends Pp{constructor(o,r,i,n,a,l,s,c){super(o,r,i);this.imports=n;this.declarations=a;this.fetches=l;this.modulesStore=s;this.moduleType=c;R(this,"submoduleByLocaleId",new Map);R(this,"identifier",`../${qr("localization",this.entryNode.id)}`);R(this,"submodules");R(this,"bindings",new Hr);ie(this,Qi);this.submodules=new xp(this.moduleType,this.modulesStore,this.entryNode.id)}get getLocalizedValueBinding(){return this.imports.addImport(this.identifier,{exportSpecifier:"default",importBinding:"getLocalizedValue"})}canPreloadWithSuspense(){return!ne(this.entryNode)}preloadWithSuspense(){F(this,Qi)||(ee(this,Qi,this.bindings.create("usePreloadLocalizedValues")),this.declarations.component.create(x.fn(this.imports.addImport(this.identifier,{exportSpecifier:me(F(this,Qi))}),te.activeLocale)))}createLocalizedValue(o,r,i){let n=this.submoduleByLocaleId.get(o)??this.submodules.create(),a=new Hi(this.entryNode,n.imports,n.bindings,r,this.treeStore,this.modulesStore),l=i(o,{links:a,variables:r,imports:n.imports,declarations:n.declarations,valueTransforms:new Jr(n.declarations,void 0,n.imports,r,this,a,this.fetches,this.modulesStore,this.moduleType)});if(Fo(l)){n&&!this.submoduleByLocaleId.has(o)&&this.submodules.delete(n);return}return this.submoduleByLocaleId.set(o,n),this.canPreloadWithSuspense()&&this.preloadWithSuspense(),l}recordLocalizedValue(o,r,i){let n=this.submoduleByLocaleId.get(o);C(n,"Localization submodule must exist"),n.declarations.create(m`export const ${new x(r)} = ${i}`)}maybeGetUsePreloadDeclarations(o){if(!this.canPreloadWithSuspense()||!F(this,Qi))return[];let r=this.bindings.create("preload"),i=F(this,Qi);return[m`function ${r}(locale) {${m.joinLines(m`const promises = []`,m`while (locale) {${m.joinLines(m`const values = ${o}[locale.id]`,m`if (values) {${m.joinLines(m`const promise = values.preload()`,m`if (promise) promises.push(promise)`)}}`,m`locale = locale.fallback`)}}`,m`if (promises.length > 0) return Promise.all(promises)`)}}`,m`export function ${i}(locale) {${m.joinLines(m`const preloadPromise = ${r}(locale)`,m`if (preloadPromise) throw preloadPromise`)}}`]}values(o){let r={};for(let[i,n]of this.submoduleByLocaleId)if(this.canPreloadWithSuspense()){let a=o.addImport("framer",{exportSpecifier:"LazyValue"});r[i]=x.fn(m`new ${a}`,m`() => import(${n.submoduleImport})`)}else r[i]=o.addImport(n.submoduleImport,{exportSpecifier:"*",importBinding:"localizedValues"});return r}module(o){if(this.freeze(),(this.treeStore.tree.root.locales??[]).length===0||this.submoduleByLocaleId.size===0)return;let i=new pi(this.moduleType,this.modulesStore,this.bindings),n=new xn(this.bindings),a=n.dedupe("valuesByLocaleId",this.values(i));return{type:"localization",revision:o,source:m.joinSections(m.joinLines(...i.statements),...n.list(),m`export default function getLocalizedValue${oD(a,this.canPreloadWithSuspense())}`,...this.maybeGetUsePreloadDeclarations(a)),artifacts:{submodules:this.submodules.serialize()}}}};Qi=new WeakMap;var dl,ll=class extends Pp{constructor(o,r,i,n,a,l,s,c,d){super(o,r,i);this.imports=n;this.bindings=a;this.declarations=l;this.fetches=s;this.modulesStore=c;this.moduleType=d;R(this,"valuesByLocaleId",{});ie(this,dl)}get getLocalizedValueBinding(){return F(this,dl)||ee(this,dl,this.bindings.create("getLocalizedValue")),F(this,dl)}recordLocalizedValue(o,r,i){let n=this.valuesByLocaleId[o]??{};n[r]=i,this.valuesByLocaleId[o]=n}createLocalizedValue(o,r,i){let n=new Hi(this.entryNode,this.imports,this.bindings,r,this.treeStore,this.modulesStore);return i(o,{links:n,variables:r,imports:this.imports,declarations:this.declarations,valueTransforms:new Jr(this.declarations,void 0,this.imports,r,this,n,this.fetches,this.modulesStore,this.moduleType)})}list(){if(this.freeze(),(this.treeStore.tree.root.locales??[]).length===0)return[];let r=this.bindings.create("valuesByLocaleId");return[m`const ${r} = ${this.valuesByLocaleId}`,m`function ${this.getLocalizedValueBinding} ${oD(r,!1)}`]}};dl=new WeakMap;function rD(e){e=[...e].sort((o,r)=>o[0]-r[0]||o[1]-r[1]);let t=[];for(let o of e){if(o[0]===o[1])continue;let r=t[t.length-1];if(!r){t.push(o);continue}if(o[0]<=r[1]){r[1]<o[1]&&(r[1]=o[1]);continue}t.push(o)}return t}function Ode(e,t){let o=[],r=0;for(let[i,n]of e){if(i<=r){r=n;continue}o.push([r,i]),r=n}return t!==void 0&&r<t&&o.push([r,t]),o}var Jn,Xn,Ha,kp=class{constructor(t){ie(this,Jn);ie(this,Xn,new Set);ie(this,Ha,new Map);ee(this,Jn,{...t})}count(t,o=1){F(this,Jn)[t]+=o}measureLength(t,o){return(typeof o=="string"||o instanceof x)&&(F(this,Jn)[t]+=o.length),o}get(){if(F(this,Xn).size>0){let o=Array.from(F(this,Xn),r=>r.metric).join(", ");throw Error(`Attempted to get metrics before completing timer(s): ${o}`)}let t={...F(this,Jn)};for(let[o,r]of F(this,Ha)){let i=rD(r);t[o]+=Math.round(i.reduce((n,[a,l])=>n+(l-a),0))}return t}time(t){let o=performance.now(),r=!1,i={get metric(){return t},cancel:()=>{r||(F(this,Xn).delete(i),r=!0)},done:()=>{C(!r,"Attempted to complete a cancelled timer");let n=F(this,Ha).get(t);n||(n=[],F(this,Ha).set(t,n)),n.push([o,performance.now()]),i.cancel()}};return F(this,Xn).add(i),i}async timed(t,o){let r=this.time(t);try{return await o()}finally{r.done()}}};Jn=new WeakMap,Xn=new WeakMap,Ha=new WeakMap;var pl,Zn=class{constructor(t,o,r,i,n,a,l){this.entryNode=t;this.treeStore=o;this.variables=r;this.declarations=i;this.bindings=n;this.imports=a;this.assets=l;ie(this,pl,new Map);R(this,"preloadDependencyTree",new Map)}command(t){let o=F(this,pl).get(t);if(o)return o;let r=this.bindings.create("pre"+t);return F(this,pl).set(t,r),r}addQuery(t,o,r){if(!ne(this.entryNode))return;let{destructured:i,dependencies:n}=this.getVariableDependencies(r),a=m`(${nD(this.command("query"),i)}) => ${x.fn(this.command("query"),o)}`;this.addStatement("query",t,n,x.fn(this.declarations.dedupe("query",a),this.command("query"),i))}addFetch(t,o){if(!ne(this.entryNode))return;let{usedVariables:r}=fh(o,this.variables);U(o.controlProp.value)&&r.push(o.controlProp.value);let{destructured:i,dependencies:n}=this.getVariableDependencies(r),a=m`(${nD(this.command("fetch"),i)}) => ${x.fn(this.command("fetch"),Tp(o,this.variables,this.assets,void 0))}`;this.addStatement("fetch",t,n,x.fn(this.declarations.dedupe("query",a),this.command("fetch"),i))}createPromiseList({fetches:t,children:o},r=!1){let i=[];if(r)for(let n of t)i.push(n);for(let[,n]of o){for(let l of n.fetches)i.push(l);if(!n.value)continue;let a=n.value;if(n.children.size===0){i.push(a);continue}i.push(m`${a}.then(collection => Promise.all(collection.flatMap((${vz(this.variables,n.usedVariables)}) => (${this.createPromiseList(n)}))))`)}return m`[${m.listFrom(i)}]`}getHook(){if(!ne(this.entryNode))return{variants:new Set,hook:void 0};let t={},o=[],r=new Set;for(let[y,v]of this.preloadDependencyTree){if(v.children.size===0&&v.fetches.size===0||!v.variantHasAnyFetches)continue;r.add(y);let b=v.usedVariables.map(V=>this.variables.create(V));o.push(...b),t[y]=this.declarations.dedupe("preload",m`(${this.command("query")}, ${this.command("fetch")}, ${yh(b)??m`props`}) => Promise.all(${this.createPromiseList(v,!0)})`)}if(!r.size)return{variants:new Set,hook:void 0};let i=this.declarations.dedupe("preloadStatements",t),n=this.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a=this.imports.addImport("framer",{exportSpecifier:"usePreloadQuery"}),l=this.imports.addImport("framer",{exportSpecifier:"usePrefetch"}),s=m`variant`,c=m`gestures`,d=m`clearLoadingVariant`,u=m`setGestureState`,f=this.declarations.dedupe("useLoadingVariant",m`(${s}, ${c}, ${d}, ${u}, props?: Record<string, unknown>) => {${m.joinLines(m`const prequery = ${x.fn(a)}`,m`const prefetch = ${x.fn(l)}`,m`${n}.useEffect(() => {${m.joinLines(m`const promise = ${i}[${s}]`,m`if (!promise || !${c}?.[${s}]?.loading) return`,m`promise(prequery, prefetch, props)`,m`.then(() => ${x.fn(d)})`,m`.catch(() => ${x.fn(u,{isError:!0})})`)}}, [${s}])`)}}`);return{variants:r,hook:y=>x.fn(f,te.baseVariant,y,te.clearLoadingGesture,te.setGestureState,yh(o))}}addStatement(t,o,r,i){let n=this.treeStore.treeIndex.getGroundNodeIdFor(o.id),a=this.treeStore.tree.get(n);if(!a||!xe(a)||wa(a.gesture))return;let l=iD(this.preloadDependencyTree,a.id);t==="fetch"&&(l.variantHasAnyFetches=!0);let s=r.get(this.entryNode.id);s&&l.usedVariables.push(...s);let c=l;for(let d of yz(o,r,t==="fetch")){let u=iD(c.children,d);if(d===o.id){t==="query"&&(u.value=i),t==="fetch"&&u.fetches.add(i);for(let[y,v]of r){let b=u.dependencies.get(y)??[];b.push(...v),u.dependencies.set(y,b)}}let f=r.get(d);f&&u.usedVariables.push(...f),c.children.set(d,u),c=u}this.preloadDependencyTree.set(a.id,l)}getVariableDependencies(t){let o=[],r=new Map;for(let i of t)o.push(this.variables.create(i)),Cz(r,i.providerId??this.entryNode.id,i);return{destructured:yh(o),dependencies:r}}};pl=new WeakMap;function yz(e,t,o){if(e.cache.ancestorRepeaterIds){if(o){let r=[...e.cache.ancestorRepeaterIds,e.id];for(let i=e.cache.ancestorRepeaterIds.length-1;i>=0;i--){let n=e.cache.ancestorRepeaterIds[i];if(n&&t.has(n))break;r.splice(i,1)}return r}return[...e.cache.ancestorRepeaterIds,e.id]}return[e.id]}function Cz(e,t,o){let r=e.get(t)??[];r.push(o),e.set(t,r)}function Sz(e){return{id:e,value:void 0,dependencies:new Map,usedVariables:[],children:new Map,fetches:new x.Set,variantHasAnyFetches:!1}}function iD(e,t){return e.get(t)??Sz(t)}function nD(...e){let t=[];for(let o of e)o&&t.push(me(o));return new x(t.join(", "))}function yh(e){if(e.length===0)return;let t={};for(let o of e)t[me(o)]=o;return t}function vz(e,t){if(t.length===0)return m``;let o=new K;for(let r of t)o[r.id]=e.create(r);return o}var $a,Rp=class{constructor(){ie(this,$a,[])}add(t){let o=Iz(t);o.length!==0&&F(this,$a).push(...o)}annotation(){if(F(this,$a).length===0)return;let t=new Set;for(let o of F(this,$a))t.add(JSON.stringify(o));return`[${Array.from(t).join(",")}]`}};$a=new WeakMap;function Ga(e){return k(e)&&e.length>0}function Tz(e){return Re(e)?"id"in e&&Ga(e.id)&&(e.type===void 0||e.type==="click"||e.type==="form_submit"):!1}function lpe(e){return ft(e)?e.every(Tz):!1}function bz(e,t,o){if(e.includes(dc))try{let i=Na(e).querySelectorAll(`[${dc}]`);for(let n of i){let a=n.getAttribute(dc);Ga(a)&&o.push({id:a,nodeId:t,type:"click"})}}catch{}}function Iz(e){let t=[],o=e.getPrimaryId();if(Gi(e)&&Ga(e.linkClickTrackingId)&&t.push({id:e.linkClickTrackingId,nodeId:o,type:"click"}),De(e)){for(let r of e.getLinkClickTrackingId(!1))Ga(r)&&t.push({id:r,nodeId:o,type:"click"});if(e.htmlLocalized)for(let r in e.htmlLocalized){let i=e.htmlLocalized[r]?.value;i&&bz(i,o,t)}}if(_(e)){let r=O.reactComponentForIdentifier(e.codeComponentIdentifier);if(r?.properties){let i=e.getControlProps(r.properties);for(let n in i){if(!i[n])continue;let a=i[n];a.type==="trackingid"&&Ga(a.value)&&t.push({id:a.value,nodeId:void 0,type:void 0})}}}return No(e)&&Ga(e.formSubmitTrackingId)&&t.push({id:e.formSubmitTrackingId,nodeId:o,type:"form_submit"}),t}var Dp=class{constructor(t,o,r,i){this.imports=t;this.treeStore=o;this.modulesStore=r;this.createBinding=i;R(this,"sets",new Set)}resolveVariableInstance(t){C(U(t.dynamicVectorSetIdentifier),"Vector set identifier must be a variable reference"),C(Ge(t.codeComponentIdentifier),"Code component identifier must be a module");let o=ce(t.codeComponentIdentifier),r=Vs(o,this.treeStore.tree,this.modulesStore)?.set.moduleId;return r&&this.sets.add(r),this.createBinding(t.dynamicVectorSetIdentifier,t,"Icon")}resolveControl(t,o,r){if(U(t))return this.sets.add(o.setModuleId),this.createBinding(t,r,"Icon");C(Ge(t),"Vector set item must be a module export identifier");let i=rT(this.treeStore.tree,o,t);if(i)return this.imports.addModuleImport(i)}annotation(){if(this.sets.size!==0)return JSON.stringify(Array.from(this.sets))}};var ul,ml,Ch,Lp=class{constructor(){ie(this,ml);ie(this,ul,new Map)}set(t,o){F(this,ul).set(gt(this,ml,Ch).call(this,t),o)}get(t){return F(this,ul).get(gt(this,ml,Ch).call(this,t))}};ul=new WeakMap,ml=new WeakSet,Ch=function(t){return t.getPrimaryId()};function aD(e,t){let o=new Map(t.map(i=>[i.id,i])),r=[];for(let i of e.getRouteSegmentRootNode().getWebPageIdToRawPathMap(e).keys()){let n=o.get(i);n&&r.push(n)}return r}function sD(e,t){let o,r,i,n,a;for(let s of e)G(s,!0)?(t===s.id&&(o=o??s),s.dataIdentifier?i=i??s:r=r??s):It(s,!0)?a=a??s:dt(s,!0)&&(n=n??s);let l=o??r??i??a??n;return C(l,"getFirstPageNodeAccordingToUI: Tree must contain at least one Web Page, Design Page or Canvas Page"),l}function lD(e){for(let t of e)if(It(t,!0))return t}function cD(e){return e?G(e,!0)||dt(e,!0)||ne(e,!0)||It(e,!0):!1}function dD(e,t,o=!1,r=!1){let i=t?.[e];if(i)return i;if(e===hc&&o)return r?"Key":"Key & Gamepad";if(r&&e==="onMouseEnter")return"Enter";let a=(e.startsWith("on")&&e.length>2?e.substring(2):e).replace("Tap","Click");return ei(a)}function Nz(){let e=null,t=null;return o=>{let r=O.componentForIdentifier(o.codeComponentIdentifier);if(r===e)return t;if(!r||!r.properties)return null;let i={},n=Object.keys(r.properties);for(let a=0,l=n.length;a<l;a++){let s=n[a],c=r.properties[s];c?.type==="eventhandler"&&c.title&&(i[s]=c.title)}return e=r,t=i,i}}var Ppe=Nz();function xz(e,t){let o=new Set(e.variables.map(r=>r.name));return _r(ei(t),o)}function Vz(e){switch(e.type){case"controlReference":case"nodePropertyControlReference":switch(e.expectedType){case"enum":return"Type";case"file":return"File";default:throw Error(`getFallbackNameForCreateVariableOptions(), unsupported file reference type: ${e.expectedType}`)}default:return WC(e.type)}}function Pz(e,t){if(e==="richtext")return t.length;let o=$y;return t.forEach((r,i)=>{if(!cn(o)){if(r.type!=="richtext"){X(o)&&(o=Xg);return}_y(o)||(o=i)}}),X(o)?o:t.length}function wz(e){return Jt(e)?"collection":Ee(e)?"layout_template":ne(e)?"canvas_component":G(e)?"web_page":(C(!0,"Should not be able to create variables on invalid scope",e.__class),"canvas_component")}function Sh(e,t){let{scopeId:o,isAssigned:r=!0,useUniqueName:i=!0,...n}=t,a=e.get(o);if(!a||!pr(a))return null;let l=t.name.trim(),s=l||Vz(t),c=i?xz(a,s):s,d=qs({...n,name:c},wz(a));if(d.type==="eventhandler"&&!ne(a))return null;let u=Pz(d.type,a.variables),f=Ir.insert(a.variables,u,d);return a.set({variables:f}),r&&MV({variableType:d.type,variableId:d.id}),Ot(d.id,a.id)}function $pe(e){let{engine:t,showModal:o=!0,...r}=e,i=Sh(t.tree,r);if(!i)return null;let n=t.tree.get(e.scopeId);return!n||!pr(n)?null:(ua(t)&&o&&(t.stores.variablesStore.selectedVariableId=i.id,t.stores.modalStore.set({type:"Variables",source:"properties"})),Ot(i.id,n.id))}var kz=qe("createAndAssignActionVariableToNode");function pD(e,t,o,r,i){if(!(Wt(t)||_(t)))return null;let n=e.getScopeNodeFor(t);if(!n||!ne(n))return null;let a=e.getGroundNodeFor(t);if(!a||!Er(a))return null;let l=O.componentForIdentifier("framer/useTriggerEvent");if(!l)return null;let s=Sh(e,{scopeId:n.id,type:"eventhandler",name:r??dD(o,null),initialValue:void 0});if(!s)return null;Wc(e,t,o,l,{id:{type:"string",value:s.id}});let c=n.getTopLevelReplicaVariants();for(let d of c){let{overrides:u}=d.replicaInfo;u[t.id]&&aT(e,d,t.id,o,l,{id:{type:"string",value:s.id}})}return i&&i.updateComponent(n.id).catch(d=>kz.error(d)),s.id}function Rz(e){let t=zc(e);if(Object.keys(t).length!==0)for(let r in t){let i=t[r];if(i&&i.length===0)return r}}function Dz(e,t,o){switch(t){case"framer/useShowOverlay":return e.create(oI,o);case"framer/useShowRelativeOverlay":return e.create(hi,o,{width:200,height:150,radius:10,boxShadows:[By({x:0,y:10,blur:20,color:"rgba(0,0,0,0.05)",spread:0})],floatingPositionEnabled:!0,floatingPlacement:qS,floatingAlignment:QS,floatingOffsetX:KS,floatingOffsetY:YS,floatingCollisionDetection:!0,floatingCollisionPadding:Cc});default:j(t)}}function Lz(e,t,o,r){o&&C(t==="framer/useShowOverlay"&&We(o)||t==="framer/useShowRelativeOverlay"&&(Pe(o)||_(o)),"Invalid overlay type: ",o.__class,"for overlay action: ",t);let i=o??Dz(e,t,r.id);return Qe(i)&&i.set({zIndex:iS,styleAppearEffectEnabled:!0,styleAppearEffectTrigger:"onMount",overflow:"clip",position:"absolute",...vT.fadeIn()}),i}function Fz(e,t,o,r,i){C(Ts(o),"Parent is not a local smart component instance, events can't be created");let n=dv(e,o);e.loadScopes([n],([a])=>{if(!a)return;let l=a.getPrimaryVariant();C(l,"SmartComponentNode should have a primary variant");let s=pD(e,l,r,r==="onMouseEnter"?"Hover":void 0,t);C(s,"Should be able to create event key for local smart component node"),i(s)})}function uD(e,t,o,r,i){let n=O.componentForIdentifier(t);C(n,"Cannot find overlay action definition"),Wc(e,i,r,n,{overlay:{type:"string",value:o.id}},!0)}function Ez(e){switch(e){case"framer/useShowOverlay":return"fixed";case"framer/useShowRelativeOverlay":return"relative";default:j(e)}}function mD({treeStore:e,codeGenerationStore:t},o,r,i){let n=e.tree.get(r);if(!n)return;let a=ht(n)?e.tree.get(n.originalid):n;if(!a||!Wt(a)&&!_(a))return;let l=o==="framer/useShowRelativeOverlay"?"onMouseEnter":"onTap",s=_(a)?Rz(a):l,c=Ts(a);if(!s&&!c)return;let d=Lz(e.tree,o,i,a);return s?uD(e.tree,o,d,s??l,a):Fz(e.tree,t,a,l,u=>uD(e.tree,o,d,u,a)),Ct("overlay_create",{source:i?"duplicate":"events_panel",overlayType:Ez(o)}),d}var fD=qe("ScopeStore");function vh(e){return dt(e,!0)||G(e,!0)||It(e,!0)}function Fp(e){if(dt(e))return"CanvasPage";if(G(e))return"WebPage";if(ne(e))return"SmartComponent";if(Di(e))return"ContentManagement";if(Ee(e))return"LayoutTemplate";if(vo(e))return"VectorSet";if(uC(e))return"Analytics";if(mC(e))return"LocalizationGlossary";if(It(e))return"DesignPage";if(Xl(e))return"Routes";if(fC(e))return"CustomCode";throw Error(`Failed to return scope type, invalid scope: ${e.__class}`)}var Kn,Yn,qn,Qn,_a,Bo,vi,en,ja,Ua,Ja,hD=class extends Br{constructor(o,r,i,n,a,l,s,c,d,u,f){super();this.treeStore=o;this.canvasStore=r;this.selection=i;this.chromeStore=n;this.contentManagementStore=a;this.modalStore=l;this.overlayStore=s;this.codeGenerationStore=c;this.insertSidebarStore=d;this.modulesStore=u;this.aiGenerationStore=f;ie(this,Kn,0);R(this,"isCheckingActivePage",!0);ie(this,Yn,"");ie(this,qn,"");ie(this,Qn,"");ie(this,_a,"");ie(this,Bo,[]);ie(this,vi,!1);ie(this,en,!1);ie(this,ja,new Map);ie(this,Ua,new Map);R(this,"loadingActiveId");R(this,"_activeId");R(this,"scopeSwitchStart",0);R(this,"scopeSwitchPending",!1);R(this,"scopeIdToSelectedCollectionItem",new Map);R(this,"rootScopeType","CanvasPage");ie(this,Ja,[]);R(this,"canGoBack",()=>F(this,vi));R(this,"goBack",()=>{let o=Array.from(this.isolatedCanvasNodes());o.pop();let r=o.pop();r&&this.select(r.id,{keepHistory:!1})});let y=this.getFirstPageNodeAccordingToUI();this._activeId=y.id,Bu(y),dt(y)?ee(this,Yn,y.id):G(y)?ee(this,qn,y.id):It(y)&&ee(this,Qn,y.id);let v=this.getScopeNodes();ee(this,Kn,v.indexOf(y)),C(y.loaded,"Scope must be fully loaded"),d.onScopeChange({scope:y.loaded,hasCanvasPageNodes:this.hasCanvasPageNodes(),hasWebPageNodes:this.hasWebPageNodes()}),this.modulesStore.setActiveScope(this._activeId)}get activeId(){return this._activeId}get active(){let o=this.getScopeNode(this._activeId);return C(o.isLoaded(),"Scope must be fully loaded"),o}get rootNode(){return this.treeStore.tree.root}get checkingActivePage(){return this.isCheckingActivePage}documentDidLoad(){this.isCheckingActivePage=!1}get scopeType(){return Fp(this.active)}getScopeNode(o){let r=this.treeStore.tree.get(o);return C(r instanceof Hu,"Node, ",o,"is not a ScopeNode"),r}getScopeNodes(){return this.rootNode.children.filter(zr)}getCanvasPageNodes(){return this.rootNode.children.filter(dt)}getDesignPageNodes(){return this.rootNode.children.filter(It)}getKitPageNodes(){let o=[];for(let r of this.rootNode.children)G(r)&&r.kitPage&&o.push(r);return o}getSmartComponentNodes(){return this.rootNode.children.filter(ne)}getLayoutTemplateNodes(){return this.rootNode.children.filter(Ee)}getWebPageNodes(){return this.rootNode.children.filter(o=>G(o,!0)&&!o.kitPage)}getWebPageNodesWithoutCollection(){return this.rootNode.children.filter(o=>G(o,!0)&&!o.dataIdentifier&&!o.kitPage)}getWebPageNodesWithCollection(o=!1){let r=this.rootNode.children.filter(i=>!!(G(i)&&i.dataIdentifier));return o?aD(this.treeStore.tree,r):r}hasPages(){let o=!1,r=!1,i=!1,n=!1,a=!1;for(let l of this.rootNode.children)if(dt(l)&&(i=!0),It(l)&&(n=!0),G(l)&&(l.kitPage?a=!0:l.dataIdentifier?r=!0:o=!0),o&&r&&i&&n&&a)break;return{hasSitesPages:o,hasCMSPages:r,hasCanvasPages:i,hasDesignPages:n,hasKitPages:a}}hasCanvasPageNodes(){return this.rootNode.children.some(dt)}hasWebPageNodes(){return this.rootNode.children.some(G)}getRootScopeNodes(){return this.rootNode.children.filter(vh)}getFirstPageNodeAccordingToUI(o=this.treeStore.tree){let{children:r,homePageNodeId:i}=o.root,n=sD(r,i);if(Oz(n)){let a=lD(r);if(a)return a}return n}getFirstWebPageNode(){try{let o=this.getFirstPageNodeAccordingToUI();if(G(o))return o}catch{}}changeActive(o,r,i){if(this._activeId){let s=o.get(this._activeId),c=G(s)&&s.abTestingParentId?s.abTestingParentId:this._activeId;F(this,ja).set(c,{zoom:this.canvasStore.zoom,offset:this.canvasStore.offset}),F(this,Ua).set(this._activeId,this.selection.ids),ne(s)&&Ct("component_canvas_exit",{componentId:this._activeId})}if(ee(this,_a,this._activeId),ee(this,Kn,i),this._activeId=r.id,Bu(r),this.codeGenerationStore.changeScope(),this.modulesStore.changeScope(r),It(r))this.rootScopeType="DesignPage",ee(this,Qn,r.id),ee(this,Bo,[]),ee(this,vi,!1),ee(this,en,!1);else if(dt(r))this.rootScopeType="CanvasPage",ee(this,Yn,r.id),ee(this,Bo,[]),ee(this,vi,!1),ee(this,en,!1);else if(G(r))this.rootScopeType="WebPage",ee(this,qn,r.id),ee(this,Bo,[]),ee(this,vi,!1),ee(this,en,Tt(r));else if(ne(r)||Ee(r)||vo(r)){let s=F(this,Bo).indexOf(r.id);s===-1?F(this,Bo).push(r.id):F(this,Bo).splice(s+1),ee(this,vi,F(this,Bo).length>0),ee(this,en,!1),FV({componentId:r.id}),ne(r)&&this.chromeStore.mainView===0&&this.modalStore.displayComponentIsolationModal({source:"automatic"})}let n=F(this,ja).get(G(r)&&r.abTestingParentId?r.abTestingParentId:r.id);n?this.canvasStore.updateCanvas(n.offset,n.zoom):this.canvasStore.zoomAfterScopeSwitch(o,r);let a=F(this,Ua).get(r.id);a?this.selection.set(a):this.selection.clear(),this.overlayStore.hideAll(),this.insertSidebarStore.onScopeChange({scope:r,hasWebPageNodes:this.hasWebPageNodes(),hasCanvasPageNodes:this.hasCanvasPageNodes()}),this.treeStore.setHighlight(null);let l=Fp(r);this.chromeStore.onChangeScopeType(l),this.contentManagementStore.onChangeScopeType(l),this.aiGenerationStore.setCurrentSessionId(l==="DesignPage"?r.id:void 0)}select(o,{keepHistory:r,activateContentPanel:i,collectionItemId:n}){this.loadingActiveId=o,this.scopeSwitchStart=performance.now();let a=()=>{if(this.scopeSwitchPending=!1,this.loadingActiveId!==o||this._activeId===o)return;let c=this.getScopeNodes().findIndex(y=>y.id===o);C(c!==-1,"Tree must contain scope node");let u=this.treeStore.tree.latestTree().getNode(o);C(zr(u),"Tree must contain scope node",o);let f;if(u.isLoaded())f=u.loaded;else if(!this.treeStore.tree.getService("loader"))fD.reportError(new ReferenceError("Loader service is not available in the tree but scope is not loaded"),{message:"Scope must be fully loaded"},{shallowScopes:"true"}),f=u;else throw new TypeError("Scope must be fully loaded");r||ee(this,Bo,[]),k(n)&&G(u)&&this.setSelectedCollectionItemForWebPage(u.id,n),i&&(this.chromeStore.contentPanelTab=i),this.changeActive(this.treeStore.tree,f,c)},l=this.treeStore.tree.getService("loader");if(l&&!l.hasLoadedScope(o)){this.scopeSwitchPending=!0,l.prioritizeLoadingScope(o,()=>this.scheduler.processWhenReady(a));return}a()}selectByNode(o){let r=this.treeStore.tree.get(o);if(r===null)return;let i=this.treeStore.tree.getScopeNodeFor(r);i!==null&&this.select(i.id,{keepHistory:!1})}selectPreviousActiveScope(){let o=this.treeStore.tree.get(F(this,_a));this.select(o?.id??this.getFirstPageNodeAccordingToUI().id,{keepHistory:!1})}findNextActiveScope(o=this.treeStore.tree){let r=o.root,i=r.children.filter(zr);C(r.children.some(vh),"validateActiveScope: Tree must contain at least one Canvas Page or Web Page");let n=i.findIndex(a=>a.id===this._activeId);return n===-1&&(n=this.findNextAvailablePageIndex(i,F(this,Kn))),[i[n],n]}validateActiveScope(o=this.treeStore.tree,r=!1){let[i,n]=this.findNextActiveScope(o);C(i,"ScopeNode must be defined"),r||C(i.isLoaded(),"Scope must be fully parsed"),ee(this,Kn,n);let a=i;return i.id!==this._activeId&&(this.scopeSwitchStart=performance.now(),this.scopeSwitchPending=!1,this.changeActive(o,a,n)),a}findNextAvailablePageIndex(o,r){let i=[],n=[];for(let c=0;c<o.length;c++){let d=o[c];G(d)?n.push(c):dt(d)&&i.push(c)}let a=this.rootScopeType==="WebPage",l=a?n:i,s=a?i:n;return Mz(l.length>0?l:s,r)}renameScope(o,r){this.getScopeNode(o).set({name:r})}getActiveScopeNodeForReset(o=this.treeStore.tree,r=null){if(r){let n=o.getScopeNodeFor(o.get(r));if(cD(n)&&n?.isValid())return n}let i=this.getFirstPageNodeAccordingToUI(o);if(G(i)&&i.isValid()&&i.loaded||(dt(i)||It(i))&&i.loaded)return i.loaded;fD.warn("getActiveScopeNodeForReset: falling back to scanning for a useful scope to make active");for(let n of o.root.children)if(dt(n)&&n.isValid()&&n.loaded||G(n)&&n.isValid()&&n.loaded)return n.loaded;for(let n of o.root.children)if(ne(n)&&n.isValid()&&n.loaded)return n.loaded;throw Error("Document does not have any scopes that can be set to active.")}resetActiveScope(o=this.treeStore.tree,r=void 0){let i=this.getActiveScopeNodeForReset(o,r);if(i.id===this._activeId)return;this._activeId="",ee(this,Yn,""),ee(this,Qn,""),ee(this,qn,""),ee(this,_a,""),F(this,ja).clear(),F(this,Ua).clear(),C(i.isLoaded(),"Scope must be fully parsed");let n=o.root.children.indexOf(i);this.scopeSwitchStart=performance.now(),this.scopeSwitchPending=!1,this.changeActive(o,i,n)}movePage(o,r){let i=this.getScopeNode(o),n=this.getAllPageNodesOfScope(i),a=n[r];C(a,`Trying to move a page node to an invalid index: ${r}, total: ${n.length} page nodes.`);let l=this.rootNode.children.findIndex(s=>s.id===a.id);C(i.parentid,"Scope node has no parentid"),C(l!==-1,"Cant find scope in root node"),this.treeStore.tree.moveNode(i,i.parentid,l)}getAllPageNodesOfScope(o){return It(o)?this.getDesignPageNodes():dt(o)?this.getCanvasPageNodes():G(o)&&o.kitPage?this.getKitPageNodes():(C(!o,"Scope is not movable"),ia())}getParentId(o,r,i){let n=this.rootNode.id;if(o instanceof Hu||Ri(o))return n;let a=i?this.getScopeNode(i):this.active;return Di(a)&&C(tc(o),"ContentManagementNode only accepts content nodes"),r===n?a.id:r??a.id}insertNode(o,r,i,n,a){r=this.getParentId(o,r,a),rt(o)&&mD({codeGenerationStore:this.codeGenerationStore,treeStore:this.treeStore},Qe(o)?"framer/useShowRelativeOverlay":"framer/useShowOverlay",r,o),this.treeStore.tree.insertNode(o,r,i,n)}insertNodes(o){for(let r of o)this.insertNode(r,r.parentid)}moveNode(o,r,i,n,a){r=this.getParentId(o,r,a),this.treeStore.tree.moveNode(o,r,i,n)}removeNode(o){this.treeStore.tree.removeNode(o),o.id===this._activeId&&this.validateActiveScope(this.treeStore.tree,!0)}setSelectedCollectionItemForWebPage(o,r){if(this.scopeIdToSelectedCollectionItem.get(o)===r)return;let n=new Map(this.scopeIdToSelectedCollectionItem);n.set(o,r),this.scopeIdToSelectedCollectionItem=n}getSelectedCollectionItemForScope(o){if(G(o))return this.scopeIdToSelectedCollectionItem.get(o.id)}getMostRecentPage(){switch(this.rootScopeType){case"CanvasPage":{let o=this.treeStore.tree.get(F(this,Yn));if(dt(o))return o;break}case"DesignPage":{let o=this.treeStore.tree.get(F(this,Qn));if(It(o))return o;break}case"WebPage":{let o=this.treeStore.tree.get(F(this,qn));if(o&&zr(o)&&G(o))return o;break}}return this.getFirstPageNodeAccordingToUI()}getComponentHistory(){if(F(this,Bo).length===0)return[];let o=this.active;if(!(ne(o)||Ee(o)||vo(o)))return[];let r=[],i;for(let n of F(this,Bo)){let a=this.treeStore.tree.getNode(n);(ne(a)||Ee(a)||vo(a))&&a.isLoaded()&&(r.push(a),i=a)}return i===o?r:[o]}get onIsolatedCanvas(){return F(this,vi)}get onCollectionPage(){return F(this,en)}isolatedCanvasNodes(){let o=this.active,r;return vh(o)?r=[o]:r=[this.getMostRecentPage(),...this.getComponentHistory()],pn(F(this,Ja),r)?F(this,Ja):(ee(this,Ja,r),r)}getTopMostWebPageNode(){for(let o of this.isolatedCanvasNodes())if(G(o))return o}};Kn=new WeakMap,Yn=new WeakMap,qn=new WeakMap,Qn=new WeakMap,_a=new WeakMap,Bo=new WeakMap,vi=new WeakMap,en=new WeakMap,ja=new WeakMap,Ua=new WeakMap,Ja=new WeakMap;function Mz(e,t){for(let o of e)if(!(o<t))return o;return Math.max(...e)}function Oz(e){if(!G(e)||!e.isLoaded())return!1;for(let t of e.children)if(!Pe(t)||t.children.length>0)return!1;return!0}function gD(e){return Eo(e)&&e.layout==="stack"&&e.stackDirection==="vertical"}function yD(e){return gD(e.getPrimaryVariant())&&e.getReplicaVariants().every(gD)}function zz(e,t,o){if(!Array.from(t).some(a=>{let l=o.get(a);return bt(l)}))return;let i=o.get(e.parentid),n=e;for(;i;){if(t.has(i.getPrimaryId())){let a=o.get(i.getPrimaryId()),l=jv(o,a),s=n.getPrimaryId();if(bt(a)&&s===l?.id)return a}n=i,i=o.get(i.parentid)}}function Wz(e){return e}function Bz(e){let t=new Set;return Xb(e,o=>{o.providerId&&t.add(o.providerId)}),t}var CD=(e,t,o,r)=>(i,n,a,l=Wz,s=void 0)=>{if(U(i))return l(o.create(i));if(_t(i)){let c=l(r.createComputedValue(i,n,s));return Ly(i)?c:t.component.dedupe(a,c,zz(n,Bz(i),e.tree))}j(i)};function Hz(e){if(dt(e))return"screen";if(vo(e))return"vector";if(It(e))return"design";let{type:t}=ce(e.instanceIdentifier);return t}function SD(e,t,{treeStore:o,modulesStore:r,engineChanges:i,assetMap:n},a=new Set,l=`framer-${Nd(5)}`,s=!1){let c=Hz(t),d=new Hr(...a),u=new pi(c,r,d);u.addImport("react",{exportSpecifier:"*",importBinding:"React"});let f=new Sp(t.id,dt(t)?e.id:t.id,c),y=Fp(t);ro(y!=="ContentManagement"&&y!=="Analytics"&&y!=="LocalizationGlossary"&&y!=="Routes"&&y!=="CustomCode","Content management, Analytics, Localization glossary, Routes & Custom Code nodes cannot be code-generated");let v=new kT(d),b=new Vn(t,d),V=new Gn(n),L=new Hi(t,u,d,b,o,r,()=>{let Gt=u.addImport("framer",{exportSpecifier:"useRouter"});return v.component.dedupe("router",x.fn(Gt))}),A=new Zn(t,o,b,v.file,d,u,V),M=new _n(d,b,A,V,L),H=new wp(t,b,o,u,v,M,r,c),re=new Jr(v.file,v.component,u,b,H,L,M,r,c),le=new Cp(t,d,v,u,b,o),be=new Rp,se=new yp(v.component,t,e.id),Fe=CD(o,v,b,re),Q=new wT(t,b,o,re,Fe),_e=new Xd(t,e,l,Q),Xe=new bp(v.font),Z=new _d(e,o,b,d,u,V,L,Xe,M,{type:c}),Rt=new Set,lt=new kp(vv()),Kt=new Set,Do={dependencies:Kt,addDependency:Gt=>Kt.add(Gt)},Ho=Sn(t)&&!s?t.getReplicaVariants():[],Xr={};if(ne(t))for(let Gt of Ho)!mr(Gt)||wa(Gt.gesture)||(Xr[Gt.replicaInfo.inheritsFrom??Gt.replicaInfo.master]=!0);let Zr=new gp(o.tree,d),ct=new Hv(t,Xe,u,v.file,b,r,o),pe=new Ip(r,o.tree),Lo=new Np(t),Go=new Dp(u,o,r,Fe),vr=new hp(o,b,re),Kr=Ee(t)?te.children:void 0;return{type:"jsxContext",treeStore:o,modulesStore:r,engineChanges:i,assetMap:n,simulatedDOM:vr,variants:Ho,topLevelVariantsWithGestures:Xr,imports:u,errors:f,variables:b,fetches:M,assets:V,valueTransforms:re,elementIds:le,css:_e,renderFunctions:se,events:Z,links:L,fonts:Xe,metrics:lt,packages:Do,appearIds:Zr,bindings:d,declarations:v,preload:A,localizedValues:H,componentPresetIds:Rt,renderAsListNodes:new Map,repeaterInfo:new Map,renderConditions:new Map,nodesWithAnyGradientFill:new Map,customCursors:ct,cssVariableDefinitions:Q,formIds:new Set,hitTargets:Lo,createDeduplicatedDynamicValueBinding:Fe,trackingIds:be,vectorSets:Go,kitSectionsStructure:pe,overlayProps:new Map,llmSnapshot:s,scopeId:t.id,scopeType:y,moduleType:c,rootId:e.id,linkClassName:_e.addRule({display:"block"},t),layoutTemplateSlotBinding:Kr,nodeRendersWithMotion:new Lp,serializationId:l,acceptsLayoutTemplate:G(t)&&t.isLoaded()&&t.baseVariantId?yD(t):void 0}}function vD({ctx:e,ancestorInfo:t,jsxAttributes:o,usedVariableIds:r,dataRepeater:i,primaryVariantControlMap:n,shouldInlineQuery:a,variantId:l}){let s=[],c=o.subqueries,d=t.subqueries,u=tN(i,n,r,b=>{if(a){let V=d;for(;V;){if(b.providerId===V.repeaterNode.id){let L=ed(V.repeaterNode),[A,M]=oN(b.id,L);return{type:"Identifier",name:M,collection:A}}V=V.parent}}return C(e.variables,"VariableCollector is required"),s.push(b),{type:"LiteralValue",value:e.variables.create(b)}},b=>{let V=e.imports.addModuleImport(b);return C(V,"Can't import collection"),V});C(c,"Subqueries must exist");let f=c.getSubqueries(l);for(let[b,V]of f)u.select.push({type:"FunctionCall",functionName:"ARRAY",alias:b,arguments:[{type:"Select",...V}]});let y=c.getVariableDependencies(l);s.push(...y);let v=u;return a?(C(d,"Parent subqueries must exist"),d.addSubquery(l,i.getPrimaryId(),u),d.addVariableDependencies(l,s)):e.preload.addQuery(i,v,s),new K({query:v,pageSize:i.collectionPaginationPageSize})}function Gz(e,t){return E(e.subqueries)||t.isAnyVariantPaginated?!1:e.inRepeatedItem??!1}function TD(e,t,o,r,i){let n=r.inheritedControlMap?.get(e.id);C(n,"Primary variant control map must be defined.");let a=Gz(o,r),l=vD({ctx:t,ancestorInfo:o,jsxAttributes:r,usedVariableIds:i,dataRepeater:e,primaryVariantControlMap:n,shouldInlineQuery:a,variantId:"primary"}),s={};for(let c of t.variants){let d=Wn(c,e.id,t.treeStore.tree)??e;C(bt(d),"Node must be a data repeater");let u=vD({ctx:t,ancestorInfo:o,jsxAttributes:r,usedVariableIds:i,dataRepeater:d,primaryVariantControlMap:n,shouldInlineQuery:a,variantId:c.id});xr(l,u)||(s[c.id]=u)}return a?null:{props:l,overrides:Lt(s)?void 0:s}}function $z(e,t){let o=t.imports.addImport("framer",{exportSpecifier:"useQueryData"});if(gr(e)){let r=t.imports.addImport("framer",{exportSpecifier:"useLoadMorePaginatedQuery"}),i=m`paginatedQuery`;return m.joinLines(m`const { ${i}, paginationInfo, loadMore } = ${r}(query, pageSize, ${e.id})`,m`const data = ${x.fn(o,i)}`,m`return children(data, paginationInfo, loadMore)`)}return m.joinLines(m`const data = ${x.fn(o,m`query`)}`,m`return children(data)`)}function bD(e,t){return m`({ query, pageSize, children }) => {
        ${$z(e,t)}
    }`}function ID({renderAsListNodes:e},t){return t.parentid?e.has(t.parentid):!1}function ND(e,t,{isAnyVariantALink:o},r){let i=r?"motion.":"";return Gi(t)&&(Zt(t)||o)?`${i}a`:ID(e,t)?`${i}li`:$i(t)&&t.htmlTag&&Pa(e.scopeType)?`${i}${t.htmlTag}`:`${i}${Gc}`}function xD(e,t,{isAnyVariantAnEffect:o,isAnyVariantOptimizedAppearEffect:r},i){let n=[];o&&n.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),r&&n.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}));let a=t.treeStore.tree.get(i.lastRepeaterId);return Rr(a)&&gr(a)&&mi(e,a)&&n.push(t.imports.addImport("framer",{exportSpecifier:"withInfiniteScroll"})),t.scopeType==="SmartComponent"?t.imports.addImport("framer",{exportSpecifier:"SmartComponentScopedContainer",composeWithImports:n}):t.imports.addImport("framer",{exportSpecifier:"Container",composeWithImports:n})}function _z(e,t){if(!uv(t.treeStore.tree,e)||!!!O.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerImmutableVariables)return;let r=ce(e.codeComponentIdentifier);if(!Ge(r))return;let{importSpecifier:i,importBinding:n}=ui(r,t.moduleType,t.modulesStore);if(!i)return;let a=t.imports.addImport(i,{exportSpecifier:"*",importBinding:`${n}Info`});return[t.imports.addImport("framer",{exportSpecifier:"withMappedReactProps"}),a]}function jz(e,t,o,r){let i=[];Pe(e)&&t.scopeType==="CanvasPage"&&i.push(t.imports.addImport("framer",{exportSpecifier:"withGeneratedLayoutId"})),r.isAnyVariantColumnMasonryLayout&&i.push(t.imports.addImport("framer",{exportSpecifier:"withColumnMasonryLayout"}));let n=Uz(e,t,o);n&&i.push(n);let a=Yd(e,t);if(i.push(...a),n||a.length>0){let l=_z(e,t);l&&i.push(l)}return r.isAnyVariantAVariantAppearEffect&&i.push(t.imports.addImport("framer",{exportSpecifier:"withVariantAppearEffect"})),_(e)&&!e.isVectorInstance||(r.isAnyVariantATickerEffect&&i.unshift(t.imports.addImport("framer",{exportSpecifier:"withTickerFX"})),r.isAnyVariantAnEffect&&i.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),r.isAnyVariantOptimizedAppearEffect&&i.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}))),i}function Uz(e,t,o){let r=Kd(e,t);if(!r)return;let{importSpecifier:i,exportSpecifier:n}=r,a={scopeId:t.scopeId,nodeId:e.getPrimaryId(),override:t.imports.addImport(i,{exportSpecifier:n}),inComponentSlot:o.inComponentSlot?!0:void 0};return[t.imports.addImport("framer",{exportSpecifier:"withCodeBoundaryForOverrides"}),a]}function Jz(e,t){if(e.kind!=="localModuleExport")return;let{localId:o}=e,i=t.modulesStore.getPersistedModuleByLocalId(o)?.metadata.packageDependencies;Array.isArray(i)&&i.forEach(n=>{k(n)&&t.packages.addDependency(n)})}function VD(e,t){let o=qc(e,O);if(!o)return;let r=qr("prototype",o);return t.imports.addImport(`../${r}`,{exportSpecifier:"default",importBinding:"Prototype"})}function Xz(e){switch(e){case"BooleanShapeNode":case"CodeComponentNode":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FrameNode":case"OvalShapeNode":case"OverlayNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"RichTextNode":case"ShapeContainerNode":case"ShapeGroupNode":case"StarShapeNode":case"SVGNode":case"TextNode":{let t=e;return!0}case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BlockquoteStylePresetNode":case"BoxShadow":case"CanvasNode":case"CanvasPageNode":case"CanvasScopeNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"CollectionItemNode":case"CollectionNode":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ComponentPresetNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"CustomCodeScopeNode":case"CustomCodeNode":case"DateVariableEditTool":case"DesignPageNode":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"EnumVariableEditTool":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"ImageStylePresetNode":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"InlineCodeStylePresetNode":case"LayoutTemplateEntityTypeRootNode":case"LayoutTemplateNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkStylePresetNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"MoveTool":case"MutableNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PresetsListNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextVariableEditTool":case"RootNode":case"RotateTool":case"RouteNode":case"RouteLocaleNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"SmartComponentNode":case"StringVariableEditTool":case"StyledTextDraft":case"TableStylePresetNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextStylePresetNode":case"VectorSetEntityTypeRootNode":case"VectorSetNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"WebPageNode":case"ZoomSelectTool":case"ZoomTool":{let t=e;return!1}default:j(e)}}function PD(e,t,o,r){if(!Xz(e.__class))throw Error(`jsxTagNameForNode: ${e.__class} does not support serialization to JSX.`);let i=jz(e,t,o,r);switch(e.__class){case"SVGNode":case"ShapeContainerNode":case"BooleanShapeNode":case"OvalShapeNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"ShapeGroupNode":case"StarShapeNode":return t.imports.addImport("framer",{exportSpecifier:"SVG",composeWithImports:i});case"TextNode":return t.imports.addImport("framer",{exportSpecifier:"Text",composeWithImports:i});case"RichTextNode":return t.imports.addImport("framer",{exportSpecifier:"RichText",composeWithImports:i});case"FrameNode":{if(No(e))return t.imports.addImport("framer",{exportSpecifier:"FormContainer",composeWithImports:i});if(Xt(e)||r.isAnyVariantAnImage)return t.imports.addImport("framer",{exportSpecifier:"Image",composeWithImports:i});let n=t.nodeRendersWithMotion.get(e);C(!E(n),"Node must have had `rendersWithMotion` computed for it.");let a=ND(t,e,r,n);return n?t.imports.addImport("framer-motion",{exportSpecifier:a,composeWithImports:i}):new x(a)}case"CodeComponentNode":{if(C(To(e),"Nodes with a ClassDiscriminator of CodeComponentNode must be a Code Component"),sw(e))return t.imports.addImport("framer",{exportSpecifier:lw(e)});if(Ei(e)||r.identifiers&&r.identifiers.size>1)return t.imports.addImport("framer",{exportSpecifier:"Instance",composeWithImports:i});let n=ce(e.codeComponentIdentifier);if(!Ge(n)){let d=ey(e.codeComponentIdentifier);return C(d,"A package must have module information to be included in code-generation."),t.packages.addDependency(d.packageName),t.imports.addImport(d.moduleURL,{exportSpecifier:d.exportIdentifier,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"withMeasuredSize"})]})}C(Ge(n),"A code component that is not a package must be a module.");let a=t.llmSnapshot&&_(e)&&e.isVectorInstance?"Icon":void 0,{importSpecifier:l,exportSpecifier:s,importBinding:c}=ui(n,t.moduleType,t.modulesStore,void 0,a);return C(l,"A module must have an import specifier."),Jz(n,t),t.fonts.addFontReference({componentIdentifier:e.codeComponentIdentifier,fontReference:t.imports.addImport(l,{exportSpecifier:s,importBinding:c,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"getFonts"})]})}),t.imports.addImport(l,{exportSpecifier:s,importBinding:c,composeWithImports:i})}case"OverlayNode":return t.imports.addImport("framer",{exportSpecifier:"ResetOuterLinkContext"});case"FormBooleanInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormBooleanInput",composeWithImports:i});case"FormPlainTextInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormPlainTextInput",composeWithImports:i});case"FormSelectNode":return t.imports.addImport("framer",{exportSpecifier:"FormSelect",composeWithImports:i});default:j(e.__class)}}function wD(e,t){if(Tt(t)){let o=e.dataForIdentifier(t.dataIdentifier);return C(o,"A Data Repeater must have an evaluated data entity in the sandbox."),{id:t.id,annotations:o.annotations}}if(As(t))return{id:t.id,annotations:void 0};j(t,"A data repeater must have either an identifier or array variable")}function Zz(e,t){let o=[];for(let[r,i]of e){if(wu(r))continue;let n=t?.get(r);if(!n)continue;let a=Fr(n.type);Bt(a)&&o.push(m`${i} ??= ${a}`)}return o}function Kz(e,t,o,r){if(Tt(e)){let i=o?.framerRecordIdKey;return i?t.variables.create(Ot(i,e.id)):r}return t.bindings.create("id")}function Yz(e,t){if(Tt(e))return t.bindings.createWithNode("collection",e);if(As(e))return t.variables.create(e.dataRepeaterArray);j(e,"parent should be a collection or array repeater")}function qz(e,t,o,r,i){let n={};for(let[a,l]of o)wu(a)||(n[a]=l);if(Tt(e)){C(r,"Subqueries must exist");for(let a of r.childRepeaterIds){let l=i.treeStore.tree.get(a);C(l,"Repeater node must exist");let s=i.bindings.createWithNode("collection",l);n[a]=s}}else n[fi]=t;return n}function kD(e,t,o,r,i){let n=Kz(e,r,t,i),a=Yz(e,r),l=r.variables.getBindings(e.id),s=qz(e,n,l,o.subqueries,r),c=o.inheritedControlMap?.get(e.id),d=Ul(e);return{args:m`${s}, ${i}`,variableFallbackList:Zz(l,c),data:a,key:d?m`${n} ?? ${i}`:n}}var Qz=qe("jsxForNode");async function eW(e,t,o,r){let i=AI(t.treeStore.tree,e,O);for(let n in i){if(n==="children")continue;let a=[],l=i[n];if(l){for(let s=0;s<l.length;s++){let c=l[s];if(!c)continue;let d=await Ap(c.node,e,t,{...r,inComponentSlot:!0});d&&d.length>0&&a.push(d)}o.props[n]=a}}}function tW(e,t,o){if(We(e))return me(ir(t.imports.addImport("framer-motion",{exportSpecifier:"motion.div"}),t,o));if(_(e)&&e.codeComponentIdentifier==="framer/Prototype"){let r=VD(e,t);if(r)return me(ot.tag(r,void 0))}return""}function oW(e,t,o){if(bt(t)){let r=wD(O,t);return o.repeaterInfo.set(t.id,r),t.id}return e.lastRepeaterId}function rW(e,t,o){return bt(t)?!1:!!(Sa(o.treeStore.tree,t)||e.inRepeatedItem)}function iW(e,t,o,{itemsOrderOverrides:r,hiddenInVariants:i,inheritedControlMap:n,inCodeOverride:a,subqueries:l,kitSectionId:s,isAnyVariantColumnMasonryLayout:c}){return{...e,lastRepeaterId:oW(e,t,o),inRepeatedItem:rW(e,t,o),subqueries:l,itemsOrderOverrides:r,hiddenInVariants:i,inheritedControlMap:n,inCodeOverride:a,isColumnMasonryLayout:c,kitSectionId:e.kitSectionId??s,inComponentSlot:e.inComponentSlot||_(t)&&t.codeComponentIdentifier!=="framer/Prototype"}}function nW(e,t,o,r,i){let n=[],l=r.treeStore.tree.getPresetsListNode()?.getComponentPresets();if(De(e)&&U(e.htmlContent)&&l&&l.length>0){let f=r.imports.addImport(`../${dw}`,{exportSpecifier:"*",importBinding:"componentPresets"}),y={},v=e.getComponentPresets();for(let[b,V]of v)r.componentPresetIds.add(V),y[b]=m`${f}.props[${V}]`;n.push(b=>ot.tag(r.imports.addImport("framer",{exportSpecifier:"ComponentPresetsProvider"}),new K({presets:y}),b))}_(e)&&tr(e)&&n.push(f=>ir(xD(e,r,o,i),r,o.propsForContainer,f)),_(e)&&!e.isVectorInstance&&n.push(f=>ir(r.imports.addImport("framer",{exportSpecifier:"ComponentViewportProvider"}),r,o.propsForComponentViewport,f));let s=r.links.getUnresolvedLinksForNode(e);if(s){let{unresolvedLinks:f,binding:y}=s;if(Bt(f)||fy(f)){let v=r.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),b=new K({links:f});n.push(V=>ir(v,r,{props:b},m`(${y}) => (${V})`))}}if(o.isAnyVariantALink&&n.push(f=>ir(r.imports.addImport("framer",{exportSpecifier:"Link"}),r,o.propsForLink,f)),bt(e)&&(Ai(e)||wr(e))&&DD(e,r,i,o,n),o.isAnyVariantATransitionOverride){let f=r.imports.addImport("framer-motion",{exportSpecifier:"MotionConfigContext"}),y=r.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),v=r.declarations.file.dedupe("Transition",new x(at.lines(m`({value, children}) => {`,m`const config = ${y}.useContext(${f})`,m`const transition = value ?? config.transition`,m`const contextValue = ${y}.useMemo(() => ({ ...config, transition }), [JSON.stringify(transition)])`,m`return <${f}.Provider value={contextValue}>{children}</${f}.Provider>`,m`}`)));n.push(b=>ir(v,r,o.propsForTransition,b))}let c=r.events.overlayTriggerOverlayBindings.get(e.id);if(c&&c.size>0){n.push(L=>ot`<>${L}</>`);let f=m`visible`,y=m`setVisible`,v={visible:m`enabled && ${f}`,[jd.show]:m`() => ${x.fn(y,m`true`)}`,[jd.hide]:m`() => ${x.fn(y,m`false`)}`,[jd.toggle]:m`() => ${x.fn(y,m`!${f}`)}`},b=r.imports.addImport("framer",{exportSpecifier:"useOverlayState"}),V=r.declarations.file.dedupe("Overlay",new x(at.lines(m`({ children, blockDocumentScrolling, dismissWithEsc, enabled = true }) => {`,m`const ${[f,y]} = ${x.fn(b,m`{ blockDocumentScrolling, dismissWithEsc: enabled && dismissWithEsc }`)}`,m`return children(${v})`,m`}`)));for(let[L,A]of c){let M=r.treeStore.tree.get(L);if(!M)continue;let H=r.overlayProps.get(L),re=r.renderConditions.get(L),le=We(M),be=new K({enabled:bo(re)?re:void 0,blockDocumentScrolling:le?H?.props?.blockDocumentScrolling:!1,dismissWithEsc:le?H?.props?.dismissWithEsc:!1});n.push(se=>ir(V,r,{props:be,overrides:le?H?.overrides:void 0},m`${A} => (${se})`))}}let d=r.events.overlayState.get(e.id);if(d&&We(e)){let f=t?r.elementIds.id(t):m`undefined`;n.push(L=>ot.tag(r.imports.addImport("framer",{exportSpecifier:"InjectSelectionStyle"}),new K({triggerId:f}),L));let y=r.imports.addImport("react-dom",{exportSpecifier:"*",importBinding:"ReactDOM"}),v=`#${CC}`,b=`#${yC}`,V=r.declarations.file.dedupe("getContainer",m`() => {${m.joinLines(m`return document.querySelector(${v}) ?? document.querySelector(${b}) ?? document.body`)}}`);n.push(L=>ot`<>{${y}.createPortal(${L}, ${x.fn(V)})}</>`)}t&&d&&Qe(e)&&o.isAnyVariantFloating&&n.push(f=>ir(r.imports.addImport("framer",{exportSpecifier:"Floating"}),r,o.propsForFloating,f)),d&&rt(e)&&n.push(f=>ot.tag(r.imports.addImport("framer-motion",{exportSpecifier:"AnimatePresence"}),void 0,m`${d}.visible && (${f})`)),o.renderCondition!==!0&&n.push(f=>m`${o.renderCondition} && (${f})`);let u=r.fetches.getResultBinding(e);if(o.propsForFetcher&&u&&n.push(f=>ir(r.imports.addImport("framer",{exportSpecifier:"Fetcher"}),r,o.propsForFetcher,m`${u} => (${f})`)),ec(e)&&o.propsForTickerItem&&n.push(f=>ir(r.imports.addImport("framer",{exportSpecifier:"TickerItem"}),r,o.propsForTickerItem,f)),bt(t)&&Sa(r.treeStore.tree,e)){let f=r.repeaterInfo.get(t.id);if(C(f,"jsxForNode: `repeaterInfo` must exist when transforming the child of a repeater."),Tt(t)){let M=r.links.getPathVariablesForRepeaterInfo(f);M&&n.push(H=>ot.tag(r.imports.addImport("framer",{exportSpecifier:"PathVariablesContext.Provider"}),new K({value:M}),H))}let y=r.bindings.createWithNode("index",t),{data:v,args:b,variableFallbackList:V,key:L}=kD(t,f.annotations,o,r,y),A=r.variables.getBinding(t.id,HC);n.push(M=>m`${v}?.map((${b}) => {${m.joinLines(...V,A&&m`const ${A} = ${y} + 1`,...r.declarations.component.list(t),m`return (${ot.tag(r.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),new K({key:L,id:Ke`${t.id}-${L}`}),M)})`)}})`)}return n}function aW(e,t,o){let i=tr(e)?t.propsForContainer:t.propsForElement,n=o.events.overlayTriggerOverlayBindings.get(e.id);if(n&&n.size>0){let s=i.props;s||(s=new K),s.id=s.id??o.elementIds.id(e)}let l=o.cssVariableDefinitions.getDefinitionsForNode(e)??{};if(!Lt(l)){let s=i.props;s||(s=new K),s.style?Object.assign(s.style,l):s.style=l}}async function Ap(e,t,o,r){try{if(Dr(e)){C(t&&o.layoutTemplateSlotBinding,"A SlotNode must be in a Layout Template and have a parent.");let s=Pk(e,t,o);return ot`${m.joinLines(ot.children(o.layoutTemplateSlotBinding),ot.tag(m`div`,new K({className:s})))}`}await cW(e,o),o.metrics.count("nodes");let i=Vk(e,t,o,r);if(We(e)&&o.overlayProps.set(e.id,i?.propsForOverlay),!i)return ot``;_(e)&&await eW(e,o,i.propsForElement,r);let n=tW(e,o,i.propsForElement),a=iW(r,e,o,i);for(let s of dW(e,o)){if(rt(s)&&!o.events.overlayState.has(s.id))continue;let c=await Ap(s,e,o,a);c&&(n+=me(ot.children(c)))}aW(e,i,o);let l=await uW(e,o,r,a,i,ot.fromTrustedString(n));return ot.applyTransforms(l,nW(e,t,i,o,r))}catch(i){return Qz.reportError(i,{node:e.id,primaryVariant:o.rootId}),o.errors.record(e,i),ot``}}async function RD(e,t,o,r,i=`framer-${Nd(5)}`,n=!1){let{combinedVariableControlMap:a}=t.combineVariableControlMap(o.treeStore.tree,void 0,O,O.activeBundleHash),l={inheritedControlMap:a},s=SD(e,t,o,r,i,n);return{ctx:s,jsx:await Ap(e,null,s,l)}}async function Ep(e,t,{modulesStore:o,errors:r,treeStore:i,rootId:n}){let a=i.tree.get(n),l=i.tree.getScopeNodeFor(a);if(HS(i.tree,l,e))return;for(let c of t)if(_o(c)&&c.type==="codeFile"){let u=O.componentForIdentifier(c.value),f=O.errorForIdentifier(c.value);u?f&&r.record(e,"CodeError",c.value):r.record(e,"MissingModule",c.value);return}let s=sW(t);s.length>0&&await o.preloadExternalModules(s),await Jd(O,t.map(c=>c.value),o)}function sW(e){let t=[];for(let o of e)Vi(o)&&t.push(o);return t}function lW(e,t){if(!Ge(e.codeComponentIdentifier))return;let o=new Set([e.codeComponentIdentifier]);for(let r of t.variants){let i=Wn(r,e.id,t.treeStore.tree);i&&(C(_(i),"Expected a CodeComponentNode in the variant",i?.id),Ge(i.codeComponentIdentifier)&&o.add(i.codeComponentIdentifier))}return o}async function cW(e,t){if(_(e)){if(e.codeComponentIdentifier==="framer/Prototype"){let i=qc(e,O);if(!i)return;await Ep(e,[dn("prototype",i,"default")],t)}let o=lW(e,t);if(!o)return;let r=[];for(let i of o)r.push(ce(i));await Ep(e,r,t)}if(AS(e)){if(!Ge(e.codeOverrideIdentifier))return;await Ep(e,[ce(e.codeOverrideIdentifier)],t)}Tt(e)&&await Ep(e,[ce(e.dataIdentifier)],t)}function dW(e,t){return!yt(e)||Ae(e)||De(e)?ia():_(e)&&e.codeComponentIdentifier!=="framer/Prototype"?MI(t.treeStore.tree,e,O).map(o=>o.node):e.children}function DD(e,t,o,r,i){if(!Ul(e)){if(Tt(e)){let n=t.variables.getBindings(e.id),a=new Set(n.keys()),l=TD(e,t,o,r,a);if(l){let s=t.declarations.file.dedupe("QueryData",bD(e,t)),c=t.bindings.createWithNode("collection",e),d=t.bindings.createWithNode("paginationInfo",e),u=t.bindings.createWithNode("loadMore",e);i.push(f=>ot.tag(t.imports.addImport("framer",{exportSpecifier:"ChildrenCanSuspend"}),void 0,ir(s,t,l,m`(${c}, ${d}, ${u}) => (<>${f}</>)`)))}return}j(e,"All data repeater types should be handled")}}function pW(e,t,o,r){let i=[];return No(e)&&i.push(n=>m`(${Yf}) => (<>${n}</>)`),bt(e)&&!Ai(e)&&!wr(e)&&DD(e,t,o,r,i),i}async function uW(e,t,o,r,i,n){let a=ir(PD(e,t,o,i),t,We(e)?void 0:i.propsForElement,ot.applyTransforms(n,pW(e,t,o,i)));if((_(e)||De(e))&&rv(e,"framer/useShowRelativeOverlay")){let l=me(a);for(let s of e.children){if(!rt(s)||!t.events.overlayState.has(s.id))continue;let c=await Ap(s,e,t,r);c&&(l+=me(ot.children(c)))}return ot.fromTrustedString(l)}return a}function ir(e,t,o,r){if(!o)return ot.tag(e,void 0,r);let{props:i=new K,overrides:n}=o,a=[];if(n)switch(t.scopeType){case"SmartComponent":K.addSpreadAtEnd(i,x.fn(m`addPropertyOverrides`,n,m`baseVariant`,m`gestureVariant`));break;case"WebPage":case"LayoutTemplate":a.push(l=>ot.tag(t.imports.addImport("framer",{exportSpecifier:"PropertyOverrides"}),new K({breakpoint:m`baseVariant`,overrides:n}),l));break;default:break}return ot.applyTransforms(ot.tag(e,i,r),a)}var ea={};su(ea,{$brand:()=>Fm,$input:()=>Ox,$output:()=>Mx,NEVER:()=>rN,TimePrecision:()=>Hx,ZodAny:()=>BD,ZodArray:()=>_D,ZodBase64:()=>qh,ZodBase64URL:()=>Qh,ZodBigInt:()=>Sl,ZodBigIntFormat:()=>og,ZodBoolean:()=>Cl,ZodCIDRv4:()=>Kh,ZodCIDRv6:()=>Yh,ZodCUID:()=>$h,ZodCUID2:()=>_h,ZodCatch:()=>cL,ZodCodec:()=>ug,ZodCustom:()=>Zp,ZodCustomStringFormat:()=>gl,ZodDate:()=>Up,ZodDefault:()=>rL,ZodDiscriminatedUnion:()=>jD,ZodE164:()=>eg,ZodEmail:()=>Bh,ZodEmoji:()=>Hh,ZodEnum:()=>fl,ZodError:()=>fW,ZodFile:()=>eL,ZodFirstPartyTypeKind:()=>mg,ZodFunction:()=>CL,ZodGUID:()=>Hp,ZodIPv4:()=>Xh,ZodIPv6:()=>Zh,ZodISODate:()=>Op,ZodISODateTime:()=>Mp,ZodISODuration:()=>Wp,ZodISOTime:()=>zp,ZodIntersection:()=>UD,ZodIssueCode:()=>xB,ZodJWT:()=>tg,ZodKSUID:()=>Jh,ZodLazy:()=>hL,ZodLiteral:()=>QD,ZodMap:()=>YD,ZodNaN:()=>pL,ZodNanoID:()=>Gh,ZodNever:()=>GD,ZodNonOptional:()=>dg,ZodNull:()=>zD,ZodNullable:()=>oL,ZodNumber:()=>yl,ZodNumberFormat:()=>Za,ZodObject:()=>Xp,ZodOptional:()=>cg,ZodPipe:()=>pg,ZodPrefault:()=>nL,ZodPromise:()=>yL,ZodReadonly:()=>uL,ZodRealError:()=>Ro,ZodRecord:()=>ag,ZodSet:()=>qD,ZodString:()=>hl,ZodStringFormat:()=>st,ZodSuccess:()=>lL,ZodSymbol:()=>MD,ZodTemplateLiteral:()=>fL,ZodTransform:()=>tL,ZodTuple:()=>XD,ZodType:()=>Te,ZodULID:()=>jh,ZodURL:()=>jp,ZodUUID:()=>Ti,ZodUndefined:()=>OD,ZodUnion:()=>ig,ZodUnknown:()=>HD,ZodVoid:()=>$D,ZodXID:()=>Uh,_ZodString:()=>Wh,_default:()=>iL,_function:()=>CB,any:()=>qW,array:()=>Jp,base64:()=>AW,base64url:()=>MW,bigint:()=>JW,boolean:()=>AD,catch:()=>dL,check:()=>SB,cidrv4:()=>FW,cidrv6:()=>EW,clone:()=>Bs,codec:()=>hB,coerce:()=>fg,config:()=>ji,core:()=>Ui,cuid:()=>VW,cuid2:()=>PW,custom:()=>vB,date:()=>eB,decode:()=>Rh,decodeAsync:()=>Lh,discriminatedUnion:()=>nB,e164:()=>OW,email:()=>gW,emoji:()=>NW,encode:()=>kh,encodeAsync:()=>Dh,endsWith:()=>pd,enum:()=>sg,file:()=>pB,flattenError:()=>td,float32:()=>$W,float64:()=>_W,formatError:()=>od,function:()=>CB,getErrorMap:()=>PB,globalRegistry:()=>Ln,gt:()=>En,gte:()=>Qo,guid:()=>yW,hash:()=>GW,hex:()=>HW,hostname:()=>BW,httpUrl:()=>IW,includes:()=>cd,instanceof:()=>TB,int:()=>zh,int32:()=>jW,int64:()=>XW,intersection:()=>JD,ipv4:()=>DW,ipv6:()=>LW,iso:()=>Bp,json:()=>IB,jwt:()=>zW,keyof:()=>tB,ksuid:()=>RW,lazy:()=>gL,length:()=>$s,literal:()=>dB,locales:()=>Ax,looseObject:()=>iB,lowercase:()=>sd,lt:()=>Fn,lte:()=>jr,map:()=>sB,maxLength:()=>Gs,maxSize:()=>Hs,mime:()=>ud,minLength:()=>An,minSize:()=>Ra,multipleOf:()=>ka,nan:()=>fB,nanoid:()=>xW,nativeEnum:()=>cB,negative:()=>gV,never:()=>rg,nonnegative:()=>CV,nonoptional:()=>sL,nonpositive:()=>yV,normalize:()=>fd,null:()=>WD,nullable:()=>$p,nullish:()=>uB,number:()=>ED,object:()=>oB,optional:()=>Gp,overwrite:()=>md,parse:()=>xh,parseAsync:()=>Vh,partialRecord:()=>aB,pipe:()=>_p,positive:()=>hV,prefault:()=>aL,preprocess:()=>NB,prettifyError:()=>sN,promise:()=>yB,property:()=>SV,readonly:()=>mL,record:()=>KD,refine:()=>SL,regex:()=>ad,regexes:()=>Dn,registry:()=>zx,safeDecode:()=>Eh,safeDecodeAsync:()=>Mh,safeEncode:()=>Fh,safeEncodeAsync:()=>Ah,safeParse:()=>Ph,safeParseAsync:()=>wh,set:()=>lB,setErrorMap:()=>VB,size:()=>nd,startsWith:()=>dd,strictObject:()=>rB,string:()=>Oh,stringFormat:()=>WW,stringbool:()=>bB,success:()=>mB,superRefine:()=>vL,symbol:()=>KW,templateLiteral:()=>gB,toJSONSchema:()=>VV,toLowerCase:()=>gd,toUpperCase:()=>yd,transform:()=>lg,treeifyError:()=>aN,trim:()=>hd,tuple:()=>ZD,uint32:()=>UW,uint64:()=>ZW,ulid:()=>wW,undefined:()=>YW,union:()=>ng,unknown:()=>Xa,uppercase:()=>ld,url:()=>bW,util:()=>ke,uuid:()=>CW,uuidv4:()=>SW,uuidv6:()=>vW,uuidv7:()=>TW,void:()=>QW,xid:()=>kW});var Bp={};su(Bp,{ZodISODate:()=>Op,ZodISODateTime:()=>Mp,ZodISODuration:()=>Wp,ZodISOTime:()=>zp,date:()=>bh,datetime:()=>Th,duration:()=>Nh,time:()=>Ih});var Mp=J("ZodISODateTime",(e,t)=>{FN.init(e,t),st.init(e,t)});function Th(e){return Gx(Mp,e)}var Op=J("ZodISODate",(e,t)=>{EN.init(e,t),st.init(e,t)});function bh(e){return $x(Op,e)}var zp=J("ZodISOTime",(e,t)=>{AN.init(e,t),st.init(e,t)});function Ih(e){return _x(zp,e)}var Wp=J("ZodISODuration",(e,t)=>{MN.init(e,t),st.init(e,t)});function Nh(e){return jx(Wp,e)}var FD=(e,t)=>{nN.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:o=>od(e,o)},flatten:{value:o=>td(e,o)},addIssue:{value:o=>{e.issues.push(o),e.message=JSON.stringify(e.issues,Em,2)}},addIssues:{value:o=>{e.issues.push(...o),e.message=JSON.stringify(e.issues,Em,2)}},isEmpty:{get(){return e.issues.length===0}}})},fW=J("ZodError",FD),Ro=J("ZodError",FD,{Parent:Error});var xh=lN(Ro),Vh=cN(Ro),Ph=dN(Ro),wh=pN(Ro),kh=uN(Ro),Rh=mN(Ro),Dh=fN(Ro),Lh=hN(Ro),Fh=gN(Ro),Eh=yN(Ro),Ah=CN(Ro),Mh=SN(Ro);var Te=J("ZodType",(e,t)=>(Am.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...o)=>e.clone(ke.mergeDefs(t,{checks:[...t.checks??[],...o.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(o,r)=>Bs(e,o,r),e.brand=()=>e,e.register=(o,r)=>(o.add(e,r),e),e.parse=(o,r)=>xh(e,o,r,{callee:e.parse}),e.safeParse=(o,r)=>Ph(e,o,r),e.parseAsync=async(o,r)=>Vh(e,o,r,{callee:e.parseAsync}),e.safeParseAsync=async(o,r)=>wh(e,o,r),e.spa=e.safeParseAsync,e.encode=(o,r)=>kh(e,o,r),e.decode=(o,r)=>Rh(e,o,r),e.encodeAsync=async(o,r)=>Dh(e,o,r),e.decodeAsync=async(o,r)=>Lh(e,o,r),e.safeEncode=(o,r)=>Fh(e,o,r),e.safeDecode=(o,r)=>Eh(e,o,r),e.safeEncodeAsync=async(o,r)=>Ah(e,o,r),e.safeDecodeAsync=async(o,r)=>Mh(e,o,r),e.refine=(o,r)=>e.check(SL(o,r)),e.superRefine=o=>e.check(vL(o)),e.overwrite=o=>e.check(md(o)),e.optional=()=>Gp(e),e.nullable=()=>$p(e),e.nullish=()=>Gp($p(e)),e.nonoptional=o=>sL(e,o),e.array=()=>Jp(e),e.or=o=>ng([e,o]),e.and=o=>JD(e,o),e.transform=o=>_p(e,lg(o)),e.default=o=>iL(e,o),e.prefault=o=>aL(e,o),e.catch=o=>dL(e,o),e.pipe=o=>_p(e,o),e.readonly=()=>mL(e),e.describe=o=>{let r=e.clone();return Ln.add(r,{description:o}),r},Object.defineProperty(e,"description",{get(){return Ln.get(e)?.description},configurable:!0}),e.meta=(...o)=>{if(o.length===0)return Ln.get(e);let r=e.clone();return Ln.add(r,o[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Wh=J("_ZodString",(e,t)=>{Mm.init(e,t),Te.init(e,t);let o=e._zod.bag;e.format=o.format??null,e.minLength=o.minimum??null,e.maxLength=o.maximum??null,e.regex=(...r)=>e.check(ad(...r)),e.includes=(...r)=>e.check(cd(...r)),e.startsWith=(...r)=>e.check(dd(...r)),e.endsWith=(...r)=>e.check(pd(...r)),e.min=(...r)=>e.check(An(...r)),e.max=(...r)=>e.check(Gs(...r)),e.length=(...r)=>e.check($s(...r)),e.nonempty=(...r)=>e.check(An(1,...r)),e.lowercase=r=>e.check(sd(r)),e.uppercase=r=>e.check(ld(r)),e.trim=()=>e.check(hd()),e.normalize=(...r)=>e.check(fd(...r)),e.toLowerCase=()=>e.check(gd()),e.toUpperCase=()=>e.check(yd())}),hl=J("ZodString",(e,t)=>{Mm.init(e,t),Wh.init(e,t),e.email=o=>e.check(Om(Bh,o)),e.url=o=>e.check(id(jp,o)),e.jwt=o=>e.check(of(tg,o)),e.emoji=o=>e.check(Gm(Hh,o)),e.guid=o=>e.check(rd(Hp,o)),e.uuid=o=>e.check(zm(Ti,o)),e.uuidv4=o=>e.check(Wm(Ti,o)),e.uuidv6=o=>e.check(Bm(Ti,o)),e.uuidv7=o=>e.check(Hm(Ti,o)),e.nanoid=o=>e.check($m(Gh,o)),e.guid=o=>e.check(rd(Hp,o)),e.cuid=o=>e.check(_m($h,o)),e.cuid2=o=>e.check(jm(_h,o)),e.ulid=o=>e.check(Um(jh,o)),e.base64=o=>e.check(Qm(qh,o)),e.base64url=o=>e.check(ef(Qh,o)),e.xid=o=>e.check(Jm(Uh,o)),e.ksuid=o=>e.check(Xm(Jh,o)),e.ipv4=o=>e.check(Zm(Xh,o)),e.ipv6=o=>e.check(Km(Zh,o)),e.cidrv4=o=>e.check(Ym(Kh,o)),e.cidrv6=o=>e.check(qm(Yh,o)),e.e164=o=>e.check(tf(eg,o)),e.datetime=o=>e.check(Th(o)),e.date=o=>e.check(bh(o)),e.time=o=>e.check(Ih(o)),e.duration=o=>e.check(Nh(o))});function Oh(e){return Wx(hl,e)}var st=J("ZodStringFormat",(e,t)=>{TN.init(e,t),Wh.init(e,t)}),Bh=J("ZodEmail",(e,t)=>{NN.init(e,t),st.init(e,t)});function gW(e){return Om(Bh,e)}var Hp=J("ZodGUID",(e,t)=>{bN.init(e,t),st.init(e,t)});function yW(e){return rd(Hp,e)}var Ti=J("ZodUUID",(e,t)=>{IN.init(e,t),st.init(e,t)});function CW(e){return zm(Ti,e)}function SW(e){return Wm(Ti,e)}function vW(e){return Bm(Ti,e)}function TW(e){return Hm(Ti,e)}var jp=J("ZodURL",(e,t)=>{xN.init(e,t),st.init(e,t)});function bW(e){return id(jp,e)}function IW(e){return id(jp,{protocol:/^https?$/,hostname:Dn.domain,...ke.normalizeParams(e)})}var Hh=J("ZodEmoji",(e,t)=>{VN.init(e,t),st.init(e,t)});function NW(e){return Gm(Hh,e)}var Gh=J("ZodNanoID",(e,t)=>{PN.init(e,t),st.init(e,t)});function xW(e){return $m(Gh,e)}var $h=J("ZodCUID",(e,t)=>{wN.init(e,t),st.init(e,t)});function VW(e){return _m($h,e)}var _h=J("ZodCUID2",(e,t)=>{kN.init(e,t),st.init(e,t)});function PW(e){return jm(_h,e)}var jh=J("ZodULID",(e,t)=>{RN.init(e,t),st.init(e,t)});function wW(e){return Um(jh,e)}var Uh=J("ZodXID",(e,t)=>{DN.init(e,t),st.init(e,t)});function kW(e){return Jm(Uh,e)}var Jh=J("ZodKSUID",(e,t)=>{LN.init(e,t),st.init(e,t)});function RW(e){return Xm(Jh,e)}var Xh=J("ZodIPv4",(e,t)=>{ON.init(e,t),st.init(e,t)});function DW(e){return Zm(Xh,e)}var Zh=J("ZodIPv6",(e,t)=>{zN.init(e,t),st.init(e,t)});function LW(e){return Km(Zh,e)}var Kh=J("ZodCIDRv4",(e,t)=>{WN.init(e,t),st.init(e,t)});function FW(e){return Ym(Kh,e)}var Yh=J("ZodCIDRv6",(e,t)=>{BN.init(e,t),st.init(e,t)});function EW(e){return qm(Yh,e)}var qh=J("ZodBase64",(e,t)=>{HN.init(e,t),st.init(e,t)});function AW(e){return Qm(qh,e)}var Qh=J("ZodBase64URL",(e,t)=>{GN.init(e,t),st.init(e,t)});function MW(e){return ef(Qh,e)}var eg=J("ZodE164",(e,t)=>{$N.init(e,t),st.init(e,t)});function OW(e){return tf(eg,e)}var tg=J("ZodJWT",(e,t)=>{_N.init(e,t),st.init(e,t)});function zW(e){return of(tg,e)}var gl=J("ZodCustomStringFormat",(e,t)=>{jN.init(e,t),st.init(e,t)});function WW(e,t,o={}){return _s(gl,e,t,o)}function BW(e){return _s(gl,"hostname",Dn.hostname,e)}function HW(e){return _s(gl,"hex",Dn.hex,e)}function GW(e,t){let o=t?.enc??"hex",r=`${e}_${o}`,i=Dn[r];if(!i)throw new Error(`Unrecognized hash format: ${r}`);return _s(gl,r,i,t)}var yl=J("ZodNumber",(e,t)=>{UN.init(e,t),Te.init(e,t),e.gt=(r,i)=>e.check(En(r,i)),e.gte=(r,i)=>e.check(Qo(r,i)),e.min=(r,i)=>e.check(Qo(r,i)),e.lt=(r,i)=>e.check(Fn(r,i)),e.lte=(r,i)=>e.check(jr(r,i)),e.max=(r,i)=>e.check(jr(r,i)),e.int=r=>e.check(zh(r)),e.safe=r=>e.check(zh(r)),e.positive=r=>e.check(En(0,r)),e.nonnegative=r=>e.check(Qo(0,r)),e.negative=r=>e.check(Fn(0,r)),e.nonpositive=r=>e.check(jr(0,r)),e.multipleOf=(r,i)=>e.check(ka(r,i)),e.step=(r,i)=>e.check(ka(r,i)),e.finite=()=>e;let o=e._zod.bag;e.minValue=Math.max(o.minimum??Number.NEGATIVE_INFINITY,o.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(o.maximum??Number.POSITIVE_INFINITY,o.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(o.format??"").includes("int")||Number.isSafeInteger(o.multipleOf??.5),e.isFinite=!0,e.format=o.format??null});function ED(e){return Ux(yl,e)}var Za=J("ZodNumberFormat",(e,t)=>{JN.init(e,t),yl.init(e,t)});function zh(e){return Xx(Za,e)}function $W(e){return Zx(Za,e)}function _W(e){return Kx(Za,e)}function jW(e){return Yx(Za,e)}function UW(e){return qx(Za,e)}var Cl=J("ZodBoolean",(e,t)=>{XN.init(e,t),Te.init(e,t)});function AD(e){return Qx(Cl,e)}var Sl=J("ZodBigInt",(e,t)=>{ZN.init(e,t),Te.init(e,t),e.gte=(r,i)=>e.check(Qo(r,i)),e.min=(r,i)=>e.check(Qo(r,i)),e.gt=(r,i)=>e.check(En(r,i)),e.gte=(r,i)=>e.check(Qo(r,i)),e.min=(r,i)=>e.check(Qo(r,i)),e.lt=(r,i)=>e.check(Fn(r,i)),e.lte=(r,i)=>e.check(jr(r,i)),e.max=(r,i)=>e.check(jr(r,i)),e.positive=r=>e.check(En(BigInt(0),r)),e.negative=r=>e.check(Fn(BigInt(0),r)),e.nonpositive=r=>e.check(jr(BigInt(0),r)),e.nonnegative=r=>e.check(Qo(BigInt(0),r)),e.multipleOf=(r,i)=>e.check(ka(r,i));let o=e._zod.bag;e.minValue=o.minimum??null,e.maxValue=o.maximum??null,e.format=o.format??null});function JW(e){return tV(Sl,e)}var og=J("ZodBigIntFormat",(e,t)=>{KN.init(e,t),Sl.init(e,t)});function XW(e){return rV(og,e)}function ZW(e){return iV(og,e)}var MD=J("ZodSymbol",(e,t)=>{YN.init(e,t),Te.init(e,t)});function KW(e){return nV(MD,e)}var OD=J("ZodUndefined",(e,t)=>{qN.init(e,t),Te.init(e,t)});function YW(e){return aV(OD,e)}var zD=J("ZodNull",(e,t)=>{QN.init(e,t),Te.init(e,t)});function WD(e){return sV(zD,e)}var BD=J("ZodAny",(e,t)=>{ex.init(e,t),Te.init(e,t)});function qW(){return lV(BD)}var HD=J("ZodUnknown",(e,t)=>{tx.init(e,t),Te.init(e,t)});function Xa(){return cV(HD)}var GD=J("ZodNever",(e,t)=>{ox.init(e,t),Te.init(e,t)});function rg(e){return dV(GD,e)}var $D=J("ZodVoid",(e,t)=>{rx.init(e,t),Te.init(e,t)});function QW(e){return pV($D,e)}var Up=J("ZodDate",(e,t)=>{ix.init(e,t),Te.init(e,t),e.min=(r,i)=>e.check(Qo(r,i)),e.max=(r,i)=>e.check(jr(r,i));let o=e._zod.bag;e.minDate=o.minimum?new Date(o.minimum):null,e.maxDate=o.maximum?new Date(o.maximum):null});function eB(e){return uV(Up,e)}var _D=J("ZodArray",(e,t)=>{nx.init(e,t),Te.init(e,t),e.element=t.element,e.min=(o,r)=>e.check(An(o,r)),e.nonempty=o=>e.check(An(1,o)),e.max=(o,r)=>e.check(Gs(o,r)),e.length=(o,r)=>e.check($s(o,r)),e.unwrap=()=>e.element});function Jp(e,t){return vV(_D,e,t)}function tB(e){let t=e._zod.def.shape;return sg(Object.keys(t))}var Xp=J("ZodObject",(e,t)=>{ax.init(e,t),Te.init(e,t),ke.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>sg(Object.keys(e._zod.def.shape)),e.catchall=o=>e.clone({...e._zod.def,catchall:o}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Xa()}),e.loose=()=>e.clone({...e._zod.def,catchall:Xa()}),e.strict=()=>e.clone({...e._zod.def,catchall:rg()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=o=>ke.extend(e,o),e.safeExtend=o=>ke.safeExtend(e,o),e.merge=o=>ke.merge(e,o),e.pick=o=>ke.pick(e,o),e.omit=o=>ke.omit(e,o),e.partial=(...o)=>ke.partial(cg,e,o[0]),e.required=(...o)=>ke.required(dg,e,o[0])});function oB(e,t){let o={type:"object",shape:e??{},...ke.normalizeParams(t)};return new Xp(o)}function rB(e,t){return new Xp({type:"object",shape:e,catchall:rg(),...ke.normalizeParams(t)})}function iB(e,t){return new Xp({type:"object",shape:e,catchall:Xa(),...ke.normalizeParams(t)})}var ig=J("ZodUnion",(e,t)=>{sx.init(e,t),Te.init(e,t),e.options=t.options});function ng(e,t){return new ig({type:"union",options:e,...ke.normalizeParams(t)})}var jD=J("ZodDiscriminatedUnion",(e,t)=>{ig.init(e,t),lx.init(e,t)});function nB(e,t,o){return new jD({type:"union",options:t,discriminator:e,...ke.normalizeParams(o)})}var UD=J("ZodIntersection",(e,t)=>{cx.init(e,t),Te.init(e,t)});function JD(e,t){return new UD({type:"intersection",left:e,right:t})}var XD=J("ZodTuple",(e,t)=>{dx.init(e,t),Te.init(e,t),e.rest=o=>e.clone({...e._zod.def,rest:o})});function ZD(e,t,o){let r=t instanceof Am,i=r?o:t,n=r?t:null;return new XD({type:"tuple",items:e,rest:n,...ke.normalizeParams(i)})}var ag=J("ZodRecord",(e,t)=>{px.init(e,t),Te.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function KD(e,t,o){return new ag({type:"record",keyType:e,valueType:t,...ke.normalizeParams(o)})}function aB(e,t,o){let r=Bs(e);return r._zod.values=void 0,new ag({type:"record",keyType:r,valueType:t,...ke.normalizeParams(o)})}var YD=J("ZodMap",(e,t)=>{ux.init(e,t),Te.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function sB(e,t,o){return new YD({type:"map",keyType:e,valueType:t,...ke.normalizeParams(o)})}var qD=J("ZodSet",(e,t)=>{mx.init(e,t),Te.init(e,t),e.min=(...o)=>e.check(Ra(...o)),e.nonempty=o=>e.check(Ra(1,o)),e.max=(...o)=>e.check(Hs(...o)),e.size=(...o)=>e.check(nd(...o))});function lB(e,t){return new qD({type:"set",valueType:e,...ke.normalizeParams(t)})}var fl=J("ZodEnum",(e,t)=>{fx.init(e,t),Te.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let o=new Set(Object.keys(t.entries));e.extract=(r,i)=>{let n={};for(let a of r)if(o.has(a))n[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new fl({...t,checks:[],...ke.normalizeParams(i),entries:n})},e.exclude=(r,i)=>{let n={...t.entries};for(let a of r)if(o.has(a))delete n[a];else throw new Error(`Key ${a} not found in enum`);return new fl({...t,checks:[],...ke.normalizeParams(i),entries:n})}});function sg(e,t){let o=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new fl({type:"enum",entries:o,...ke.normalizeParams(t)})}function cB(e,t){return new fl({type:"enum",entries:e,...ke.normalizeParams(t)})}var QD=J("ZodLiteral",(e,t)=>{hx.init(e,t),Te.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function dB(e,t){return new QD({type:"literal",values:Array.isArray(e)?e:[e],...ke.normalizeParams(t)})}var eL=J("ZodFile",(e,t)=>{gx.init(e,t),Te.init(e,t),e.min=(o,r)=>e.check(Ra(o,r)),e.max=(o,r)=>e.check(Hs(o,r)),e.mime=(o,r)=>e.check(ud(Array.isArray(o)?o:[o],r))});function pB(e){return TV(eL,e)}var tL=J("ZodTransform",(e,t)=>{yx.init(e,t),Te.init(e,t),e._zod.parse=(o,r)=>{if(r.direction==="backward")throw new iN(e.constructor.name);o.addIssue=n=>{if(typeof n=="string")o.issues.push(ke.issue(n,o.value,t));else{let a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=o.value),a.inst??(a.inst=e),o.issues.push(ke.issue(a))}};let i=t.transform(o.value,o);return i instanceof Promise?i.then(n=>(o.value=n,o)):(o.value=i,o)}});function lg(e){return new tL({type:"transform",transform:e})}var cg=J("ZodOptional",(e,t)=>{Cx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Gp(e){return new cg({type:"optional",innerType:e})}var oL=J("ZodNullable",(e,t)=>{Sx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $p(e){return new oL({type:"nullable",innerType:e})}function uB(e){return Gp($p(e))}var rL=J("ZodDefault",(e,t)=>{vx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function iL(e,t){return new rL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ke.shallowClone(t)}})}var nL=J("ZodPrefault",(e,t)=>{Tx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function aL(e,t){return new nL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():ke.shallowClone(t)}})}var dg=J("ZodNonOptional",(e,t)=>{bx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sL(e,t){return new dg({type:"nonoptional",innerType:e,...ke.normalizeParams(t)})}var lL=J("ZodSuccess",(e,t)=>{Ix.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mB(e){return new lL({type:"success",innerType:e})}var cL=J("ZodCatch",(e,t)=>{Nx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function dL(e,t){return new cL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var pL=J("ZodNaN",(e,t)=>{xx.init(e,t),Te.init(e,t)});function fB(e){return fV(pL,e)}var pg=J("ZodPipe",(e,t)=>{Vx.init(e,t),Te.init(e,t),e.in=t.in,e.out=t.out});function _p(e,t){return new pg({type:"pipe",in:e,out:t})}var ug=J("ZodCodec",(e,t)=>{pg.init(e,t),Px.init(e,t)});function hB(e,t,o){return new ug({type:"pipe",in:e,out:t,transform:o.decode,reverseTransform:o.encode})}var uL=J("ZodReadonly",(e,t)=>{wx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mL(e){return new uL({type:"readonly",innerType:e})}var fL=J("ZodTemplateLiteral",(e,t)=>{kx.init(e,t),Te.init(e,t)});function gB(e,t){return new fL({type:"template_literal",parts:e,...ke.normalizeParams(t)})}var hL=J("ZodLazy",(e,t)=>{Lx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.getter()});function gL(e){return new hL({type:"lazy",getter:e})}var yL=J("ZodPromise",(e,t)=>{Dx.init(e,t),Te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yB(e){return new yL({type:"promise",innerType:e})}var CL=J("ZodFunction",(e,t)=>{Rx.init(e,t),Te.init(e,t)});function CB(e){return new CL({type:"function",input:Array.isArray(e?.input)?ZD(e?.input):e?.input??Jp(Xa()),output:e?.output??Xa()})}var Zp=J("ZodCustom",(e,t)=>{Fx.init(e,t),Te.init(e,t)});function SB(e){let t=new vN({check:"custom"});return t._zod.check=e,t}function vB(e,t){return bV(Zp,e??(()=>!0),t)}function SL(e,t={}){return IV(Zp,e,t)}function vL(e){return NV(e)}function TB(e,t={error:`Input not instance of ${e.name}`}){let o=new Zp({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...ke.normalizeParams(t)});return o._zod.bag.Class=e,o}var bB=(...e)=>xV({Codec:ug,Boolean:Cl,String:hl},...e);function IB(e){let t=gL(()=>ng([Oh(e),ED(),AD(),WD(),Jp(t),KD(Oh(),t)]));return t}function NB(e,t){return _p(lg(e),t)}var xB={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function VB(e){ji({customError:e})}function PB(){return ji().customError}var mg;mg||(mg={});var fg={};su(fg,{bigint:()=>DB,boolean:()=>RB,date:()=>LB,number:()=>kB,string:()=>wB});function wB(e){return Bx(hl,e)}function kB(e){return Jx(yl,e)}function RB(e){return eV(Cl,e)}function DB(e){return oV(Sl,e)}function LB(e){return mV(Up,e)}ji(Ex());var zhe=ea;var FB=qe("renameLayers"),EB=`Propose names for the elements in provided React JSX fragment of a web site.

**Naming Rules:**
1. Never use an ancestor's name in a descendant's name. A descendant's name must never repeat any part of its ancestors name.
    - INCORRECT: "Pricing Plans", "Pricing Plans Icon", "Pricing Plans Title"
    - CORRECT: "Pricing Plans", "Icon", "Title"
2. Evaluate the entire fragment, paying special attention to the text in the children of RichText components, to determine the theme of the content, e.g. "Savings Goals" or "Pricing Plans", and use this to inform the individual names.
3. When an element is a layout wrapper (e.g., flex, grid), describe its function or structure. Use this to replace generic wrappers like 'Body,' 'Content,' or 'Group.' (Example: '2x2 Grid,' 'Info Stack,' 'Action Bar'). (Never: 'Icon Flex,' 'Details Group').
4. Titles should be short. Aim for 1 word (80%). Use 2-3 words only when necessary (20%).
5. All names must use Title Case, including spaces.
6. Ignore "*-container" suffixes.
7. Ignore the attribute value of data-framer-name="*".

**Response Format:**
- Respond with a single line of text.
- Do not include any other text, explanation, or preamble.
- The line must be a list of "class-name Proposed Name" pairs separated by semicolons.
- The class name must be the class name of the JSX element.

**Example Output:**
framer-asifd Title; framer-adfda Content; framer-fdsafd Footer; framer-aht4dq Submit Button;
`,AB=";",MB=ea.object({className:ea.string(),name:ea.string()});function OB(e){let t=e.trim();C(t.length>0,"Trimmed result is empty");let[o,...r]=t.split(" ");return MB.parse({className:o,name:r.join(" ")})}function zB(e){return It(e)||G(e)||dt(e)||ne(e)||Ee(e)}async function TL(e,t){let o=performance.now(),r=0,i=e.stores.scopeStore.active;if(zB(i))try{e.scheduler.process(()=>e.beginUndoGroup());for(let n of e.tree.withoutDescendants(t)){let{jsx:a,ctx:l}=await RD(n,i,{modulesStore:e.stores.modulesStore,treeStore:e.stores.treeStore,engineChanges:e.scheduler.changes,assetMap:e.stores.assetStore.assetMap},void 0,"",!0);if(!a)continue;let s=new Bd(AB,OB,c=>{e.scheduler.processWhenReadyAsync(()=>{let{className:d,name:u}=c,f=e.tree.get(l.css.getNodeIdForClassName(d));!f||!Rc(f)||Pt(f)||ve(f)||k(f.name)||(f.set({name:sv(u)}),r++)})});await new Wd("renameLayers").start({model:"google/gemini-2.5-flash",messages:[{role:"system",content:EB},{role:"user",content:`\`\`\`
${a.toString()}\`\`\``}],onText:c=>s.addToken(c)}),s.finalize()}}catch(n){throw FB.error("Failed to generate layer names:",n),n}finally{await e.scheduler.processWhenReadyAsync(()=>e.endUndoGroup()),Ct("rename_layers",{duration:performance.now()-o,count:r})}}function ige(e){return uo(e)&&!xe(e)}function nge(e){return ht(e)&&!no(e)}function bL(e){return Vt(e)&&!no(e)}function IL(e,t){return Gl(t)&&(qe("app").warn("Inserting a symbol is no longer supported."),t.isMaster=!1,t.replicaInfo=null,t.originalid=null),C(!e.tree.has(t.id),"Tree should not contain node with same id as inserted template"),e.stores.scopeStore.insertNode(t),t}function VL(e){let t={width:200,height:200,codeComponentIdentifier:e.identifier,intrinsicWidth:null,intrinsicHeight:null,slotsAreChildNodes:je.isOn("componentSlotsAreChildNodes")},{defaultProps:o,annotations:r}=e;if(o!==void 0&&(fu(o.width)&&(t.width=o.width,t.intrinsicWidth=o.width),fu(o.height)&&(t.height=o.height,t.intrinsicHeight=o.height)),r){let i=Ev(r);i.width&&(t.width=i.width),i.height&&(t.height=i.height)}return new Pn(t)}function vge(e){return e.sort(WB)}var NL=new Map;function xL(e){let t=NL.get(e);if(t)return t;let o=e.split("/").map(r=>r.trim()).join("");return NL.set(e,o),o}function WB(e,t){if(e.name===null)return-1;if(t.name===null)return 1;let o=xL(e.name),r=xL(t.name);return o.localeCompare(r,void 0,{numeric:!0})}function Tge(e){if(Qg(e)&&e.file==="./canvas.tsx"||e.identifier==="framer/Stack")return!1;let t=ce(e.identifier);return _o(t)&&t.type==="screen"?!1:e.type==="component"||e.type==="master"}function bge(e){let t=e.split("/"),o=t[t.length-1];return C(Uo(o),"Last section is required"),o.trim()}function Ige(e,t){return e.name?e.name:t?$r(t):"Unknown"}function Nge(e){let t=[];for(let o of O.getAllLocalModules())o.type==="component"&&o.file===e&&t.push(o);return t}function PL(e,{allowVariants:t,allowLockedNodes:o}={}){return!o&&Gr(e)||sr(e)||!t&&(xe(e)||no(e))||bL(e)||ss(e)||Ae(e)||Ei(e)?!1:ye(e)}async function nye(e,t,o,r){function i(){$B(e,[t],o,r)}if(!_(o)){i();return}let n=ce(o.codeComponentIdentifier);if(!n||n.kind!=="externalModuleExport"){i();return}await e.stores.modulesStore.addExternalModulesToProject([n],{onTreeUpdate:i})}function BB(e,t,o){if(!Ts(t))return;let r=pv(e.tree,t);if(!ne(r))return;C(r.isLoaded(),"smart component must be loaded"),o.set({formSubmitButtonId:t.id});let i=r.getPrimaryVariant();r.getReplicaVariants().forEach(n=>{Le.resetOverridesByProperty(e.tree,n,n,["htmlTag","link"])}),yT(i)&&i.set({htmlTag:"button",link:void 0})}function HB(e,t,o){if(!_(e)||!_(t)||!e.cache.formContainerAncestorId)return;let r=o.tree.get(e.cache.formContainerAncestorId);No(r)&&BB(o,t,r)}function GB(e,t,o){let r=Uv(o.tree,e);r&&mi(e,r)&&r.set({dataSourceLoaderId:t.id})}function $B(e,t,o,r){let i={},n=new Set;t.forEach(a=>{let l=null;if(Vt(a)){if(!Xo(a))return;let v=Ur(e.tree,a),b=Le.getReplicaForTemplateNode(e.tree,a);if(!v||!b||!xe(b))return;a=v,l=b}let s=IL(e,o);HB(a,s,e),GB(a,s,e);let c=e.tree.getNodeParent(a),d=c||e.tree.getScopeNodeFor(a)||e.stores.scopeStore.active,u=d.children.indexOf(a),f=Dd(e.tree,a,s,d);if(s.set(f),c&&Qe(a)&&fa(s)){s.set(zi(a));let v=new Ad([[a.id,s.id]]);On(e.tree,c,v,rt(c)||Or(c)),n.add(s.id)}if(_(s)&&jB(a,s,new Set(Object.keys(f))),uo(a)&&!xe(a)&&_(s)&&_B(e,a,s),UB(e,d,a,s),yt(a))for(let v of a.children)rt(v)&&e.moveNode(v.id,s.id);e.deleteNode(a.id),e.moveNode(s.id,d.id,u);let y=JB(e.tree,a,s);ye(s)&&y&&(r?e.tree.current(s)?.set({left:y.left,right:y.right,top:y.top,bottom:y.bottom,centerAnchorX:y.centerAnchorX,centerAnchorY:y.centerAnchorY}):e.tree.current(s)?.set(y)),l?i[a.id]=Zo(l.id,s.id):i[a.id]=s.id});for(let a of e.stores.selectionStore.ids)n.add(i[a]??a);e.stores.selectionStore.set(Array.from(n))}function _B(e,t,o){if(xe(t))return;let r=o.getLocalSmartComponentNodeId();if(!r)return;let i=e.tree.getNode(r);if(!(!i||!ne(i))&&i.originalSymbolId===t.replicaInfo.master){for(let n of t.walk())if(!(!Pb(n)||!n.isTarget)&&n.originalid){if(Pe(n)&&n.fillType==="image"&&k(n.fillImage)){let a=o.getRawControlProp(`symbol_${n.originalid}`);a&&a.type==="image"&&(a.value=n.fillImage)}else if(ss(n)){let a=o.getRawControlProp(`symbol_${n.originalid}`);a&&a.type==="string"&&(a.value=n.styledText.text)}}}}function jB(e,t,o){let r;e:for(let n of e.walk()){if(!Wt(n)&&!_(n))continue;let a=Bc(n);for(let[,l]of Object.entries(a))if(r===void 0)r=l;else if(r){r=null;break e}}if(!r)return;let i=O.componentForIdentifier(t.codeComponentIdentifier);if(i?.properties)for(let n in i.properties){if(o?.has(n)||i.properties[n]?.type!=="eventhandler")continue;let l={type:"eventhandler",value:r};t.set({[pt(n)]:l});return}}function UB(e,t,o,r){let i=t?Yy(t):null;if(!i||!Er(i))return;let n=e.tree.getSmartComponentNodeFor(i);if(n)for(let a of n.getReplicaVariants()){let l=a.replicaInfo;if(!(o.id in l.overrides))continue;let s={...l};s.overrides={...s.overrides};let c={},d=s.overrides[o.id];for(let u in d){let f=d[u];if(u==="_deleted"){if(!ft(f))continue;let y=f.filter(v=>v in r);y.length&&(c._deleted=y)}else u in r&&(c[u]=f)}delete s.overrides[o.id],s.overrides[r.id]=c,e.tree.current(a)?.set({replicaInfo:s})}}function JB(e,t,o){if(!ye(t)||!ye(o))return;let r=t.constraintValues();if(Ss(t)&&Ss(o)&&(mc(t)&&(r.gridItemFillCellWidth=!0),vs(t)&&(r.gridItemFillCellHeight=!0)),!_(o))return r;if(Av(t)){let i=o.getSupportedLayout(O),n=e.getRect(t);t.widthType===2&&!Pi(i.width)&&(r.widthType=0,r.width=n.width),t.widthType===5&&(r.widthType=Pi(i.width)?2:0),t.heightType===2&&!Pi(i.height)&&(r.heightType=0,r.height=n.height),t.heightType===5&&(r.heightType=Pi(i.height)?2:0)}return r}function aye(e){return qg(e)?VL(e):null}var wL=es(ZC());function kL(e){let t={};for(let o of e.walk()){let r={};qo(o)&&(r.strokeDashArray=o.strokeDashArray,r.strokeDashOffset=o.strokeDashOffset,W(o.strokeWidth)||(r.strokeWidth=o.strokeWidth)),fn(o)&&(r.boxShadows=o.boxShadows),Wr(o)&&(r.radius=o.radius),ai(o)&&(r.radiusTopLeft=o.radiusTopLeft,r.radiusTopRight=o.radiusTopRight,r.radiusBottomRight=o.radiusBottomRight,r.radiusBottomLeft=o.radiusBottomLeft),cs(o)&&(r.pathSegments=o.pathSegments),Mo(o)&&o.fillType==="image"&&o.fillImageResize==="tile"&&(r.fillImageTileSize=o.fillImageTileSize??1),t[o.id]=r}return(0,wL.Map)(t)}function hg(e,t,o){t.forEach((r,i)=>{let n=e.getNode(i);if(!n)return;let a={};qo(n)&&(X(r.strokeWidth)&&(a.strokeWidth=qt(r.strokeWidth*o,2)),k(r.strokeDashArray)&&(a.strokeDashArray=ZB(r.strokeDashArray,o)),X(r.strokeDashOffset)&&(a.strokeDashOffset=qt(r.strokeDashOffset*o,2))),RC(n)&&Wy(r.boxShadows)&&(a.boxShadows=XB(r.boxShadows,o)),Wr(n)&&(X(r.radius)&&(a.radius=qt(r.radius*o,2)),X(r.radiusTopLeft)&&(a.radiusTopLeft=qt(r.radiusTopLeft*o,2)),X(r.radiusTopRight)&&(a.radiusTopRight=qt(r.radiusTopRight*o,2)),X(r.radiusBottomRight)&&(a.radiusBottomRight=qt(r.radiusBottomRight*o,2)),X(r.radiusBottomLeft)&&(a.radiusBottomLeft=qt(r.radiusBottomLeft*o,2))),cs(n)&&r.pathSegments&&(a.pathSegments=n.pathSegments.map((l,s)=>{let d=r.pathSegments[s].radius*o;return l.merge({radius:d})})),Mo(n)&&X(r.fillImageTileSize)&&(a.fillImageTileSize=r.fillImageTileSize*o),n.set(a)})}function XB(e,t){if(!(!e||W(e)))return e.map(o=>Wl(o,{x:qt(o.x*t,2),y:qt(o.y*t,2),blur:qt(o.blur*t,2),spread:qt(o.spread*t,2)}))}function ZB(e,t){let o=[],r=e.split(",");for(let i of r){let n=parseFloat(i);if(!X(n))continue;let a=qt(n*t,2);o.push(a)}return o.join(", ")}var Sye=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;let o=new Set(e);for(let r of t)if(!o.has(r))return!1;return!0},vye=(e,t,o)=>{let r=[];for(let i of e)gg(t,i,o)!==-1&&r.push(i);return r},RL=(e,t,o)=>{if(!o)return Array.from(new Set([...e,...t]));let r=[...e];for(let i of t)gg(r,i,o)===-1&&r.push(i);return r},Tye=(e,t,o)=>e.filter(r=>gg(t,r,o)===-1);function gg(e,t,o){return o?e.findIndex(r=>o(r,t)):e.indexOf(t)}function KB(e,t){let o=[];for(let i of t.segmentSelection){let n=e.getNode(i.id);!n||i.index>=n.pathSegments.length||o.push(i)}let r=t.segmentHandle;if(r){let i=e.getNode(r.id);(!i||r.index>=i.pathSegments.length)&&(r=null)}return{...t,segmentSelection:o,segmentHandle:r}}var DL=class{constructor(t){this.addChanges=t;R(this,"state",{segmentSelection:[],selectionType:0,segmentHandle:null,segmentHovered:null,closestCurve:null,pointRounding:.5,snapConstraint:null})}validateSegmentSelection(t){this.state=KB(t,this.state),this.addChanges("PathSelection")}setSegmentSelection(t,o){this.state={...this.state,segmentSelection:t,selectionType:o},this.addChanges("PathSelection")}toggleSegmentSelection(t,o){this.state.selectionType!==o&&(this.state={...this.state,segmentSelection:t,selectionType:o});let r=t.filter(n=>this.state.segmentSelection.find(a=>n.id===a.id&&n.index===a.index)===void 0),i=this.state.segmentSelection.filter(n=>t.find(a=>a.id===n.id&&a.index===n.index)===void 0);this.state={...this.state,segmentSelection:RL(r,i)},this.addChanges("PathSelection")}setSegmentHandle(t){this.state={...this.state,segmentHandle:t},this.addChanges("PathSelection")}setHoveredSegment(t){this.state={...this.state,segmentHovered:t},this.addChanges("PathSelection")}setClosestCurve(t){this.state={...this.state,closestCurve:t},this.addChanges("PathSelection")}setPathPointRounding(t){this.state={...this.state,pointRounding:t},this.addChanges("PathSelection")}setPathConstraint(t){this.state={...this.state,snapConstraint:t},this.addChanges("PathSelection")}};var vl=es(ZC());function FL(e,t){return Js(e,"canDesign")||t.length===0?!1:t.find(o=>!(!La(o)&&Yo(o)&&!Jl(o)&&!o.originalid))===void 0}function Qye(e,t,o,r){let i=t.map(n=>Cg(e,n,o,r)[0]);e.stores.selectionStore.set(i)}function Cg(e,t,o,r){let i=e.tree,n;Vm.isBasicShape(t)?n=Vm.createPath(t):n=t.calculatedPaths();let a=gv(t,n),l=bl(i,t,n),s=i.newId(),c=mo.boundingBox(a),d=ML(t),u=zT(t);if(d.fillType==="linear-gradient"&&d.fillLinearGradient){d.fillType="linear-gradient";let y=X(t.rotation)?t.rotation:0;d.fillLinearGradient=d.fillLinearGradient.updated({angle:d.fillLinearGradient.angle+y})}if(a.length===1){let y=a[0];C(y!==void 0,"Expected first path after length === 1 check");let v=mo.offset(y,ge.reverse(c));e.createPath(t.parentid,{id:s,...v,...c,...d,...u})}else{let y=[],v=new Yc({id:s,parentid:t.parentid,pathBoolean:4,...c,...d,...u});y.push(v);for(let b of a){let V=mo.boundingBox(b),L={...V,...ge.subtract(V,c)},A=mo.offset(b,ge.reverse(V)),M=new zs({parentid:s,...L,...A,...d});y.push(M)}e.tree.insertNodes(y)}let f=i.getParent(t.id);if(f!==null&&yt(f)){let y=f.children.indexOf(t);e.moveNode(s,f.id,y)}return e.deleteNode(t.id),r||e.stores.selectionStore.set(s),o===!0&&e.setTool(36),[s,l]}function YB(e){let t={};return e.forEach(o=>{let r=t[o.id]??[];r.push(o.index),t[o.id]=r}),t}function eCe(e,t){let o=1/t;return{x:Math.round(e.x*o)/o,y:Math.round(e.y*o)/o}}function tCe(e,t){let o=e.getNode(t.id);if(!o||!o.pathSegments)return null;let r=o.pathSegments[t.index];if(!r)return null;let i=t.handle===0?eo.calculatedHandleIn(r):eo.calculatedHandleOut(r);return e.convertPointToCanvas(o,i)}function LL(e,t){return t.handle===0?{x:e.handleOutX,y:e.handleOutY}:{x:e.handleInX,y:e.handleInY}}function oCe(e,t,o,r,i){let n=e.getNode(t.id),a=n.pathSegments[t.index];return C(a!==void 0,"Expected segment at handleSelector.index"),o=e.convertPointToNode(n,o),o=ge.subtract(o,a),Ir.update(n.pathSegments,t.index,l=>{let s=LL(l,t),c=l.handleMirroring==="straight",d=l.handleMirroring;r&&(s=LL(r,t),c=r.handleMirroring==="straight",d=r.handleMirroring),c&&(d="symmetric"),r&&i&&(d==="disconnected"||d==="asymmetric"?d="symmetric":d="disconnected"),d==="symmetric"&&(s=ge.reverse(o));let u=t.handle===0,f=u?o.x:s.x,y=u?o.y:s.y,v=u?s.x:o.x,b=u?s.y:o.y;return l.merge({handleOutX:v,handleOutY:b,handleInX:f,handleInY:y,handleMirroring:d})})}function Tl(e,t,o=!1,r){let i=e.tree,n=(0,vl.Map)(),a=(0,vl.Map)();if(!Yo(t)&&!Ae(t))return{descendantPaths:n,descendantBasicShapes:a};let l={};Sg(i,t,l);let s=Object.keys(l);for(let u=0,f=s.length;u<f;u++){let y=s[u];C(y!==void 0,"Expected id at index within loop bounds");let v=l[y];C(v!==void 0,"Expected path for id from Object.keys"),n=n.set(y,v)}let c={};vg(i,t,c,o);let d=Object.keys(c);for(let u=0,f=d.length;u<f;u++){let y=d[u];C(y!==void 0,"Expected id at index within loop bounds");let v=c[y];C(v!==void 0,"Expected points for id from Object.keys"),a=a.set(y,v)}return a.forEach((u,f)=>{if(u!==null)return;let y=i.getNode(f);if(!y||!FL(e,[y]))return;let[v,b]=Cg(e,y,!1,!0),V=b[0];C(V!==void 0,"Expected pathSegment from flattenShape"),n=n.set(v,V),r&&r.includes(f)&&e.stores.selectionStore.toggle(v)}),{descendantPaths:n,descendantBasicShapes:a}}function EL(e,t){let o=e.tree,r=(0,vl.Map)(),i=(0,vl.Map)();if(!Ae(t))return{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:i};let n={};Sg(o,t,n,t);let a=Object.keys(n);for(let c=0,d=a.length;c<d;c++){let u=a[c];C(u!==void 0,"Expected id at index within loop bounds");let f=n[u];C(f!==void 0,"Expected path for id from Object.keys"),r=r.set(u,f)}let l={};vg(o,t,l,!1,!1,t);let s=Object.keys(l);for(let c=0,d=s.length;c<d;c++){let u=s[c];C(u!==void 0,"Expected id at index within loop bounds");let f=l[u];C(f!==void 0,"Expected points for id from Object.keys"),i=i.set(u,f)}return i.forEach((c,d)=>{if(c!==null)return;let u=o.getNode(d);if(!u||!FL(e,[u]))return;let[f,y]=Cg(e,u,!1,!0),v=y[0];C(v!==void 0,"Expected pathSegment from flattenShape");let V=tn(o,t,[v])[0];C(V!==void 0,"Expected converted path segments at index 0"),r=r.set(f,{pathSegments:V,pathClosed:!0})}),{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:i}}function Sg(e,t,o,r){if(Jl(t)||Su(t)||Ae(t))for(let i of t.children)Yo(i)&&Sg(e,i,o,r);else if(La(t)){let n=bl(e,t,t)[0];C(n!==void 0,"Expected path from convertPathToCanvas");let a=n.pathSegments;if(r){let s=tn(e,r,[{pathSegments:a,pathClosed:t.pathClosed}])[0];C(s!==void 0,"Expected converted path at index 0"),a=s}o[t.id]={pathSegments:a,pathClosed:t.pathClosed}}}function vg(e,t,o,r=!1,i=!1,n){if(Jl(t)||Su(t)||Ae(t))for(let a of t.children){let s=Ko(a)&&X(a.rotation)&&a.rotation%90!==0||r;Yo(a)&&vg(e,a,o,s,i,n)}else if(!La(t)&&Yo(t))if(r||i)o[t.id]=null;else{let a=oe.pointsAtOrigin(e.getRect(t));o[t.id]=a.map(l=>{let s=e.convertPointToCanvas(t,l);return n?e.convertPointToNode(n,s,!0):s})}}function bl(e,t,o,r=1){let i=[];return Array.isArray(o)?i=o:i=[o],i.map(({pathSegments:n,pathClosed:a})=>({pathSegments:n.map(s=>yg(e,t,s,r,void 0)),pathClosed:a}))}function yg(e,t,o,r=1,i){let n=ge.multiply(e.convertPointToCanvas(t,o,!0,i),r),a=ge.multiply(e.convertPointToCanvas(t,eo.calculatedHandleIn(o),!0,i),r),l=ge.multiply(e.convertPointToCanvas(t,eo.calculatedHandleOut(o),!0,i),r),s=ge.subtract(a,n),c=ge.subtract(l,n);return o.merge({...n,handleOutX:c.x,handleOutY:c.y,handleInX:s.x,handleInY:s.y})}function tn(e,t,o){return o.map(({pathSegments:r})=>r.map(i=>{let n=e.convertPointToNode(t,i),a=e.convertPointToNode(t,eo.calculatedHandleIn(i)),l=e.convertPointToNode(t,eo.calculatedHandleOut(i)),s=ge.subtract(a,n),c=ge.subtract(l,n);return i.merge({...n,handleOutX:c.x,handleOutY:c.y,handleInX:s.x,handleInY:s.y})}))}function AL(e,t,o,r){return r.map(({pathSegments:i})=>i.map(n=>{let a={x:n.x,y:n.y},l=e.convertPointFromNodeToDescendant(t,o,a),s=e.convertPointFromNodeToDescendant(t,o,eo.calculatedHandleIn(n)),c=e.convertPointFromNodeToDescendant(t,o,eo.calculatedHandleOut(n)),d=ge.subtract(s,l),u=ge.subtract(c,l);return n.merge({...l,handleOutX:u.x,handleOutY:u.y,handleInX:d.x,handleInY:d.y})}))}function Tg(e,t){return t.map(({pathSegments:o})=>o.map(r=>{let i=et.convertPoint(e,r),n=et.convertPoint(e,eo.calculatedHandleIn(r)),a=et.convertPoint(e,eo.calculatedHandleOut(r)),l=ge.subtract(n,i),s=ge.subtract(a,i);return r.merge({...i,handleOutX:s.x,handleOutY:s.y,handleInX:l.x,handleInY:l.y})}))}function qB(e,t,o){let r=t.updateForPath(o);e.tree.current(t)?.set(r)}function rCe(e,t,o,r,i){let n=e.getParent(o.id),a=o.updateForPath(r);t.createPath(n?n.id:jt,{...a,id:i,rotation:o.rotation,...ML(o)})}function iCe(e,t,o){if(o===0)return t;let r=[],i=YB(t),n=Object.keys(i);for(let a=0,l=n.length;a<l;a++){let s=n[a];C(s!==void 0,"Expected id at index within loop bounds");let c=[],d=e.getNode(s),u=i[s];C(u!==void 0,"Expected selectors for id from grouped object");let f=d.pathSegments.length;for(let y=0,v=u.length;y<v;y++){let b=u[y];C(b!==void 0,"Expected value at index of selectors within loop bounds"),c.push(b);let V=b+1;V===f?c.push(0):c.push(V)}for(let y=0,v=c.length;y<v;y++){let b=c[y];C(b!==void 0,"Expected value in indexes array within loop bounds"),r.push({id:d.id,index:b})}}return r}function nCe(e,t,o){for(let r of e)if(r.id===t&&r.index===o)return!0;return!1}function aCe(e,t,o,r,i,n){let a=bl(e,i,i),s=tn(e,o,a)[0];C(s!==void 0,"Expected converted path at index 0");let c=s,d=!mo.isLastSegment(o.pathSegments,o.pathClosed,r.index),u=mo.isLastSegment(i.pathSegments,i.pathClosed,n.index);(!d&&u||d&&!u)&&(c=mo.reverse(c));let y;d?y=Ir.unshift(o.pathSegments,...c):y=Ir.push(o.pathSegments,...c),t.deleteNode(i.id),qB(t,o,{pathSegments:y})}function QB(e,t,o){let r=TC(e,t);if(o===0){if(r)return ge.subtract(t,e);if(e.handleOutX!==0||e.handleOutY!==0){let n=eo.calculatedHandleOut(e);return ge.subtract(n,e)}let i=eo.calculatedHandleIn(t);return ge.subtract(i,e)}else{if(r)return ge.subtract(e,t);if(t.handleInX!==0||t.handleInY!==0){let n=eo.calculatedHandleIn(t);return ge.subtract(n,t)}let i=eo.calculatedHandleOut(e);return ge.subtract(i,t)}}function sCe(e,t){let o=e.getNode(t.id);if(!o)return null;let r=o.pathSegments[t.segmentIndex];if(!r)return null;let i=o.pathSegments[t.segmentIndex+1];if(!i)return null;let n=yg(e,o,r),a=yg(e,o,i),s=t.projectedTime<.5?eo.point(n):eo.point(a),c=QB(n,a,0);return sy(s,ge.add(s,c))}var eH=15;function lCe(e,t,o,r){let i=5/r,n=eH/r,a=t.cache.canvasRect;if(a&&(a.x-o.x>i||a.y-o.y>i||o.x-(a.x+a.width)>i||o.y-(a.y+a.height)>i))return null;let l=mo.toBezierJS(t,t),s=e.convertPointToNode(t,o),c=-1,d=1/0,u=0;for(let V=0,L=l.length;V<L;V++){let A=l[V];C(A!==void 0,"Expected bezierCurve at index within loop bounds");let M=A.project(s),H=M.d,re=M.t;H>=d||re===0||re===1||(d=H,c=V,u=re)}if(c===-1)return null;let f=l[c];C(f!==void 0,"Expected curve at shortestIndex");let y=f.get(u),v=f.get(.5),b=ge.distance(s,v)<n;return{id:t.id,segmentIndex:c,distance:d,projectedPoint:y,projectedTime:u,midPoint:v,midPointInRange:b}}function ML(e){return{strokeEnabled:e.strokeEnabled,strokeAlignment:e.strokeAlignment,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,lineJoin:e.lineJoin,lineCap:e.lineCap,strokeMiterLimit:e.strokeMiterLimit,strokeDashArray:e.strokeDashArray,strokeDashOffset:e.strokeDashOffset,fillEnabled:e.fillEnabled,fillType:e.fillType,fillColor:e.fillColor,fillLinearGradient:e.fillLinearGradient,fillRadialGradient:e.fillRadialGradient,fillImage:e.fillImage,fillImageResize:e.fillImageResize,fillImageOriginalName:e.fillImageOriginalName,fillImagePixelWidth:e.fillImagePixelWidth,fillImagePixelHeight:e.fillImagePixelHeight,fillImagePositionX:e.fillImagePositionX,fillImagePositionY:e.fillImagePositionY,fillImageTileSize:e.fillImageTileSize,boxShadows:e.boxShadows,opacity:e.opacity}}function OL(e,t){let o=e.getRect(t),r={width:o.width,height:o.height};if(!Pe(t)||!Qt(t))return r;let i=wc(t);if(i.perSide)i.top&&(r.height-=i.top),i.bottom&&(r.height-=i.bottom),i.right&&(r.width-=i.right),i.left&&(r.width-=i.left);else if(i.top){let n=i.top*2;r.width-=n,r.height-=n}return r.width=Math.max(1,r.width),r.height=Math.max(1,r.height),r}function kCe(e,t,o,r){e.getNodesWithTrait(o,Pt).forEach(n=>{let{descendantPaths:a}=Tl(t,n,!0,o),l=a.valueSeq().toArray(),s=mo.boundingBox(l),c={...s};r==="horizontal"?(c.x=s.x+s.width,c.width=-s.width):(c.y=s.y+s.height,c.height=-s.height);let d=c.width>-1&&c.width<1?1:c.width,u=c.height>-1&&c.height<1?1:c.height,f=[s.x,s.x+s.width],y=[c.x,c.x+d],v=[s.y,s.y+s.height],b=[c.y,c.y+u],V=d/s.width,L=u/s.height;a.forEach((A,M)=>{let H=A.pathSegments.map(Q=>Q.merge({x:io(Q.x,f,y,!1),y:io(Q.y,v,b,!1),handleOutX:Q.handleOutX*V,handleOutY:Q.handleOutY*L,handleInX:Q.handleInX*V,handleInY:Q.handleInY*L}));C(t.tree===e);let re=e.get(M);if(!re)return;let le={pathSegments:H,pathClosed:re.pathClosed},se={pathSegments:tn(e,re,[le])[0],pathClosed:re.pathClosed},Fe=re.updateForPath(se);re.set(Fe)})})}function RCe(e,t,o){let{tree:r}=e;t.forEach(i=>{let n=r.getRect(i),a=o(n);if(a.width&&a.width<1&&(a.width=1),a.height&&a.height<1&&(a.height=1),Ae(i))tH(e,i,a);else if(Yo(i))oH(e,i,a);else{let l=r.getParent(i.id),s=l?OL(r,l):null,c=i.updateForSize(a,s?{sizing:s,positioning:s,viewport:i.cache.viewportRect,layout:kr(l)}:null);r.current(i)?.set(c)}})}function tH(e,t,o){let{tree:r}=e,i=r.getParent(t.id),n=i?r.getRect(i):null,a=t.updateForSize(o,n?{sizing:n,positioning:n,viewport:null,layout:kr(i)}:null);a.sizeToFit=!1,r.current(t)?.set(a)}function oH(e,t,o){let{tree:r}=e,i=r.getRect(t),n=Ql.update(i,o,Wi(t)?X(t.aspectRatio):!1),a={...i,...n},l=a.width>-1&&a.width<1?1:a.width,s=a.height>-1&&a.height<1?1:a.height,c=[i.x,i.x+i.width],d=[a.x,a.x+l],u=[i.y,i.y+i.height],f=[a.y,a.y+s],y=l/i.width,v=s/i.height,{descendantPaths:b,descendantBasicShapes:V}=Tl(e,t);b.forEach((L,A)=>{let H=tn(r,t,[L])[0].map(Q=>Q.merge({x:io(Q.x+i.x,c,d,!1)-i.x,y:io(Q.y+i.y,u,f,!1)-i.y,handleOutX:Q.handleOutX*y,handleOutY:Q.handleOutY*v,handleInX:Q.handleInX*y,handleInY:Q.handleInY*v})),re=bl(r,t,{pathSegments:H,pathClosed:!0});C(e.tree===r);let le=r.get(A);if(!le)return;let se={pathSegments:tn(r,le,re)[0],pathClosed:le.pathClosed},Fe=le.updateForPath(se);le.set(Fe)}),V.forEach((L,A)=>{if(L===null)return;let re=L.map(Xe=>r.convertPointToNode(t,Xe)).map(Xe=>({x:io(Xe.x+i.x,c,d,!1)-i.x,y:io(Xe.y+i.y,u,f,!1)-i.y})).map(Xe=>r.convertPointToCanvas(t,Xe)),le=r.get(A);if(!le)return;let be=re.map(Xe=>r.convertPointToNode(le,Xe)),se=oe.boundingRectFromPoints(be),Fe=oe.center(se),Q=xc(le,Fe),_e={x:Q.x-se.width/2,y:Q.y-se.height/2,width:se.width,height:se.height};le.set(_e)})}function zL(e,t,o,r,i,n){let{tree:a}=e,l=a.getNode(t.id),s=n.width>-1&&n.width<1?1:n.width,c=n.height>-1&&n.height<1?1:n.height,d=s/i.width,u=c/i.height;o.forEach((f,y)=>{let v=a.getNode(y);if(!v)return;let V={pathSegments:f.pathSegments.map(H=>H.merge({x:H.x*d,y:H.y*u,handleOutX:H.handleOutX*d,handleOutY:H.handleOutY*u,handleInX:H.handleInX*d,handleInY:H.handleInY*u})),pathClosed:f.pathClosed},A={pathSegments:AL(a,l,v,[V])[0],pathClosed:v.pathClosed},M=v.updateForPath(A);v.set(M)}),r.forEach((f,y)=>{if(f===null)return;let v=f.map(A=>({x:A.x*d,y:A.y*u})),b=a.getNode(y),V=v.map(A=>a.convertPointFromNodeToDescendant(l,b,A,!1)),L=oe.boundingRectFromPoints(V);e.tree.get(y)?.set(L)})}function WL(e,t,o,r,i,n=a=>a.canvasMatrix()){let a=r.width>-1&&r.width<1?1:r.width,l=r.height>-1&&r.height<1?1:r.height,s=[o.x,o.x+o.width],c=[r.x,r.x+a],d=[o.y,o.y+o.height],u=[r.y,r.y+l],f=a/o.width,y=l/o.height,v=i?{x:0,y:0}:t.rect;t.descendantPaths&&t.descendantPaths.forEach((b,V)=>{let A=(i?b.pathSegments:Tg(t.canvasMatrix.inverse(),[b])[0]??[]).map(se=>se.merge({x:io(se.x+v.x,s,c,!1)-v.x,y:io(se.y+v.y,d,u,!1)-v.y,handleOutX:se.handleOutX*f,handleOutY:se.handleOutY*y,handleInX:se.handleInX*f,handleInY:se.handleInY*y})),M=i?{pathSegments:A,pathClosed:b.pathClosed}:{pathSegments:Tg(t.canvasMatrix,[{pathSegments:A,pathClosed:b.pathClosed}])[0]??[],pathClosed:b.pathClosed},H=e.get(V);if(!H)return;let le={pathSegments:tn(e,H,[M])[0],pathClosed:H.pathClosed},be=H.updateForPath(le);H.set(be)}),t.descendantBasicShapes&&t.descendantBasicShapes.forEach((b,V)=>{if(b===null)return;let A=(i?b:b.map(Q=>et.convertPoint(t.canvasMatrix.inverse(),Q))).map(Q=>({x:io(Q.x+v.x,s,c,!1)-v.x,y:io(Q.y+v.y,d,u,!1)-v.y})),M=i?A:A.map(Q=>et.convertPoint(t.canvasMatrix,Q)),H=e.get(V);if(!H)return;let re=M.map(Q=>et.convertPoint(n(H).inverse(),Q)),le=oe.boundingRectFromPoints(re),be=oe.center(le),se=xc(H,be),Fe={x:mu(se.x-le.width/2),y:mu(se.y-le.height/2),width:le.width,height:le.height};H.set(Fe)})}function HL(e,t,o,r,i){if(o!==1)for(let[n]of r.parentsInitialState){let a=r.parentsInitialState.get(n);if(!a)continue;let l=[];for(let s of t)a.selectedNodeIds.has(s.id)&&l.push(s);$L(l,o,aH(e,n,o,r,i),!0)}}function GL(e,t){let o=new Map,r=new Map,i={},n=new Set;for(let a of e.tree.withoutDescendants(t)){let l=a.parentid;if(!l)continue;let s=e.tree.getNode(l);C(s,"Parent must exist"),rH(e,a,r,n),nH(e,a,s,o),i[l]??=[],i[l].push(a)}for(let[a,l]of o){let s=i[a];C(s,"Nodes must exist"),l.selectionBoundingFrame=e.tree.getBoundingFrameForNodes(s)}return{parentsInitialState:o,nodesInitialState:r,nonScalableNodes:n}}function rH(e,t,o,r){for(let{node:i,skipChildren:n}of t.walkWithSkipChildren()){if(o.has(i.id))continue;let a=i.id===t.id,l=e.tree.isInlineVectorNode(i),s=Pt(i)&&(l||a);if(!yH(i,a)){r.add(i.id),n();continue}let c=s?Tl(e,i):void 0,d=Ae(i)?EL(e,i):void 0,u=Ae(i)||s?kL(i.draftOrCurrent()):void 0,f=_(i)?iH(i):void 0;o.set(i.id,{rect:oe.round(e.tree.getRect(i,!1),2),matrix:e.tree.transformMatrixToNode(i),codeComponentControlProps:f,scalableShapeStylesMap:u,...c,...d}),Ae(i)&&n()}}function iH(e){let t=O.reactComponentForIdentifier(e.codeComponentIdentifier);if(!(!t||!t.properties))return e.getControlProps(t.properties)}function nH(e,t,o,r){let i=r.get(o.id)??{matrix:e.tree.transformMatrixToNode(o).invertSelf(),selectedNodeIds:new Set,selectionBoundingFrame:{x:0,y:0,width:0,height:0}};i.selectedNodeIds.add(t.id),r.set(o.id,i)}function aH(e,t,o,r,i){let n=r.parentsInitialState.get(t);C(n,"Parent must be present in initial state");let a=n.selectionBoundingFrame,l={...a,width:a.width*o,height:a.height*o};return{initialRect:a,resizedRect:l,engine:e,tree:e.tree,initialState:r,anchorPoint:i??{x:.5,y:.5}}}function $L(e,t,o,r){if(e.length===0)return!1;let i=!1;for(let n of e){if(o.initialState.nonScalableNodes.has(n.id))continue;let a=CH(n)&&$L(n.children,t,o,!1),l=sH(n,o,t,a,r);i||=l||a}return i}function sH(e,t,o,r,i){let n=hH(e,o,i),a=lH(e,t,o,r,i,n);return e.set(n),(a||r)&&pH(e,t,o,i),a}function lH(e,t,o,r,i,n){return De(e)?cH(e,o,t,i,n):Ae(e)?dH(e,o,t,i,n):Pt(e)?SH(e,o,t):_(e)?vH(e,o,t,i,n):Me(e)?_L(e,o,t,r,i,n):!1}function cH(e,t,o,r,i){let n=!1;if(!e.textFitViewBoxSize){gH(e,o.tree);let a=e.draftOrCurrent().updateForScale(t);Object.assign(i,a),n=!0}return e.widthType!==2&&(n=Ka("width",e,t,o,!1,r,i)||n),e.heightType!==2&&(n=Ka("height",e,t,o,!1,r,i)||n),n}function dH(e,t,o,r,i){let n=o.initialState.nodesInitialState.get(e.id),a=n?.shapeContainerDescendantPaths,l=n?.shapeContainerDescendantBasicShapes,s=n?.scalableShapeStylesMap;return C(s,"Shape container styles should be available in initial state"),C(a,"Shape container paths should be available in initial state"),C(l,"Shape container shapes should be available in initial state"),zL(o.engine,e,a,l,e,{width:e.width*t,height:e.height*t}),hg(o.tree,s,t),Ka("width",e,t,o,!0,r,i),Ka("height",e,t,o,!0,r,i),!0}function pH(e,t,o,r){if(r)uH(e,o,t);else if(ye(e)){let i={};e.left&&(i.left=ae(e.left,o)),e.right&&(i.right=ae(e.right,o)),e.top&&(i.top=ae(e.top,o)),e.bottom&&(i.bottom=ae(e.bottom,o)),e.set(i)}}function uH(e,t,o){if(!ye(e)&&!Dc(e))return;let r=o.initialState.nodesInitialState.get(e.id);C(r,"Node must be present in initial state");let i=e.parentid?o.initialState.parentsInitialState.get(e.parentid):void 0;C(i,"Node parent must be present in the initial state"),i.selectedNodeIds.size===1?mH(e,t,o,r):fH(e,o,r,i)}function mH(e,t,o,r){let i=r.rect,n={...i,width:i.width*t,height:i.height*t},l=Pt(e)||Ae(e)?e.clone({rotation:0}):e,s=Yp(i,o.anchorPoint),c=Yp(n,o.anchorPoint),d=et.convertPoint(l.originAdjustedMatrix(null,i),s),u=et.convertPoint(l.originAdjustedMatrix(null,n),c),f=ge.subtract(d,u),y=oe.round(oe.offset(n,f),2);if(ye(e)){let{widthType:v,heightType:b,maxHeight:V,minHeight:L,maxWidth:A,minWidth:M,...H}=rm(e.constraints(),y,o.tree.getParentSizeInfo(e,o.tree.getParent(e.id)),null,!1);e.set(H)}else e.set({x:y.x,y:y.y})}function fH(e,t,o,r){let i=ge.add(Yp(t.initialRect,t.anchorPoint),t.initialRect),n=ge.add(Yp(t.resizedRect,t.anchorPoint),t.resizedRect),a=ge.subtract(i,n),l=r.matrix??null,s=BL(l,t.initialRect),c=BL(l,oe.offset(t.resizedRect,a)),d=[s.x,s.x+s.width],u=[c.x,c.x+c.width],f=[s.y,s.y+s.height],y=[c.y,c.y+c.height],v=o.rect,b={x:io(v.x,d,u,!1),y:io(v.y,f,y,!1)},V={x:io(v.x+v.width,d,u,!1),y:io(v.y+v.height,f,y,!1)},L=oe.round(oe.fromTwoPoints(b,V));if(ye(e)){let A=rm(e.constraints(),L,t.tree.getParentSizeInfo(e,t.tree.getParent(e.id)),null,!1);delete A.widthType,delete A.heightType,e.set(A)}else e.set({x:L.x,y:L.y})}function BL(e,t){if(!e)return t;let o=et.convertPointsWithClipping(e,oe.cornerPoints(t));return oe.boundingRectFromPoints(o)}function hH(e,t,o){let r={};return ci(e)&&(r.borderWidth=ae(e.borderWidth,t),r.borderBottom=ae(e.borderBottom,t),r.borderLeft=ae(e.borderLeft,t),r.borderTop=ae(e.borderTop,t),r.borderRight=ae(e.borderRight,t)),fn(e)&&(r.boxShadows=UL(e.boxShadows,t)),qo(e)&&(r.strokeWidth=ae(e.strokeWidth,t)),Io(e)&&(r.padding=ae(e.padding,t),r.paddingBottom=ae(e.paddingBottom,t),r.paddingLeft=ae(e.paddingLeft,t),r.paddingTop=ae(e.paddingTop,t),r.paddingRight=ae(e.paddingRight,t)),ai(e)&&(r.radiusBottomLeft=ae(e.radiusBottomLeft,t),r.radiusBottomRight=ae(e.radiusBottomRight,t),r.radiusTopLeft=ae(e.radiusTopLeft,t),r.radiusTopRight=ae(e.radiusTopRight,t)),Wr(e)&&(r.radius=ae(e.radius,t)),zt(e)&&(r.gridColumnMinWidth=ae(e.gridColumnMinWidth,t),r.gridColumnWidth=ae(e.gridColumnWidth,t),e.gridRowHeightType==="fixed"&&(r.gridRowHeight=ae(e.gridRowHeight,t))),Qt(e)&&(r.gap=jL(e.gap,t)),Rn(e)&&(r.formInputFontSize=JL(e.formInputFontSize,t),e.formInputFontLetterSpacingUnit==="px"&&(r.formInputFontLetterSpacing=ae(e.formInputFontLetterSpacing,t)),e.formInputFontLineHeightUnit==="px"&&(r.formInputFontLineHeight=ae(e.formInputFontLineHeight,t))),Ps(e)&&(r.blur=ae(e.blur,t,0),r.backgroundBlur=ae(e.backgroundBlur,t,0)),Mo(e)&&e.fillType==="image"&&e.fillImageResize==="tile"&&(r.fillImageTileSize=ae(e.fillImageTileSize??1,t)),Mr(e)&&(r.minWidth=Kp(e.minWidth,t,o),r.maxWidth=Kp(e.maxWidth,t,o),r.minHeight=Kp(e.minHeight,t,o),r.maxHeight=Kp(e.maxHeight,t,o)),r}function _L(e,t,o,r,i,n){if(!Ue(e))return n.width=ae(e.width,t),n.height=ae(e.height,t),!0;let a=!1;return a=Ka("width",e,t,o,r,i,n)||a,a=Ka("height",e,t,o,r,i,n)||a,a}function gH(e,t){let o=e.getTextStylePresets(!1);for(let r of o){let i=t.getNode(r);Fi(i)&&e.draftOrCurrent().detachTextStylePreset(i,!1)}}function Ka(e,t,o,r,i,n,a){let l=e==="width"?"widthType":"heightType",s=t[l],c=r.initialState.nodesInitialState.get(t.id)?.rect;C(c,"node should have cached rect");let d=e==="width"?"gridItemFillCellWidth":"gridItemFillCellHeight";if(Ss(t)&&t[d]&&n)return a[d]=!1,a[e]=ae(c[e],o),a[l]=0,!0;switch(s){case 0:return a[e]=ae(t[e],o),!0;case 4:return a[e]=ae(t[e],o,4),!0;case 1:return n?(a[e]=ae(t[e],o,4),!0):!1;case 3:return n?(a[e]=ae(c[e],o),a[l]=0,!0):!1;case 2:if(!i){let f=r.tree.getNodeParent(t),v=(f&&Eo(f)?f.layout:void 0)==="grid"?c[e]:t[e];return a[e]=ae(v,o),a[l]=0,!0}return!1;case 5:return!0;default:j(s)}}function yH(e,t){let o=_(e)?e.getSupportedLayout(O):void 0;return!(o?.width==="auto"&&o?.height==="auto"||ve(e)||rt(e)&&!t)}function CH(e){return!(!e.children||Ae(e)||Pt(e))}function ae(e,t,o=2){return X(e)?qt(e*t,o):e}function jL(e,t){return X(e)?ae(e,t):k(e)?rc(e,o=>ae(o,t)):e}function Kp(e,t,o){if(E(e))return e;let[r,i]=Tn(e);return Number.isNaN(r)||i==="%"&&!o?e:ur(ae(r,t,0),i)}function UL(e,t){if(!(!e||W(e)))return e.map(o=>o.type==="realistic"?o:Wl(o,{x:ae(o.x,t),y:ae(o.y,t),spread:ae(o.spread,t)}))}function SH(e,t,o){let r=o.initialState.nodesInitialState.get(e.id);return r?(WL(o.tree,{canvasMatrix:r.matrix,rect:r.rect,descendantPaths:r.descendantPaths,descendantBasicShapes:r.descendantBasicShapes},o.initialRect,o.resizedRect,!0,i=>{let n=o.initialState.nodesInitialState.get(i.id);return C(n,"Basic shape initial state must exist"),n.matrix}),r.scalableShapeStylesMap&&hg(o.tree,r.scalableShapeStylesMap,t),!0):!1}function Yp(e,t){return{x:e.width*t.x,y:e.height*t.y}}function vH(e,t,o,r,i){let n=Me(e)?_L(e,t,o,!1,r,i):!1,a=o.initialState.nodesInitialState.get(e.id)?.codeComponentControlProps;if(!a)return n;for(let l in a){let s=a[l];if(!(!s||W(s.value)))switch(s.type){case"borderradius":i[pt(l)]={...s,value:bH(s.value,t)};break;case"padding":i[pt(l)]={...s,value:IH(s.value,t)};break;case"gap":i[pt(l)]={...s,value:jL(s.value,t)};break;case"boxshadow":i[pt(l)]={...s,value:UL(s.value,t)};break;case"font":i[pt(l)]={...s,value:xH(s.value,t)};break;case"border":i[pt(l)]={...s,value:VH(s.value,t)};break;case"array":case"boolean":case"collectionreference":case"color":case"slot":case"cursor":case"customcursor":case"date":case"enum":case"eventhandler":case"file":case"link":case"linkrelvalues":case"multicollectionreference":case"number":case"object":case"pagescope":case"richtext":case"scrollsectionref":case"string":case"transition":case"fusednumber":case"image":case"trackingid":case"vectorsetitem":break;default:j(s)}}return n}function TH(e){return e.includes("%")}function bH(e,t){return W(e)||TH(e)?e:rc(e,o=>ae(o,t))}function IH(e,t){return W(e)?e:rc(e,o=>ae(o,t))}var NH={px:2,rem:3};function JL(e,t){if(E(e))return e;let[o,r]=X(e)?[e,"px"]:ys(e);return ur(ae(o,t,NH[r]),r)}function xH(e,t){if(E(e))return e;let o=JL(e.fontSize,t);return{...e,fontSize:o,lineHeight:e.lineHeight?.[1]==="px"?[ae(e.lineHeight[0],t),"px"]:e.lineHeight,letterSpacing:e.letterSpacing?.[1]==="px"?[ae(e.letterSpacing[0],t),"px"]:e.letterSpacing}}function VH(e,t){return!e||U(e)?e:{...e,borderWidth:ae(e.borderWidth,t),borderTop:ae(e.borderTop,t),borderRight:ae(e.borderRight,t),borderBottom:ae(e.borderBottom,t),borderLeft:ae(e.borderLeft,t)}}var PH;(xi=>{function e(p){return p.some(h=>qL(h))}xi.canCopyNodes=e;function t(p){return p.some(h=>XL(h))}xi.canDuplicateNodes=t;function o(p,h){return e(h)&&l(p,h)}xi.canCutNodes=o;function r(p,h,g=void 0,S=!0){let{documentSettingsStore:T,codeGenerationStore:I,modalStore:N,canvasStore:w,scopeStore:P,treeStore:z}=p.stores,D=z.tree,$=D.withoutDescendants(D.getNodes(h)),Ne=P.active,Se=$.length===1?$[0]:void 0;if(!E(Se)&&ac(Se)&&!ve(Se)&&Pe(Se)&&ne(Ne)){let Ce=D.getRect(Se),Dt=js(D,Ne,Se,Ce),co=xi.createVariant(p.stores,Ne,Se,Dt);return co?new Set([co.id]):void 0}let tt=$.find(Ce=>ve(Ce));if(tt){let Ce=z.tree.getScopeNodeFor(tt);if(Ce&&G(Ce)){N.set({type:"DuplicateWebPage",source:"context_menu",duplicateFromId:Ce.id});return}}let Ve=$.map(Ce=>D.getRect(Ce)),Ie=new Map,ze=new Set,vt=[],Ze=new Map,He=new Map,lo=0;if($.forEach((Ce,Dt)=>{if(!XL(Ce))return;let co=D.getParent(Ce.id);if(We(Ce))if(co&&_(co)){if(!_S(co,O))return}else return;for(let mt of Ce.walk())Pe(mt)&&lo++;let ut=p.cloneNode(Ce,!1,!0,Ie);if(Ie.set(Ce.id,ut.id),He.set(Ce.id,ut.id),ze.add(ut.id),Ze.set(Ce,ut),Ce.isMaster)sf({});else if(Ce.replicaInfo){let{master:mt}=Ce.replicaInfo,$t=mt&&D.getNode(mt);$t&&Cu($t)||sf({})}else Zy(Ce)&&(!g||g.node&&Ky(g.node))&&iP(p,Ce,Ie);if(g){let mt=D.getParent(Ce.id);if(g.node){let $t=g.node;if(ht(g.node)&&($t=Ur(D,g.node),!$t))return;if(Ku(p.tree,$t,ut,P.active.id,O)){let Tr=mt&&cr(mt)&&cr($t),Co=mt&&Pe(mt)&&Pe($t);if(Tr||Co)p.moveNode(ut.id,$t.id,g.insertionIndex);else if(ye(ut)){p.moveNode(ut.id,$t.id,g.insertionIndex);let ra=D.getParentSizeInfo(ut,$t,!0,!1),ln=ut.updateForSize(Ve[Dt]??{},ra);mt||(ln.left=0,ln.top=0),p.tree.current(ut)?.set(ln)}else xi.convertNodeToNewParent(p,ut,mt,g.node,g.insertionIndex,Ce);if(no(g.node)){Nf(p,ut,g.node,$t,ze,Ie);let br=Le.getReplicaForTemplateNode(D,g.node);if(br){let ra=Zo(br.id,ut.id);He.set(Ce.id,ra)}}}}else xi.convertNodeToNewParent(p,ut,mt,g.node,g.insertionIndex,Ce),cr(mt)&&Ve[Dt]&&p.tree.current(ut)?.set(ut.updateForSize(Ve[Dt],null))}}),!g){let Ce=$.some(co=>D.isGroundNode(co)),Dt=$.some(co=>Ko(co)&&co.resolveValue("rotation")!==0);if($.length){let co=$.map(po=>D.convertFrameToCanvas(po)),ut=oe.merge(...co),mt,$t=be(p,h),Tr=se(D,$),Co=$.some(po=>Pt(po)),br=T.lastDuplicationMap,ra=!1;if(!Co&&$t&&!Tr&&!Dt&&br){let po=br.keys(),au=p.tree.getBoundingFrameForNodes(D.getNodes(po));ra=!0,mt=ge.subtract(ut,au)}let ln=mt||{y:0,x:0},nu=$[0];if(!Co&&Ce&&!ra&&nu){let po=WV(D,P.active,nu,ut,$.every(di)?{x:p.tree.getRect(nu).width}:mt);ln=ge.subtract(po,ut)}for(let po of $){let{x:au,y:jF,width:UF,height:JF}=D.getRect(po),Yr=Ze.get(po);if(!Yr)continue;let qa=p.tree.getParent(po.id),Qa=p.tree.getParent(Yr.id);if(Qa&&qa&&no(qa)){Nf(p,Yr,qa,Qa,ze,Ie);let Jg=Le.getReplicaForTemplateNode(D,qa);if(Jg){let KF=Zo(Jg.id,Yr.id);He.set(po.id,KF)}}if(Qa&&cr(Qa))continue;let jg=au+ln.x,Ug=jF+ln.y,XF=p.tree.getParentSizeInfo(po,qa),ZF=Yr.updateForRect({rect:{x:Pt(po)?jg:Math.round(jg),y:Pt(po)?Ug:Math.round(Ug),width:UF,height:JF},parentSizeInfo:XF,constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:yr(p.tree,Yr,Qa)});p.tree.current(Yr)?.set(ZF),Ce&&D.isGroundNode(Yr)&&vt.push(Yr.rect())}}}T.lastDuplicationMap=He;let Yt=[];for(let Ce of Ze.values())On(D,Ce,Ie,!1),di(Ce)&&Yt.push(Ce);if(Yt.length&&I.createVectorSet(Yt),vt.length){let Ce=oe.merge(...vt);w.scrollToCenter(oe.center(Ce))}return S&&ze.size>0&&p.stores.selectionStore.set(ze,{sticky:!0}),lo>0&&Ct("layout_frame",{source:"duplication",count:lo}),ze}xi.duplicateNodes=r;function i(p){if(p.length>=50)return!0;let g=p.length;return p.forEach(S=>{g+=Of(S)}),g>=50}function n(p,h,g){let S=p.tree.withoutDescendants(h);function T(){let I=[],N=[];S.forEach(w=>{if(Xo(w))if(vc(p.tree,w))N.push(w);else{let P=p.tree.get(w.originalid);P&&Ng(P)&&I.push(P.id)}else Ng(w)&&I.push(w.id)}),N.forEach(w=>w.set({visible:!1})),p.deleteNodes(I),p.stores.selectionStore.clear(),p.stores.treeStore.setHighlight(null)}g&&i(S)?p.stores.modalStore.set({type:"Confirmation",variant:"destructive",title:"Delete Selection",description:"You are about to delete the selected layers for all project collaborators.",confirmLabel:"Delete",onConfirm:T,source:"delete_node"}):T()}xi.deleteOrHideNodes=n;function a(p,h){p.tool.deleteAction?p.tool.deleteAction():h&&n(p,h,!0)}xi.deleteAction=a;function l(p,h){return p.tool.deleteAction?!!p.tool.canDelete&&p.tool.canDelete():!!h&&h.some(g=>RH(g))}xi.canDeleteOrHideNodes=l;function s(p,h){return ri(h)?!1:Vt(h)?Xo(h):!mr(h)}xi.canRenameNode=s;function c(p,h){return h.filter(g=>s(p,g)).length===1}xi.canRename=c;function d(p,h){return p.stores.chromeStore.contentPanelTab!=="Pages"||p.stores.scopeStore.active.id===p.tree.root.homePageNodeId||h.length!==0?!1:G(p.stores.scopeStore.active)||dt(p.stores.scopeStore.active)}xi.canRenameActivePage=d;function u(p,h){if(d(p,h)){let g=p.stores.scopeStore.active.id,S=GC(p.tree,g)?.id||g;Id(S)}else h.length===1&&(p.stores.chromeStore.layersExpanded=!0,p.stores.chromeStore.contentPanelTab="Layers",p.scheduler.runBeforeNextFrame(()=>{let g=document.querySelectorAll(".layerPanelPlaceholder.active");if(g.length===1&&g[0]){let S=new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}),T=g[0].parentElement;T&&T.dispatchEvent(S)}}))}xi.rename=u;async function f(p,h){h.length!==0&&await $I({key:"generate-layer-names",progress:{variant:"progress",text:"Renaming layers\u2026"},error:{variant:"error",text:"Failed to rename layers"},success:{variant:"success",text:"Done"},waitTime:1e3},()=>TL(p,h))}xi.renameLayers=f;function y(p,h){let g=p.tree,S=g.withoutDescendants(h),T=oa(S);A(g,h,T)&&Wg(p,T,"front")}xi.sendToFront=y;function v(p,h){let g=p.tree,S=g.withoutDescendants(h),T=oa(S);L(g,h,T)&&Wg(p,T,"back")}xi.sendToBack=v;function b(p,h){let g=p.tree,S=g.withoutDescendants(h),T=oa(S);A(g,h,T)&&Bg(p,T,1)}xi.sendForward=b;function V(p,h){let g=p.tree,S=g.withoutDescendants(h),T=oa(S);L(g,h,T)&&Bg(p,T,-1)}xi.sendBackward=V;function L(p,h,g){if(zg(h))return!1;if(!g){let S=p.withoutDescendants(h);g=oa(S)}return Hg(p,g,-1)}xi.sendBackwardEnabled=L;function A(p,h,g){if(zg(h))return!1;if(!g){let S=p.withoutDescendants(h);g=oa(S)}return Hg(p,g,1)}xi.sendForwardEnabled=A;function M(p,h){return Kt(p,h,0)}xi.addFrame=M;function H(p,h){return Kt(p,h,1)}xi.addStack=H;function re(p,h){let g=p.stores.scopeStore.active,S=p.tree.withoutDescendants(h);return S.length>1&&Ho(p,S)&&(!G(g)||S.every(T=>p.tree.isGroundNode(T)))}xi.canWrapInAutoSizedFrame=re;function le(p,h,g){let S=M(p,h);C(S!==void 0,"new frame ID must be defined");let T=p.tree.getNode(S);C(T!==null,"new frame must exist");let I=p.tree.withoutDescendants([T]);return KP(p,I,g),T}xi.wrapInAutoSizedFrame=le;function be(p,h){let{documentSettingsStore:g,selectionStore:S}=p.stores;if(!g.lastDuplicationMap||!Ks(h,S.ids))return!1;let T=[...g.lastDuplicationMap.values()];if(!Ks(S.ids,T))return!1;let I=[...g.lastDuplicationMap.keys()];return Ks(S.previousIds,I)}function se(p,h){let g=p.getCommonGroundNode(h);return!!g&&cr(g)}function Fe(p,h,g){if(g!==null){let S=h.flatMap(w=>p.convertCornerPointsToCanvas(w)),T=p.transformMatrixToNode(g),I=(ks(g)?T:et.flatProjectionMatrix(T)).invertSelf(),N=S.map(w=>et.convertPoint(I,w));return oe.roundToOutside(oe.boundingRectFromPoints(N))}return oe.roundToOutside(oe.merge(...h.map(S=>p.convertFrameToCanvas(S))))}xi.getUntransformedBoundingRect=Fe;function Q(p,h,g,S,T,I){let N={top:g.y,left:g.x,width:g.width,height:g.height,fillEnabled:!1},w=T.length===1?T[0]:null;C(w!==void 0,"node must be defined",T),S&&Object.assign(N,_e(h,g,S,w,I));let P=S===null,z=G(p.stores.scopeStore.active);return N.overflow=P||z?"clip":"visible",N}function _e(p,h,g,S,T){let I=p.getViewportRect(g),N=p.getRect(g),w=S?p.getParentSizeInfo(S,g):{sizing:N,positioning:N,viewport:I,layout:kr(g)},P=!!S&&ye(S),z=Xe(S,T),D=Ov({rect:h,parentSizeInfo:w,currentConstraints:z,constraintsLocked:P,shouldGuessPinToBottom:wn(p,null,g),shouldGuessPinToRight:yr(p,null,g),floatingPosition:null});return T&&g?{...Ca(S,g),...Z(S),...D,widthType:Qt(g)?3:1,heightType:2,width:1,left:0}:{...Ca(S,g),...Z(S),...D}}function Xe(p,h){let S=!!p&&ye(p)?p.constraints():void 0;if(!S)return;let T={...S};return h?(T.widthType===5&&(T.widthType=2),T.heightType===5&&(T.heightType=2)):(hu(T.widthType)&&(T.widthType=0),hu(T.heightType)&&(T.heightType=0)),T}function Z(p){if(!(!p||!Me(p)))return{width:p.width,height:p.height}}function Rt(p,h,g,S,T,I,N,w,P){let z=I?.id??jt;switch(h){case 0:{let D=p.createFrame(z,{id:g,...P},S);return p.moveNode(D.id,z,N),C(D&&yt(D),"Fail to create a wrapping frame: the created frame should have the `children` field"),w.forEach($=>{let Ne=Ni(p.tree,$,I,D);p.moveNode($.id,D.id),p.tree.current($)?.set(Ne)}),D}case 1:{let D=lt(p,g,z,P,w,T);return p.moveNode(D.id,z,N),D}case 2:{let D=p.createShapeContainer(z,{id:g,...P});return p.moveNode(D.id,z,N),C(D&&yt(D),"Fail to create a wrapping frame: the created frame should have the `children` field"),w.forEach($=>{let Ne=Ni(p.tree,$,I,D);p.moveNode($.id,D.id),p.tree.current($)?.set(Ne)}),D}default:j(h)}}function lt(p,h,g,S,T,I,N){let w=wf(p,T,I),P=p.createNode(hi,{id:h,...S,...w},g,N);C(Ut(P),"Fail to create stack: the created node should have stack layout");let{stackDirection:z}=w;return NP(p,h,I,T,z),P}function Kt(p,h,g){let S=p.tree;if(!Ho(p,h))return;let T=S.sortVisually(S.withoutDescendants(h)),I=T[0]?S.getParent(T[0].id):null,N=I&&no(I),w=N?p.tree.getNode(I.originalid):I,P=!0,z=N?T.map(Ie=>{if(!Vt(Ie))return Ie;let ze=p.tree.getNode(Ie.originalid);return C(ze,"Fail to create a wrapping frame: the original node must exist"),P&&(P=!ze.cache.visible),ze}):T,D=I?.children.findIndex(Ie=>T.includes(Ie))??-1,$=S.newId(),Ne=Fe(S,z,w),Se=Q(p,S,Ne,w,z,g===1),tt=Rt(p,g,$,z[0]?.id,Ne,w,D,z,Se),Ve=$;if(N){C(I,"Fail to create a wrapping frame: parentNode should not be null"),C(ht(I),"Fail to create a wrapping frame: parentNode should be a replica node"),P&&If(p,tt,I,w);let Ie=Le.getReplicaForTemplateNode(p.tree,I);C(Ie,"Fail to create a wrapping frame: replica must exist");let ze=Fe(S,T,I),vt=Q(p,S,ze,I,T,g===1);Ws(S,Ie,tt.id,vt),Le.replicaWithChanges(p.tree,Ie.draftOrCurrent());let Ze=Zo(Ie.id,$);Ve=Ze;let He=p.tree.get(Ze);if(C(He&&yt(He),"Fail to create a wrapping frame: replica wrapping node should exist and should have the `children` field"),g===0||g===2)T.forEach(lo=>{let Yt=Ni(S,lo,I,He);p.tree.current(lo)?.set(Yt)});else if(g===1){C(Pe(tt),"Fail to create a wrapping frame: the wrapping node should be a FrameNode"),C(Ut(tt),"Fail to create a wrapping frame: the wrapping node should have stack layout");let lo=wf(p,T,ze);Ws(S,Ie,tt.id,lo),bP(p,tt,lo.stackDirection,T,ze)}}return p.stores.selectionStore.set(Ve),$}function Do(p){return us(p)||xe(p)||Qe(p)||Dr(p)||ri(p)||We(p)?!1:Vt(p)?Xo(p):!0}function Ho(p,h){if(h.length===0)return!1;switch(p.tool.enum){case 0:case 1:case 6:break;default:return!1}if(!h.every(N=>Do(N)))return!1;let g=p.tree,S=g.withoutDescendants(h),[T,I]=S.reduce(([N,w],P)=>{let z=g.isInlineVectorNode(P)||!Pt(P)&&!Qe(P),D=S[0]?g.getParentId(S[0]):void 0,$=g.getParentId(P);return[N&&D===$,w&&z]},[!0,!0]);return T&&I}xi.wrappingEnabled=Ho;function Xr(p){return p.some(Ao)}xi.overflowEnabled=Xr;function Zr(p){p.stores.chromeStore.removePanelOverrides(),p.stores.chromeStore.chromeIsVisible=!0,p.stores.chromeStore.pagesExpanded=!0,p.stores.chromeStore.contentPanelTab="Pages";let h=new Set(p.stores.scopeStore.getDesignPageNodes().map(S=>S.resolveValue("name")??"")),g=p.createNode(bb,{name:_r("Design",h,{startIndex:h.size+1,omitCountIfFirst:!0})},p.tree.root.id);return p.stores.scopeStore.select(g.id,{keepHistory:!1}),p.scheduler.runAtEndOfFrame(()=>Id(g.id)),g.id}xi.createDesignPage=Zr;function ct(p){p.stores.chromeStore.removePanelOverrides(),p.stores.chromeStore.chromeIsVisible=!0,p.stores.chromeStore.pagesExpanded=!0,p.stores.chromeStore.contentPanelTab="Pages";let h=new Set(p.stores.scopeStore.getCanvasPageNodes().map(I=>I.resolveValue("name")??"")),g=p.createNode(Fv,{name:_r("Canvas",h,{startIndex:h.size+1,omitCountIfFirst:!1})},p.tree.root.id),S=xb("iPhone_390_844"),T=p.createFrame(g.id,{width:S.screenWidth,height:S.screenHeight,name:S.title,framePreset:S.id,isScreen:!0});p.stores.codeGenerationStore.updateComponent(T.id).catch(na),p.stores.scopeStore.select(g.id,{keepHistory:!1}),LV({pageId:g.id}),p.scheduler.runAtEndOfFrame(()=>Id(g.id))}xi.createCanvasPage=ct,xi.toggleContentManagementScope=p=>{let{chromeStore:h,selectionStore:g,scopeStore:S,analyticsStore:T,siteSettingsStore:I,codeEditorStore:N}=p.stores,w=h.mainView;if(w===2){S.selectPreviousActiveScope();return}switch(w){case 0:p.cancelTool();break;case 5:h.setLocalizationsVisible(!1);break;case 6:T.close();break;case 4:I.close();break;case 1:N.closeEditor();break;case 3:break;default:j(w)}let P=p.tree.getContentManagementNode()?.loaded;if(P&&P.children.length>0){let z=S.active,D=g.nodes.at(0);S.select(P.id,{keepHistory:!1});let $=DH(p,z,D);if($){g.set($);return}if(g.ids.length===0){let Ne=P.children[0];Ne&&g.set(Ne.id)}}else h.toggleContentManagementSidebar()};function Lo(p,h){p.stores.chromeStore.chromeIsVisible=!0,p.stores.scopeStore.select(Tc,{keepHistory:!1}),p.stores.selectionStore.set(h)}xi.openContentCollection=Lo;function Go(p,h,g,S){p.stores.modalStore.set({type:"CreateComponent",source:h,onSuccess:T=>{let I=T.resolveValue("name");if(nt(I)||nt(p.tree.getEntityRootNode()))return;let N=wd(p.tree,I,g??bs);Mn(p.tree,N,T.id),S?.(T)}})}xi.makeComponent=Go;function vr(p,h){return $F(p,h)}xi.canMakeComponent=vr;function Kr(p,h){if(h.length!==1||Sn(p.stores.scopeStore.active))return;let g=h[0];g&&Gl(g)&&Le.canMakeMaster(g)&&p.tree.current(g)?.set({isMaster:!0,replicaInfo:null,originalid:null})}xi.makeMaster=Kr;function Gt(p,h){for(let g of h)if(g.originalid&&ht(g)&&Le.overrideKeys(p,[g]).size>0)return!0;return!1}xi.canResetToMasterValues=Gt;function nr(p,h){for(let g of h){if(!g.originalid)continue;let T=Le.getReplicaForTemplateNode(p,g);T&&Le.resetOverrides(p,T,g)}}xi.resetToMasterValues=nr;function bi(p,h,g){for(let S of h){if(!ht(S))continue;let T=Le.getReplicaForTemplateNode(p,S);T&&Le.resetOverridesByProperty(p,T,S,g)}}xi.resetPropertiesToMasterValues=bi;function an(p,h){if(h.length===0)return!1;for(let g of h){if(Er(g))return!1;if(ac(g)){let S=p.tree.getScopeNodeFor(g);if(!S)return!1;if(ne(S)){let{hover:T,pressed:I}=S.getGesturesForTopLevelVariant(g);return!(T||I)}return G(S)&&!ve(g)}if(uo(g))return!0}return!1}xi.canDetachFromMaster=an;function kl(p,h){let g=new Map;h.filter(uo).forEach(T=>{if(!PL(T,{allowVariants:!0}))return;let I=T.clone({parentid:null});I.replicaInfo=null,rS(I)&&(I.isVariant=void 0);for(let P of I.walk())P.originalid=null;C(T.id!==I.id),p.tree.insertNode(I);let N=p.tree.getParent(T.id)||p.stores.scopeStore.active,w=N.children.indexOf(T);p.tree.removeNode(T),p.moveNode(I.id,N.id,w),p.tree.current(I)?.set(I.constraintValues()),g.set(T.id,I.id)}),On(p.tree,p.tree.root,g,!1);let S=p.stores.selectionStore.ids.map(T=>g.get(T)??T);return p.stores.selectionStore.set(S),g}xi.detachFromMaster=kl;function Ii(p,h){if(!$o(h))return;let g=oo(h);h.filter(hr).forEach(T=>T.set({visible:!g})),p.stores.treeStore.setHighlight(jt)}xi.visibility=Ii;function $o(p){return p.some(hr)}xi.visibilityEnabled=$o;let oo=p=>p.every(h=>h.isVisible());function Ya(p){return oo(p)?"Hide":"Show"}xi.visibilityTitle=Ya;function Dg(p,h){let g=p.withoutDescendants(h);if(!Rl(g))return;let S=!Dl(g),T=new Set;for(let I of g){if(!Nn(I))continue;let N=I.cache.lockedByParent,w=S===N?void 0:S;I.set({locked:w});for(let P of I.descendants())T.add(P)}for(let I of T)Nn(I)&&I.locked!==void 0&&I.set({locked:void 0})}xi.toggleLock=Dg;function Rl(p){return p.some(Nn)}xi.toggleLockEnabled=Rl;function Dl(p){return p.some(h=>Nn(h)&&Gr(h))}function Lg(p){return Dl(p)?"Unlock":"Lock"}xi.toggleLockTitle=Lg;function Ll(p){return p.every(di)}xi.copyURLEnabled=Ll;function Fl(p){return p.length>0&&p.every(T=>sn(T))?`Remove ${p.length>1?"Viewboxes":"Viewbox"}`:`Remove ${p.length>0&&p.find(T=>!cr(T))===void 0?"Stack":"Frame"}${p.length>1?"s":""}`}xi.removeFrameTitle=Fl;function Fg(p,h){ta(p,h)&&AF(p,h)}xi.removeFrame=Fg;function ta(p,h){if(h.length===0)return!1;let g=p.stores.scopeStore.active.id;return h.every(S=>{if(!Pe(S)&&!cr(S)&&!sn(S)||!S.children||S.children.length===0||sr(S)||uo(S)||Vt(S)&&!Xo(S))return!1;let T=p.tree.getParent(S.id);if(!T)return!0;for(let I of S.children)if(!Ku(p.tree,T,I,g,O))return!1;return!0})}xi.removeFrameEnabled=ta;function sn(p){return Ae(p)&&!di(p)}function Eg(p,h){h.forEach(g=>{let S=p.getParentSizeInfo(g);if(g.intrinsicWidth!==null&&g.intrinsicHeight!==null){let T={width:g.intrinsicWidth,height:g.intrinsicHeight},I=T.width/T.height;if(us(g))g.set(zI(g,T,{aspectRatio:I}),p);else if(Wi(g)&&g.aspectRatio){g=g.set({aspectRatio:null},p);let N=g.updateForSize(T,S);N.aspectRatio=I,g.set(N,p)}else g.set(g.updateForSize(T,S),p)}})}xi.resetToIntrinsicSize=Eg;function Ni(p,h,g,S){let T=p.getRect(h),I=p.getOriginPoint(h),N=p.convertPointToCanvas(h,{x:T.width*I.x,y:T.height*I.y});if(S){let D=p.transformMatrixToNode(S),$=ks(S)?D:et.flatProjectionMatrix(D);N=et.convertPoint($.inverse(),N)}let w={...T,x:N.x-T.width*I.x,y:N.y-T.height*I.y},P=h.updateForRect({rect:w,parentSizeInfo:p.getParentSizeInfo(h,S),constraintsLocked:!1,shouldGuessPinToBottom:S?wn(p,h,S):!0,shouldGuessPinToRight:yr(p,h,S)});if(cr(S)||(P.widthType===3&&(P.widthType=0,P.width=T.width),P.heightType===3&&(P.heightType=0,P.height=T.height)),Ko(h)){let D=h.resolveValue("rotation")-EF(p,g,S);D!==0&&(P.rotation=D)}return S&&Qt(S)&&!ao(h)&&!fr(h)&&(P.top=null,P.left=null,P.bottom=null,P.right=null),Object.assign(P,Ca(h,S)),P}xi.convertNodeToNewParentUpdate=Ni;function Ag(p,h,g,S,T=-1,I){let{tree:N}=p,w=h;if(Vt(h)&&(w=Ur(N,h),!w))return null;let P=S;if(S&&ht(S)&&(P=Ur(N,S),!P))return null;let z=g;if(g&&ht(g)&&(z=Ur(N,g),!z))return null;let D=Ni(N,I??w,Vt(h)?z:g,Vt(h)?P:S);if(p.tree.current(w)?.set(D),p.moveNode(w.id,P?P.id:p.stores.scopeStore.active.id,T),w.id!==h.id){C(g,"Current parent must exist when editing variants");let Ne=Le.getReplicaForTemplateNode(N,g);C(Ne,"The current parent should located in a variant node");let Se=S?Le.getReplicaForTemplateNode(N,S):null;if(Ne.id===Se?.id){let tt=Ni(N,h,g,S);N.current(h)?.set(tt)}}return{originalNode:w,originalCurrentParent:z,originalNewParent:P}}xi.convertNodeToNewParent=Ag;function El(p,h){if(!Ri(p)&&!Gr(p)&&(h.push(p.id),!!p.children))for(let g of p.children)El(g,h)}function Mg(p,h){let g=new Set;return h.forEach(S=>{let T=p.getParent(S.id);T&&g.add(T.id)}),g}function G0(p,h){let g=p.withoutDescendants(p.getNodes(h));return Mg(p,g).size>0}xi.canSelectAncestor=G0;function $0(p,h){Og(p,h,"parent")}xi.selectParent=$0;function _0(p,h){Og(p,h,"groundNode")}xi.selectGroundNode=_0;function Og(p,h,g){let{tree:S}=p,T=S.withoutDescendants(S.getNodes(h)),I=null;if(g==="groundNode"){let D=new Set(T.map($=>S.getGroundNodeFor($).id));D.size>0&&(I=Array.from(D))}else{let D=Mg(S,T);D.size>0&&(I=Array.from(D))}if(!I)return!1;let{selectionStore:N,overlayStore:w,treeStore:P}=p.stores;N.set(I,{sticky:!0,switchToLayers:!0});let z=T.length===1?T[0]:null;return z&&w.activeOverlays.has(z.id)&&w.exitEditMode(N,!1),P.setHighlight(null),!0}xi.selectAncestor=Og;function j0(p,h){let g=p.tree,S=[];if(p.tool.selectAll){p.tool.selectAll();return}else{let T=h.map(I=>{let N=g.get(I);if(Pt(N)){let P=mI(g,N);return P&&g.isGroundNode(P)?P.id:jt}let w=g.getGroundFrameAncestor(I,!0);return w!==null?w.id:jt});if(new Set(T).size===1&&T[0]!==null){let I=T[0];S=g.getSubtreeNodes(I).filter(N=>Gr(N)?!1:N.id!==I).map(N=>N.id)}if(S.length===0)for(let I of p.stores.scopeStore.active.children)El(I,S)}p.stores.selectionStore.set(S)}xi.selectAll=j0;function U0(p,h){let g=new Set;for(let S of h){let T=p.tree.get(S);if(!T)continue;let I=p.tree.getSiblingsIncludingSelf(T);for(let N of I)g.add(N.id)}p.stores.selectionStore.set(g)}xi.selectAllSiblings=U0;function J0(p,h){return p.tree.getNodes(h).some(g=>yt(g)&&g.children.length>0)}xi.canSelectChildren=J0;function X0(p,h){let g=new Set;for(let S of h){let T=p.tree.get(S);if(!T)continue;let I=ya(T);for(let N of I)g.add(N.id)}g.size>0&&p.stores.selectionStore.set(g)}xi.selectAllChildren=X0;function Z0(p,h){let g=h.length>0?p.tree.getNodes(h):p.stores.scopeStore.active.getGroundNodes(),S=[];g.map(w=>{Oe(w)?S.push(...p.tree.getSiblingsIncludingSelf(w)):S.push(w)});let T=new Set,I=new Set,N=w=>{if(!T.has(w.id)){if(Oe(w)&&I.add(w.id),w.children)for(let P of w.children)N(P);T.add(w.id)}};for(let w of S)N(w);p.stores.selectionStore.set(I)}xi.selectAllTextNodes=Z0;function K0(p,h){let[g]=p.tree.getNodes(h);if(!g||!Oe(g))return;let S=[],T=De(g)?oi(g.getTextStylePresets(!1)):void 0,I=oi(g.getFonts(!1)),N=oi(g.getFontSizes(!1).map(P=>Mi(P)?ur(...P):X(P)?ur(P,"px"):P)),w=oi(g.getTextColors(!1));if(!(as(T)||cn(T))&&!(as(I)||cn(I))&&!(as(N)||cn(N))&&!(as(w)||cn(w))){for(let P of p.stores.scopeStore.active.walk())no(P)||!Oe(P)||(De(P)?oi(P.getTextStylePresets(!1)):void 0)!==T||oi(P.getFonts(!1))!==I||oi(P.getFontSizes(!1).map(Se=>Mi(Se)?ur(...Se):X(Se)?ur(Se,"px"):Se))!==N||oi(P.getTextColors(!1))!==w||S.push(P);p.stores.selectionStore.set(S)}}xi.selectAllTextNodesWithSameFontStyles=K0;function Y0(p,h){let g=p.tree.getNodes(h);C(h.length===1,"Cannot have multiple layers selected");let[S]=g;if(!S||!Pe(S))return;let T=[],N=lS(p.tree,S.id)??p.stores.scopeStore.active;for(let w of N.walk())Pe(w)&&DF(S,w,p.tree)&&T.push(w);p.stores.selectionStore.set(T)}xi.selectAllLayersWithSameFill=Y0;function DF(p,h,g){if(Jo(p)&&!p.fillEnabled||Jo(h)&&!h.fillEnabled)return!1;let{fillType:S}=p;if(S!==h.fillType||S===void 0)return!1;switch(S){case"color":return!k(p.fillColor)||!k(h.fillColor)?!1:aa.equals(xf(p.fillColor,g,void 0),xf(h.fillColor,g,void 0));case"linear-gradient":return p.fillLinearGradient&&h.fillLinearGradient?p.fillLinearGradient.equals(h.fillLinearGradient):!1;case"radial-gradient":return p.fillRadialGradient&&h.fillRadialGradient?p.fillRadialGradient.equals(h.fillRadialGradient):!1;case"conic-gradient":return p.fillConicGradient&&h.fillConicGradient?p.fillConicGradient.equals(h.fillConicGradient):!1;case"image":return p.fillImage===h.fillImage;default:j(S)}}function zg(p){return p.some(h=>Pc(h)?Vt(h)?!Xo(h):!1:!0)}function oa(p){let h={};return p.forEach(g=>{let S=g.parentid?g.parentid:ns,T=h[S];T||(T=[],h[S]=T),T.push(g)}),h}function Wg(p,h,g){let S=p.tree;for(let T in h){let I=T===ns?S.root:S.get(T);if(!I||!h[T])continue;let N=S.sortVisually(h[T]);g==="back"&&N.reverse();let w=g==="front"?-1:0,P=no(I)&&jl(I);N.forEach(z=>{let D=z.originalid?S.get(z.originalid):z;C(D,"Cannot send",z.id,"backward/forward: original node must exist."),P&&Pc(D)?qu(D.id,I,w):p.tree.moveNodeIndex(D,w)})}}function LF(p,h,g){let S=p.tree.getParent(g.id);if(!S)return null;let T=S.children.indexOf(g),I=h==="backward"?T-1:T+1,N=S.children[I];if(!N||!Bi(N))return null;let w=p.tree.convertFrameToCanvas(g),P=p.tree.convertFrameToCanvas(N);if(h==="backward")return{...w,y:P.y};let z=P.height-w.height;return{...w,y:P.y+z}}function FF(p,h,g){let S=LF(p,h,g),{canvasStore:T}=p.stores;!S||oe.containsRect(T.getCanvasVisibleRectTakingOverlaysIntoAccount(),S)||T.zoomToCenter(S,{zoom:T.zoom,maxZoom:.5,animated:!0})}function Bg(p,h,g){let S=p.tree,T=Object.keys(h).length===1;for(let I in h){let N=I===ns?S.root:S.get(I);if(!N||!yt(N))continue;let w=no(N)&&jl(N),P=h[I],z=T&&P?.length===1,D=li(N)?N.getChildrenInVisualOrder():N.children,$=!1;for(let Ne=0,Se=D.length;Ne<Se;Ne++){let tt=g===1?Se-Ne-1:Ne,Ve=D[tt];if(!P?.includes(Ve))$=!0;else if($)if(w&&Pc(Ve))C(Ve.originalid,"Cannot send nodes: nodes in a replica variant parent must have originalid."),qu(Ve.originalid,N,tt+g);else{z&&Fd(S,Ve)&&FF(p,g===-1?"backward":"forward",Ve);let ze=Ve.originalid?S.get(Ve.originalid):Ve,vt=N.originalid?S.get(N.originalid):N;C(ze,"Cannot send node",Ve.id,": original child node does not exist."),C(vt,"Cannot send node",N.id,": original parent node does not exist."),p.moveNode(ze.id,vt.id,tt+g)}}}}function Hg(p,h,g){for(let S in h){let T=S===ns?p.root:p.get(S);if(!T||!yt(T))continue;let I=h[S],N=li(T)?T.getChildrenInVisualOrder():T.children,w=!1;for(let P=0,z=N.length;P<z;P++){let D=g===1?z-P-1:P,$=N[D];if(!I?.includes($))w=!0;else if(w)return!0}}return!1}function EF(p,h,g){let S=0,T=0;return h&&(S=p.totalAncestorRotation(h)),g&&(T=p.totalAncestorRotation(g)),Math.round(T-S)}function q0(p){if(p.length!==1)return!1;let h=p[0];return h&&La(h)&&!h.originalid}xi.reversePathDirectionEnabled=q0;function Q0(p,h){let g=p.current(h);g&&g.set({pathSegments:mo.reverse(g.pathSegments)})}xi.reversePathDirection=Q0;function eG(p,h){let g=Zs(h,p);return g.length===0?!1:g.every(S=>Pt(S)&&!S.originalid&&ya(S).length>0)}xi.canUngroup=eG;function AF(p,h){if(h.length===0)return;let g=p.tree,S=g.sortVisually(Zs(h,g)),T=g.withoutDescendants(S),I=[];return T.forEach(N=>{if(!yt(N))return;let w=N,P=null;if(Vt(N)){if(w=Ur(g,N),!w)return;P=Le.getReplicaForTemplateNode(g,N)}let z=g.getParent(N.id);if(N.children.length>0){let D=g.getIndex(N),$=w?.id??N.id;[...ya(N)].forEach((Se,tt)=>{let Ve=Se;if(Vt(Se)&&(Ve=Ur(g,Se),!Ve))return;if(rt(Ve)){g.removeNode(Ve);return}let Ie=z,ze=Ie;if(Ie&&ht(Ie)&&(ze=Ur(g,Ie),!ze))return;let vt=xi.convertNodeToNewParentUpdate(g,Ve,w,ze);if(p.moveNode(Ve.id,ze?.id??null,D+tt,$),p.tree.current(Ve)?.set(vt),$=Ve.id,P){let Ze=xi.convertNodeToNewParentUpdate(g,Se,N,Ie);p.tree.current(Se)?.set(Ze)}I.push(Se.id)}),p.deleteNode(w.id)}}),p.stores.selectionStore.set(I),I}xi.ungroup=AF;function tG(p){return!p.hasPreferredSize(O)}xi.canSetDefaultSize=tG;function oG(p,h){if(h.hasPreferredSize(O))return;let g=h.getPreferredSize(O),S={aspectRatio:null};g.width==="auto"?(S.width=1,S.widthType=2):X(g.width)&&(S.width=g.width,S.widthType=0),g.height==="auto"?(S.height=1,S.heightType=2):X(g.height)&&(S.height=g.height,S.heightType=0),ye(h)&&X(h.top)&&X(h.bottom)&&(S.bottom=null),ye(h)&&X(h.left)&&X(h.right)&&(S.right=null),FP(h,S,"context_menu_default_size_item"),h.set(S,p.tree)}xi.setDefaultSize=oG;function MF(p,h){if(!p.stores.toolStore.isDefaultToolActive)return!1;let g=Zs(h,p.tree);return g.length===0?!1:g.every(S=>Pt(S)&&!S.originalid)}xi.canJoinInGroup=MF;function rG(p,h){let g=p.tree;if(C(h.length>0,"No nodes"),!MF(p,h))return;let S=Zs(h,g),T=g.sortVisually(g.withoutDescendants(S)),I=T[0],N=I?g.getParent(I.id):void 0,w=N?N.id:jt,P=I?g.getIndex(I):void 0,z=g.newId();p.createShapeGroup(w,{id:z},P),T.forEach(D=>{let $=xi.convertNodeToNewParentUpdate(g,D,g.getParent(D.id),N);p.moveNode(D.id,z),p.tree.current(D)?.set($)}),p.stores.selectionStore.set(z)}xi.joinInGroup=rG;function iG(p,h){if(h.originalid)return null;let g={width:h.width,height:h.height},S=wP(h.svg,OI.createEmpty,g,h);if(S){S.name=h.name||h.originalFilename,S.parentid=h.parentid;let T=p.cloneNode(S),I=h.parentid===null,N=I?"rgb(255,255,255)":"transparent",{aspectRatio:w,...P}=h.constraintValues();p.tree.current(T)?.set({...P,width:S.width,height:S.height,fillEnabled:I,fillColor:N});let z=p.tree.getParent(h.id);if(z!==null&&yt(z)){let D=z.children.indexOf(h);p.moveNode(T.id,z.id,D)}return Gg(p,T.id,g),p.deleteNode(h.id),T.id}return null}xi.convertSVGToShape=iG;function Gg(p,h,g){let S=p.tree.get(h);if(!Ae(S))return;let T=S.width>=S.height?"width":"height",I=T==="width"?"height":"width",N=g[T]/S[T];if(N===1)return;HL(p,[S],N,GL(p,[S]),OF(S));let w=p.tree.current(S);C(w,"Node must exist after scaling");let P=g[I]-w[I];if(P===0)return;w.set({[I]:g[I]});let z=I==="width"?"x":"y";for(let D of w.children){let $=p.tree.current(D);!$||!Dc($)||$.set({[z]:$[z]+P/2})}}xi.scaleVector=Gg;function OF(p){let h=p.constraints(),g=0,S=0;return h.top===!1&&h.bottom===!1?S=.5:h.top===!1&&(S=1),h.left===!1&&h.right===!1?g=.5:h.left===!1&&(g=1),{x:g,y:S}}function nG(p,h){if(h.length>1)return!1;let g=Le.getReplicaForTemplateNode(p,h[0]);if(!g)return!1;let S=Le.getMaster(p,g);if(Ri(S))return!1;for(let T=0,I=h.length;T<I;T++){let N=h[T];if(Le.overrideKeys(p,[N]).size>0)return!0}return!1}xi.canUpdateMasterFromInstance=nG;function aG({tree:p},h){function g(P,z){for(let D of["id","update","cache","children","mutable","parentid","originalid","isMaster","isVariant","isBreakpoint","replicaInfo","duplicatedFrom","gesture"])delete P[D];if(z)for(let D of Le.positionKeysToIgnore)delete P[D];return P}function S(P,z){let D;if(z)for(let $ of Le.positionKeysToIgnore)P[$]!==void 0&&(D=D||{},D[$]=P[$]);return P.gesture&&(D||(D={}),D.gesture=P.gesture),D}let T=Le.getReplicaForTemplateNode(p,h[0]);if(!T)return;let I=Le.getMaster(p,T);if(Ri(I))return;let N={...T.replicaInfo.overrides},w={...T.replicaInfo,overrides:N};for(let P=0,z=h.length;P<z;P++){let D=h[P];if(!D?.originalid)continue;let $=p.get(D.originalid),Ne=g(D.raw(),uo(D));$?.set(Ne);let Se=S(N[D.originalid]??{},uo(D));Se?N[D.originalid]=Se:delete N[D.originalid]}T.asDraft().replicaInfo=w}xi.updateMasterFromInstance=aG;function sG(p,h){let g=$g(p,h);return!g||Cu(g)?0:Xy(g)?2:1}xi.canGoToMaster=sG;let $g=(p,h)=>{let g=null;for(let T=0,I=h.length;T<I;T++){let N=h[T],w=Le.getReplicaForTemplateNode(p,N);if(w){if(!g)g=w.originalid;else if(g!==w.originalid)return null}}if(!g)return null;let S=p.get(g);return!S||!sr(S)?null:S};function lG(p,h){if(h.length===1){let S=p.tree.getNode(h[0]?.originalid);if(!S)return;_g(p,S);return}let g=$g(p.tree,h);g&&(Le.showMaster(p.tree,g),_g(p,g))}xi.goToMaster=lG;function _g(p,h){let g=p.tree.getScopeNodeFor(h),S=p.stores.scopeStore.active;sr(h)&&Le.showMaster(p.tree,h),g===null&&(p.moveNode(h.id,S.id),g=S),p.stores.scopeStore.select(g.id,{keepHistory:!1}),p.stores.selectionStore.set(h);let T=p.tree.convertFrameToCanvas(h);p.stores.canvasStore.scrollToCenter(oe.center(T))}xi.showNodeOnCanvas=_g;function cG(p,h){p.exitMode(),p.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Component",parentId:h})}xi.createCodeComponent=cG;function dG(p){p.exitMode(),p.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Override"})}xi.createCodeOverride=dG;function pG(p,h,g,S,{gesture:T,overrides:I,overrideSize:N,variantName:w,viewportHeight:P,selectAndCenter:z=!0}={}){T&&C(ac(g),"gesture variant should inherit from top level variant");let{treeStore:D,scopeStore:$,selectionStore:Ne,canvasStore:Se}=p,tt=h.getPrimaryVariant(),Ve=null;if(!T){let vt=new Set(h.getTopLevelVariants().map(Ze=>Ze.resolveValue("name")??""));w?Ve=_r(w,vt):Ve=_r(ve(g)?"Breakpoint":"Variant",vt,{startIndex:vt.size+1,omitCountIfFirst:!1})}if(I||(I=T?void 0:g.replicaInfo?.overrides),Ve&&ve(g)){let vt=gP(D,Ve,g);vt&&(I?I=vn(vt,I):I=vt);let Ze={};g.children.forEach(He=>{if(!jl(He)||ye(He)&&He.widthType===2||!(He.originalid?D.tree.getNode(He.originalid):He))return;let Yt=D.tree.getRect(He);BI(D.tree,He,Yt,g,S.width,Ze)}),I||(I={}),I=vn(I,Ze)}let Ie=Le.create(D.tree,tt,{overrides:I,inheritsFrom:T?g.id:void 0,duplicatedFrom:WS(g)});if($.insertNode(Ie,h.id,-1),!Ie)return;let ze={top:S.y,left:S.x,gesture:T,isBreakpoint:da(h)?!0:void 0,name:Ve};if(P&&(ze.viewportHeight=P),N&&(ze.width=S.width,ze.widthType=0,ve(Ie)||(ze.height=S.height,ze.heightType=0)),Ie.set(ze),ne(h)){let vt=wa(T)?"variant":T??"variant";EV({variantId:Ie.id,variantType:vt,componentId:h.id})}else ve(Ie)&&Ct("breakpoint_create",{scopeId:h.id,breakpointId:Ie.id,width:Ie.width});return z&&(Ne.set(Ie.id),Se.scrollToCenter(oe.center(S))),Ie}xi.createVariant=pG;function zF(p,h){return p.filter(g=>Ta(g)?nT(g)!==h:Cr(g)?aP(g)!==h:!0)}function uG(p,h,g){for(let S of h.walk()){let T=Bc(S);for(let[I,N]of Object.entries(T)){let w=zF(N,g);if(w.length!==N.length){if(Wt(S))p.tree.current(S)?.set({[I]:w});else if(_(S)){let P={type:"eventhandler",value:w};p.tree.current(S)?.set({[I]:P})}}}}}xi.removeActionsWithTarget=uG;function mG(p,h){let g=p.tree.getParent(h.id)||p.stores.scopeStore.active;if(ht(g))return!1;let S=p.stores.treeStore.getPartialIndexes();return h.codeComponentIdentifier in S.localSmartComponentNameByIdentifier}xi.canDetachVariantInstance=mG;function fG(p,h,g,S){if(!g)return null;let T={...kd(h,O),...ZP(h)},I=new Map;g.getTopLevelVariants().forEach(Ze=>I.set(Ze.id,Ze));let N=k(T.variant)&&I.get(T.variant)||g.getPrimaryVariant();C(Pe(N),"Variant must be a frame node");let w=p.tree.getParent(h.id)||p.tree.getScopeNodeFor(h)||p.stores.scopeStore.active;if(ht(w))return null;let P=new Map,z=jP(N,new Map,new Map,P);P.set(h.id,z.id);let D=p.tree.getScopeNodeFor(w);if(G(D)||ne(D)){let Ze=D.getTopLevelReplicaVariants();for(let He of Ze){let lo=Zo(He.id,h.id),Yt=p.tree.getNode(lo);if(!Yt||!_(Yt))continue;let Ce=Yt.getResolvedControlPropValues(O).variant;if(!k(Ce))continue;if(S){let Co=S.get(Ce);Co&&(Ce=Co)}let Dt=k(Ce)?I.get(Ce):void 0;if(!Dt||!Pe(Dt)||!xe(Dt))continue;let co=Df(JP(Dt,p.tree,Yt,g.id),P),ut={},mt=P.get(N.id)??N.id;if(Fu(Dt)){let Co=Df(Dt.replicaInfo.overrides,P,!0);Object.assign(ut,{...Co,[mt]:XP(Co[mt]??{})})}let $t=vn(co,ut);if(Fu(Dt)){let{opacity:Co,rotation:br}=He.replicaInfo.overrides?.[h.id]||{};zd($t[mt]??{},{opacity:Co,rotation:br})}else if(He.replicaInfo.overrides?.[h.id]){let{opacity:Co,rotation:br}=Dt;zd(He.replicaInfo.overrides[h.id]??{},{opacity:Co,rotation:br})}let Tr={};Yt.heightType===2&&(Tr.heightType=Dt.heightType,Tr.height=Dt.height),Yt.widthType===2&&(Tr.widthType=Dt.widthType,Tr.width=Dt.width),p.tree.current(He)?.set({replicaInfo:{...He.replicaInfo,overrides:vn({...He.replicaInfo.overrides,[h.id]:{}},{...$t,[mt]:{...He.replicaInfo.overrides[h.id],...$t[mt],...Tr}})}})}}let $=Dd(p.tree,h,z,w);zd($,{opacity:U(N.opacity)?T[N.opacity.id]:N.opacity,rotation:U(N.rotation)?T[N.rotation.id]:N.rotation});let Ne=h.constraintValues(),Se=N.constraintValues();Ne.widthType===2&&Se.widthType!==2&&(Ne.widthType=Se.widthType),Ne.heightType===2&&Se.heightType!==2&&(Ne.heightType=Se.heightType),z.set({...Ne,...$,...w?zi(h):void 0,isVariant:!1,isMaster:!1,gesture:void 0,replicaInfo:null,originalid:null,name:h.name??$r(h)});let tt=Yb(g),Ve=new Map([...tt??[],...Object.entries(T)]),Ie=new Map;Ie.set(g.id,Ve);let ze={};for(let Ze of z.walk()){if(Ze.originalid=null,ba(Ze))for(let[He,lo]of Object.entries(Ze.getActions(O)))lo&&Ze.set({[He]:lo.filter(Yt=>yc(Yt)||wi(Yt))});if(Ve.size>0){let He=Kc(p.tree,g.id,Ze,Ie,ze);He&&Ze.set(He)}}C(z.id!==N.id);let vt=w.children.indexOf(h);p.tree.insertNode(z,w.id,vt);for(let Ze of h.children)rt(Ze)&&p.tree.moveNode(Ze,ze[Ze.id]??z.id);return On(p.tree,w,P,rt(w)||Or(w)),p.deleteNode(h.id),Qe(z)&&p.scheduler.runBeforeNextFrame(()=>{p.stores.overlayStore.showOverlay(p.stores.selectionStore,z,z.parentid)}),z}xi.detachSmartComponentOrWebPageInstance=fG;function hG(p){WF(p,{openLibrary:!0})}xi.toggleTeamLibrary=hG;function WF(p,{openLibrary:h}={}){let{modalStore:g,popoverStore:S}=p.stores;g.active.type==="QuickActions"?g.dismiss():(p.cancelTool(),S.active=0,g.set({type:"QuickActions",source:"main_menu",initialCategory:h?{type:"TeamLibraryCategory"}:void 0}),h?Ct("ui_interaction",{page:"main-menu",id:"team-library"}):Ct("ui_interaction",{page:"main-menu",id:"quick-actions"}))}xi.toggleQuickActions=WF;function gG(p){return!!ve(p)}xi.canCreateBreakpoint=gG;function yG(p,h,g,S,T){let{modalStore:I}=p.stores;I.active.type!=="CustomBreakpoint"&&(p.cancelTool(),I.set({type:"CustomBreakpoint",actionType:h,baseNodeId:g,name:S,width:T,source:"undefined"}))}xi.showCustomBreakpointModal=yG;function CG(p,h,g,S,T,I,N,w){let P={...S,width:T},z=xi.createVariant(p.stores,g,h,P,{overrideSize:!0,variantName:I,viewportHeight:N,selectAndCenter:w});return C(ve(z),"Created node is not a breakpoint variant"),z}xi.createBreakpoint=CG;function BF(p){return p.some(h=>h!==p&&sr(h))}xi.containsMaster=BF;function HF(p){return Pe(p)||Li(p)||Ae(p)||Oe(p)||Kl(p)||oC(p)||Yl(p)}xi.nodeTypeCanBePrimaryVariantSource=HF;function GF(p,h){return!(!HF(h)||pP(p,h)||xe(h)||uo(h)||sr(h)||BF(h))}xi.canConvertNodeToSmartComponentPrimaryVariant=GF;function $F(p,h){let g=h.length;if(g===0)return!0;let S=h[0];return C(S,"node must be defined",h),g===1&&GF(p.tree,S)}xi.canMakeSmartComponent=$F;function _F(p,h){if(h.length!==1)return!1;let S=h[0];if(C(S,"node must be defined",h),!Pe(S)||ht(S))return!1;let T=p.tree.get(S.parentid);return It(T)}xi.canMakeWebPagePrimaryBreakpoint=_F;async function SG(p,h){if(!_F(p,h))return;let g=h[0];C(g,"node must be defined",h);let S=g.resolveValue("name"),T=S?zP(S):void 0;return p.createWebPage({primaryBreakpointTemplateId:g.id,shouldRemovePanelOverrides:!1,startEditingPageTitle:!1,preferredPath:T})}xi.convertNodeToWebPagePrimaryBreakpoint=SG;function vG(p,h,g="Template",S,T){let I=new hi({...on,...wH(S),isMaster:!0,isVariant:!0,isBreakpoint:!0,widthType:0,heightType:0,width:S?.width??1200,name:S?.name??"Desktop"}),N=new hI;I.addChild(N);let w=_r(g,kH(p)),P=new Qb({baseVariantId:I.id,name:w});C(P.isLoaded(),"A newly created LayoutTemplateNode must be loaded."),P.addChild(I),p.latestTree().insertNode(P);let z=wd(p,w,T??Is);return Mn(p,z,P.id),Ct("layout_template_create",{source:h}),P}xi.createLayoutTemplate=vG;function TG(p,h,g=!0,S=null,T=Ft(),I="context_menu",N=0){let w=new bm({name:h,id:T});if(C(w.isLoaded(),"A newly created VectorSetNode must be loaded"),p.tree.latestTree().insertNode(w),Mn(p.tree,S??ga,w.id),g)for(let z of EH())p.tree.latestTree().insertNode(z,w.id);let P=p.tree.current(w);return C(P,"A newly created VectorSetNode must exist"),p.stores.codeGenerationStore.createVectorSet(P.getVectorSetItems()),Ct("vector_set_create",{source:I,items:g?3:N}),w}xi.createVectorSet=TG;async function bG(p,h,g){let S=p.tree.get(g);if(!vo(S))return;let T=S.isLoaded()?S:await S.load();if(!T)return;let I=T.children.find(di);if(!di(I))return;let N=p.tree.getRect(I);p.scheduler.process(()=>{let w=KL(p,h),P=[],z=Jo(I)?{fillEnabled:I.fillEnabled,fillType:I.fillType,fillColor:I.fillColor}:void 0;for(let D of w){let $=p.tree.get(D);if(!$)continue;let Ne=p.tree.getIndex($),Se=js(p.tree,T,$,N,N.width),tt=ZL($,Se,z);if(di(tt)){if(p.tree.insertNode(tt,T.id),P.push(tt),Gg(p,tt.id,N),Ct("vector_set_item_create",{source:"context_menu"}),g!==p.stores.scopeStore.active.id){let Ve=new Pn({...YL($),codeComponentIdentifier:dn("vector",tt.id,"default").value,width:$.width,height:$.height,widthType:0,heightType:0,slotsAreChildNodes:je.isOn("componentSlotsAreChildNodes"),name:$.name});p.tree.insertNode(Ve,$.parentid,Ne)}p.tree.removeNode($)}}P.length!==0&&(p.stores.scopeStore.select(S.id,{keepHistory:!1}),p.stores.selectionStore.set(P),p.stores.chromeStore.layersExpanded=!0,p.stores.chromeStore.contentPanelTab="Layers",p.stores.codeGenerationStore.createVectorSet(P))})}xi.addToVectorSet=bG;function IG(p,h,g="Icon Set",S="context_menu"){let T=new bm({name:g});C(T.isLoaded(),"A newly created VectorSetNode must be loaded");let I=KL(p,h),N=0,w=[];for(let P of I){let z=p.tree.get(P);if(!z)continue;let D=p.tree.getRect(z),$=ZL(z,{x:N,y:0});if(!di($))continue;let Ne=p.tree.getIndex(z);w.push($),T.addChild($),N+=D.width*2;let Se=new Pn({...YL(z),codeComponentIdentifier:dn("vector",$.id,"default").value,width:z.width,height:z.height,widthType:0,heightType:0,slotsAreChildNodes:je.isOn("componentSlotsAreChildNodes"),name:z.name});p.tree.insertNode(Se,z.parentid,Ne),p.tree.removeNode(z)}p.tree.latestTree().insertNode(T),Mn(p.tree,ga,T.id),p.stores.codeGenerationStore.createVectorSet(w),p.stores.scopeStore.select(T.id,{keepHistory:!1}),p.stores.selectionStore.set(w),p.stores.chromeStore.layersExpanded=!0,p.stores.chromeStore.contentPanelTab="Layers",Ct("vector_set_create",{source:S,items:I.size})}xi.createVectorSetFromNodes=IG;function NG(p,h,g,S,T){let I=g.clone({children:[],name:"Vector"}),{scopeStore:N,codeGenerationStore:w,selectionStore:P,canvasStore:z}=p;N.insertNode(I,h.id),C(ye(I),"Vector must be pinnable."),I.set({top:S.y,left:S.x}),w.createVectorSet([I]),P.set(I.id),z.scrollToCenter(oe.center(S)),Ct("vector_set_item_create",{source:T})}xi.createVectorSetItem=NG})(PH||={});var on={height:qb,left:0,top:0,layout:"stack",stackDirection:"vertical",stackAlignment:"center",stackDistribution:"start",stackWrapEnabled:!1,gap:0,padding:0,paddingPerSide:!1,paddingLeft:0,paddingBottom:0,paddingTop:0,paddingRight:0,overflow:"clip"};function wH(e){if(!e||!Eo(e)||!Io(e)||!Jo(e))return;let t=wc(e);return{gap:e.resolveValue("gap")??on.gap,padding:t.perSide?on.padding:t.top,paddingPerSide:t.perSide??on.paddingPerSide,paddingLeft:t.left??on.paddingLeft,paddingBottom:t.bottom??on.paddingBottom,paddingTop:t.top??on.paddingTop,paddingRight:t.right??on.paddingRight,fillEnabled:e.resolveValue("fillEnabled"),fillType:e.resolveValue("fillType"),fillColor:e.resolveValue("fillColor"),fillLinearGradient:e.resolveValue("fillLinearGradient"),fillRadialGradient:e.resolveValue("fillRadialGradient"),fillConicGradient:e.resolveValue("fillConicGradient"),fillImage:W(e.fillImage)?void 0:e.fillImage,fillImageOriginalName:e.resolveValue("fillImageOriginalName"),fillImageResize:e.resolveValue("fillImageResize"),fillImagePixelWidth:e.resolveValue("fillImagePixelWidth"),fillImagePixelHeight:e.resolveValue("fillImagePixelHeight"),fillImagePositionX:e.resolveValue("fillImagePositionX"),fillImagePositionY:e.resolveValue("fillImagePositionY"),fillImageTileSize:e.resolveValue("fillImageTileSize")}}function kH(e){let t=new Set;return e.root.children.forEach(o=>{if(!Ee(o))return;let r=o.resolveValue("name");r&&t.add(r)}),t}function qL(e){return!(mr(e)||Dr(e)||ri(e))}function Ng(e){return!(Er(e)||Dr(e)||ri(e)||Vt(e))}function RH(e){return Xo(e)&&e.isVisible()?!0:Ng(e)}function XL(e){return qL(e)?Vt(e)?Xo(e):!0:!1}function Il(e,t){if(Tt(t)){let o=Ar(e.tree,t.dataIdentifier);if(o)return o.id}return null}function DH(e,t,o){if(o){let i=Il(e,o);if(i)return i;for(let n of o.ancestors()){let a=Il(e,n);if(a)return a}}let r=Il(e,t);if(r)return r;if(o)for(let i of o.walk()){let n=Il(e,i);if(n)return n}for(let{node:i,skipChildren:n}of t.walkWithSkipChildren())if(o&&i.id===o.id)n();else{let a=Il(e,i);if(a)return a}return null}function ZL(e,{x:t,y:o},r){if(Pt(e)){let i=new gi({...r,isVectorSetItem:!0,width:e.width,height:e.height,left:t,top:o,name:e.name}),n=e.clone({x:0,y:0});return i.addChild(n),i}return e.clone({...r,isVectorSetItem:!0,left:t,top:o})}function KL(e,t){return new Set(t.map(o=>{if(!o)return null;if(Ae(o))return o.getPrimaryId();let r=e.tree.getAncestorThatMatches(o,n=>LH(e,n),!0,!0);if(!r)return null;let i=e.tree.getNodeParent(r);return i&&Ae(i)?i.getPrimaryId():r.getPrimaryId()}))}function LH(e,t){return Pt(t)&&e.tree.isRootVectorNode(t)}function YL(e){return ye(e)?{top:e.top,bottom:e.bottom,left:e.left,right:e.right,centerAnchorX:e.centerAnchorX,centerAnchorY:e.centerAnchorY,constraintsLocked:e.constraintsLocked}:{top:e.y,left:e.x}}var FH="rgb(0, 153, 255)",bg={fillType:"color",fillColor:FH,fillEnabled:!0},Ig={isVectorSetItem:!0,top:0,width:40,height:40,autoSize:!1},EH=()=>{let e=new Pm({...bg,x:-3,y:-3,width:46,height:46,polygonSides:3,centered:!0,radius:1}),t=new Pm({...bg,x:0,y:0,width:40,height:40,polygonSides:4,centered:!0,radius:1}),o=new FI({...bg,x:2,y:2,width:36,height:36}),r=new gi({...Ig,name:"Triangle"});r.addChild(e);let i=new gi({...Ig,left:80,name:"Diamond"});i.addChild(t);let n=new gi({...Ig,left:160,name:"Oval"});return n.addChild(o),[r,i,n]};function rn(e,t){return`${e??""}.${t}`}function Nl(e,t){return`${e??""}[${t}]`}function ETe(e){let t=[],o=e.split(".");for(let r of o){let[i,n]=r.split("[");if(i.length!==0&&t.push({type:"object",key:i}),n){let a=n.slice(0,-1);C(a.length>0),t.push({type:"array",id:a})}}return t}function xg(e,t){if(e===void 0)return"";let o=`<${t}>${e}</${t}>`,i=un(o).querySelector(t);return i instanceof HTMLElement?i.innerHTML:""}function eF(e,t,o){let r=je.isOn("customCodeSiteSettings"),i={headStart:"",headEnd:"",bodyEnd:"",bodyStart:""};for(let n of cI){let a=[],l=e?.[n];if(l&&a.push(l),t&&!r)for(let s in t){let c=t[s]?.[n];c?.html&&!c.disabled&&a.push(`<!-- Plugin: ${s} --> ${c.html}`)}i[n]=a.map(s=>QL(s,n)).join(`
`)}if(!o)return i;for(let n of o){if(n.disabled||n.pageIds&&n.pageIds.length>0||n.loadMode!=="once")continue;let a=n.managedByPlugin?`<!-- Plugin: ${n.managedByPlugin} --> ${n.code}`:n.code,{start:l,end:s}=vC(n.id),c=QL(a,n.placement);i[n.placement]+=`${l}
${c}
${s}
`}return i}function QL(e,t){if(t==="headStart"||t==="headEnd")return xg(e,"head");if(t==="bodyStart"||t==="bodyEnd")return xg(e,"body");Mt(t)}var Vg=e=>e;function jTe(e){return e.filter(Uo)}var qp=m`params`,oF={type:"siteMetadata",localIdName:"siteMetadata",localId:qr("siteMetadata","siteMetadata")};function Vbe(e){return{type:"webPageMetadata",localIdName:e,localId:qr("webPageMetadata",e)}}var Pbe=Vg(async(e,t)=>{let{assetMap:o,treeStore:r,modulesStore:i}=t,n=new Gn(o),a=new Hr,l=new pi("siteMetadata",i,a),s=new Vn(e,a),c=new xn(a),d=new Hi(e,l,a,void 0,r,i),u=new Zn(e,r,s,c,a,l,n),f=new _n(a,s,u,n,d),y=new ll(e,s,r,l,a,c,f,i,"siteMetadata"),v=new Jr(c,void 0,l,s,y,void 0,f,i,"siteMetadata"),b=rF(e,n,v,s,y,void 0,void 0,void 0);return[{type:"siteMetadata",revision:void 0,source:iF(e,b,l,c,y,v,s,void 0),artifacts:{assets:n.keys}}]}),wbe=Vg(async(e,t,o)=>{let{treeStore:r,modulesStore:i,assetMap:n}=t,{serializationId:a}=o,l=new Gn(n),s=new Hr,c=new pi("webPageMetadata",i,s),d=new Vn(e,s),u=new xn(s),f=new Hi(e,c,s,void 0,r,i),y=new Zn(e,r,d,u,s,c,l),v=new _n(s,d,y,l,f),b=new ll(e,d,r,c,s,u,v,i,"webPageMetadata"),V=new Jr(u,void 0,c,d,b,void 0,v,i,"webPageMetadata"),L=e.getVariableControlMap(r.tree,O,O.activeBundleHash),A=rF(e,l,V,d,b,MH(r.tree,e,c),OH(c),L);A.viewport=await zH(e);let M=Object.entries(e.getBreakpointValues()).map(([re,le])=>({hash:Et(re),mediaQuery:$b(le)}));A.breakpoints=M;let H=DS(e);return A.elements=H,A.serializationId=a,[{type:"webPageMetadata",source:iF(e,A,c,u,b,V,d,L),artifacts:{assets:l.keys},revision:e.moduleSourceRevision}]});function kbe(e,t){let o=new Set;function r(i){let n=Sm(),a=i.matchAll(n);for(let[,l]of a)l&&t?.has(l)&&o.add(l)}for(let i in e.webMetadata){let n=i,a=e.webMetadata[n];switch(n){case"title":case"description":case"socialImage":k(a)&&r(a),U(a)&&o.add(a.id);break;case"noIndex":case"noIndexSite":if(!W(a))continue;U(a)?o.add(a.id):_t(a)?Vr(a)&&o.add(a.startValue.id):j(a);break;case"favicon":case"faviconDark":case"appleTouchIcon":case"googleAnalyticsTrackingId":case"reducedMotion":case"language":case"languageTitle":case"adaptLayoutToTextDirection":case"canonicalURL":case"customCanonicalURL":case"optOutOfHTMLPlugin":case"automaticLocale":case"preserveQueryParams":case"enableFormsUTMTracking":break;default:}}for(let i in e.customHTML){let n=i,a=e.customHTML[n];switch(n){case"headStart":case"headEnd":case"bodyStart":case"bodyEnd":k(a)&&r(a);break;default:}}if(e.titleLocalized)for(let i of Object.values(e.titleLocalized))k(i.value)&&r(i.value);if(e.descriptionLocalized)for(let i of Object.values(e.descriptionLocalized))k(i.value)&&r(i.value);return o}function rF(e,t,o,r,i,n,a,l){let s={},c=i.add(nn(e,e.webMetadata?.title,o,r,l)??n,e.titleLocalized,(M,H)=>(C(H.variables),nn(e,e.titleLocalized?.[M]?.value,H.valueTransforms,H.variables,l)));E(c)||(s.title=c);let d=i.add(nn(e,e.webMetadata?.description,o,r,l)??a,e.descriptionLocalized,(M,H)=>(C(H.variables),nn(e,e.descriptionLocalized?.[M]?.value,H.valueTransforms,H.variables,l)));if(E(d)||(s.description=d),e.webMetadata?.favicon){let M=t.resolve(e.webMetadata.favicon);C(M,"Favicon is not a valid asset reference"),s.favicon=M.src}let u=e.webMetadata?.socialImage;if(U(u)){let M=Ot(u.id,e.id),H=r.create(M);s.socialImage=o.wrapInToImageSrc(H)}else if(u){let M=t.resolve(u);C(M,"Social image is not a valid asset reference"),s.socialImage=M.src}let f="noindex",y="max-image-preview:large";if(W(e.webMetadata?.noIndex)){let M=tF(e.webMetadata.noIndex,e.id,r,o);s.robots=m`${M} ? ${y} : ${f}`}else e.webMetadata?.noIndex===!0?s.robots=f:s.robots=y;if(e.webMetadata?.noIndexSite!==void 0)if(W(e.webMetadata?.noIndexSite)){let M=tF(e.webMetadata.noIndexSite,e.id,r,o);s.framerSearch={index:M}}else s.framerSearch={index:!e.webMetadata?.noIndexSite};let b=je.isOn("customCodeSiteSettings")?!lr(e):!0,V=b?e.customHTML:void 0,L=b&&lr(e)?e.pluginCustomHTML:void 0,A=eF(V,L,void 0);if(A.headStart){let M=nn(e,A.headStart,o,r,l,"escape");M&&(s.customHTMLHeadStart=M)}if(A.headEnd){let M=nn(e,A.headEnd,o,r,l,"escape");M&&(s.customHTMLHeadEnd=M)}if(A.bodyStart){let M=nn(e,A.bodyStart,o,r,l,"escape");M&&(s.customHTMLBodyStart=M)}if(A.bodyEnd){let M=nn(e,A.bodyEnd,o,r,l,"escape");M&&(s.customHTMLBodyEnd=M)}return s}function tF(e,t,o,r){let i,n;if(U(e)){let a=Ot(e.id,t);i=o.create(a),n=i}else if(_t(e)){C(Vr(e),"Fetch is not supported for no index");let a=Ot(e.startValue.id,t);i=o.create(a),n=i;for(let l of e.transforms)n=r.wrapInValueTransform(n,l,void 0,void 0)}else j(e);return m`${i} !== undefined && ${n} === false`}function AH(e,t,o,r){if(!o||!Tt(e))return;let i=r.getBindings(e.id);if(i.size===0)return;let n=new Set(i.keys()),a=t.addImport("framer",{exportSpecifier:"QueryEngine"}),l=t.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"});function s(b){let V=t.addModuleImport(b);return C(V,"Can't import collection"),V}let c=ed(e),d=new Set,u=eN(o,n,d,c,s),f=QI(e.dataIdentifier,o,d,c,s),y=new K({from:f,select:u,where:x.fn(l,m`pathVariables`,c)}),v=new K({from:f,select:u});return m.joinLines(m`export async function fetchMetadata(pathVariables, activeLocale) {`,m`  const queryEngine = new ${a}();`,m``,m`  const query = ${y};`,m``,m`  const result = await queryEngine.query(query, activeLocale);`,m`  if (result.length === 0) {`,m`    throw new Error("No data matches pathVariables");`,m`  }`,m``,m`  const params = result[0];`,m`  return metadata(params, activeLocale);`,m`}`,m``,m`export async function fetchAllMetadata(pathVariableKeys, activeLocale) {`,m`  const queryEngine = new ${a}();`,m``,m`  const query = ${v};`,m``,m`  for (const pathVariableKey of pathVariableKeys) {`,m`    query.select.push({`,m`      collection: ${c},`,m`      name: pathVariableKey,`,m`      type: "Identifier",`,m`    });`,m`  }`,m``,m`  const results = await queryEngine.query(query, activeLocale);`,m``,m`  return results.map(result => ({`,m`    metadata: metadata(result, activeLocale),`,m`    pathVariables: Object.fromEntries(`,m`      pathVariableKeys.map(pathVariableKey => [pathVariableKey, result[pathVariableKey]])`,m`    )`,m`  }));`,m`}`)}function iF(e,t,o,r,i,n,a,l){let s=a.getBindings(e.id),c=[];for(let[f,y]of s){let v=m`${qp}?.[${f}]`,b=l?.get(f);if(b&&b.type==="enum"){let L=n.wrapInValueTransform(v,{name:"enumToDisplayName"},b);v=m`${v} !== undefined ? ${L} : undefined`}let V=m`const ${y} = ${v}`;c.push(V)}let d=m.joinLines(m`export default function metadata(${qp}, ${te.activeLocale}) {`,...c,m`return ${t}`,m`}`),u=G(e)?AH(e,o,l,a):void 0;return m.joinSections(m.linesFrom(o.statements),...i.list(),...r.list(),d,u,m`export const metadataVersion = 1`)}function nn(e,t,o,r,i,n){if(Fo(t))return;let a=Sm();return Ke.replaceAll(t,a,(l,s)=>{let[c,d]=jb(s,n);if(!i?.has(c))return l;let u=Ot(c,e.id),f=r.create(u),y=f;return i?.get(c)?.type==="responsiveimage"&&(y=o.wrapInToImageSrc(y)),y=o.wrapInTemplateFilters(y,d),m`${f} !== undefined ? ${y} : ${l}`})}function Rbe(e,t,o){let r=o?.title,i=xl(e,t);return r||i}function MH(e,t,o){let r=o.addImport(`../${oF.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"}),i=m`${r}(${qp}, ${te.activeLocale}).title`,n=xl(e,t);return m`${i} || ${n}`}function OH(e){let t=e.addImport(`../${oF.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"});return m`${t}(${qp}, ${te.activeLocale}).description`}function xl(e,t){if(Tt(t)){let i=O.dataForIdentifier(t.dataIdentifier);if(i?.name)return i.name+" Detail"}let o=_v(e,t);return Fa(o??"/")}async function zH(e){if(G(e)){let t=e.isLoaded()?e:await e.load();return t?t.getReplicaVariants().length>0?"width=device-width":`width=${t.getPrimaryVariant().width}`:"width=device-width"}return"width=device-width"}function At(e,t=!1){let o=(t?Va(e):e).trim();return o===""?0:o.split(/\W+\b/).length}function nF(e){return ne(e)||G(e)||Ee(e)}function Hbe(e){ro(Pu(e),"Array gallery control must be Array of Object controls");let t=e.control,o;for(let r in t.controls){ro(!o,"Multiple item properties found in gallery control");let i=t.controls[r];ro(i?.type==="responsiveimage"),o=[r,i]}return ro(o,"Gallery control must have at least one item property"),o}function Gbe(e,t){if(!fs(t)||!t.value)return;let o=t.value[e];if(o?.type==="image")return o}function $be(e){return e?e.filter(t=>!WH(t)):[]}function WH(e){if(!fs(e)||!e.value)return!1;let t=Object.values(e.value);if(t.length!==1)return!1;let o=t[0];return FC(o)?E(o.value):!1}function aF(e){if(!Pu(e))return!1;let t=Object.values(e.control.controls);return t.length!==1?!1:t[0]?.type==="responsiveimage"}function sF(e){return`${e??"Field"} is required`}function lF(e,t){return`Exceeded max length by ${zv(e-t,"character","characters")}`}function Xbe(e){return`Must have at least ${e.minCount} ${cF(e)}`}function Zbe(e){return`Must have at most ${e.maxCount} ${cF(e)}`}var Kbe="Slug value is already taken and must be unique";function cF(e){return aF(e)?"images":"items"}function Pg(e,t){return t.getRouteSegmentRootNode().getRouteSegmentIdToRawPathMap(t).get(e.id)??"Unknown"}function BH(e,t){if(e.id===t.root.homePageNodeId)return"Home";let r=Ec(t,e);if(!r)return"Unknown";let i=e.dataIdentifier;if(!i)return r;let n=O.dataForIdentifier(i);return n?$v(n,r):r}function HH(e,t){let o=t.getParent(e.id);return Jt(o)?Ea(o,e)??"Unknown":"Unknown"}function nIe(e,t){if(lr(e))return"Site";if(ls(e))return Pg(e,t);if(Jt(e))return e.resolveValue("name")||"Unknown";if(dr(e))return HH(e,t)||"Unknown";if(G(e))return BH(e,t);if(ne(e))return e.resolveValue("name")||"Unknown";if(Ee(e))return e.resolveValue("name")||"Unknown";j(e,"Invalid localization scope")}function dF(e){let t=Na(e);for(let o of t.querySelectorAll("*"))o.tagName!=="BR"&&(o.removeAttribute("class"),o.removeAttribute("style"),o.removeAttribute("data-styles-preset"));return t.innerHTML}function iNe(e){return e==="hidden"?null:e}var nNe=["new","needsReview","done","hidden"],GH="controlPropKey";function aNe(e){return GH in e}function sNe(e){return"groups"in e}var $H="collectionNodeId";function lNe(e){return $H in e}var _H={string:!0,richtext:!0,image:!0,enum:!0,link:!0,slug:!0};function jH(e){return e in _H}function mF(e){return jH(e.type)}var UH={string:!0,richtext:!0,image:!0,link:!0};function fF(e){return e in UH}function JH(e){return e?e.type==="richtext"?!0:e.type==="RichTextNode"?e.textType==="rich-text":!1:!1}function cNe(e){return e?e.type==="image"||e.type==="FrameNode":!1}function dNe(e){return e?e.type==="nodeLink"||e.type==="link":!1}function pNe(e){return e?e.type==="RootNode"||e.type==="WebPageNode":!1}function uNe(e){return e?.type==="slug"||e?.type==="RouteSegmentNode"}function XH(e){return Fo(e)||e===""||PV(e)}function mNe(e,t){if(!e||JH(e))return!1;if(e.value.includes(`
`))return!0;let o=e.localizedValues[t.id];return o?!!o.value?.includes(`
`):!1}function hF(e,t,o){return t?t.hash!==o||t.needsReview?"needsReview":"done":XH(e)?"done":"new"}function xt(e,t,o,r,i,n){return Object.fromEntries(t.map(a=>{let l=o[a.id];if(i?.[a.id])return[a.id,"warning"];if(n){let s=n(a);if(s)return[a.id,s]}return[a.id,hF(e,l,r)]}))}function ou(e){return t=>e[t.id]?null:"done"}function kg(e,t,o){return r=>{if(k(e)&&t){let i=t[r.id];if(i)return hF(e,i,o)}return null}}var it={};Object.freeze(it);function ZH(e,t,o,r,i,n,a){let l=(s,c,d)=>{if(U(c)||!k(c)||c.length===0&&!d)return;let u=$e(c),f=d??it,y=xt(c,n,f,u);a.push({type:e.name,transformId:e.id,keyPath:rn(t,s),nodeId:i.id,scopeId:r.id,property:s,value:c,controlPropKey:o,controlPropName:void 0,ancestorControlKeyPath:void 0,valueWordCount:At(c),hash:u,localizedValues:f,localizedValueStatuses:y,managedByPluginButUserEditable:!1})};l("truthy",e.truthy,e.truthyLocalized),l("falsy",e.falsy,e.falsyLocalized)}function KH(e,t,o,r,i,n,a,l){if(t.outputType!=="string")return;for(let u of t.cases){if(Vr(e)&&e.startValue.id===iv)break;if(U(u.to)||!k(u.to)||u.to.length===0&&!u.toLocalized)continue;let f=$e(u.to),y=u.toLocalized??it,v=xt(u.to,a,y,f),b=rn(o,"cases");l.push({type:"convertFromEnum",transformId:t.id,keyPath:Nl(b,u.id),nodeId:n.id,scopeId:i.id,caseId:u.id,isDefaultCase:!1,value:u.to,ancestorControlKeyPath:void 0,controlPropKey:r,controlPropName:void 0,valueWordCount:At(u.to),hash:f,localizedValues:y,localizedValueStatuses:v,managedByPluginButUserEditable:!1})}if(!t.default||U(t.default)||!k(t.default))return;let s=$e(t.default),c=t.defaultLocalized??it,d=xt(t.default,a,c,s);l.push({type:"convertFromEnum",transformId:t.id,keyPath:rn(o,"default"),nodeId:n.id,scopeId:i.id,caseId:null,isDefaultCase:!0,ancestorControlKeyPath:void 0,value:t.default,controlPropKey:r,controlPropName:void 0,valueWordCount:At(t.default),hash:s,localizedValues:c,localizedValueStatuses:d,managedByPluginButUserEditable:!1})}function eu(e,t,o,r,i,n,a){if(!(!Dy(o.outputType)||o.outputType!=="string")){for(let l of o.transforms)if(Ry(l))switch(l.name){case"convertFromEnum":{KH(o,l,r,i,e,t,n,a);break}case"convertFromBoolean":{ZH(l,r,i,e,t,n,a);break}case"prefix":case"suffix":{if(U(l.value)||l.value.length===0&&!l.valueLocalized)return;let s=$e(l.value),c=l.valueLocalized??it,d=xt(l.value,n,c,s);a.push({type:l.name,transformId:l.id,keyPath:Nl(r,l.id),controlPropKey:i,controlPropName:void 0,ancestorControlKeyPath:void 0,nodeId:t.id,scopeId:e.id,value:l.value,valueWordCount:At(l.value),hash:s,localizedValues:c,localizedValueStatuses:d,managedByPluginButUserEditable:!1});continue}default:}}}function YH(e,t,o,r,i,n){if(_t(o.textContent)){if(!wt(e,o,"textContent"))return;eu(t,o,o.textContent,o.id,o.id,r,i);return}if(W(o.htmlContent)||W(o.textContent))return;let a=wt(e,o,"html"),l=wt(e,o,"htmlLocalized");if(!a&&!l)return;let s=o.html,c=Va(s),d=Qc(s),u=n==="canvasHtmlAsTextContentIfPossible"?d:"rich-text",f=u==="text"?c:dF(s);if(u==="text"&&!l&&Vt(o)){let L=e.getNode(o.originalid);if(L&&Va(L.html)===c)return}let v=$e(d===u?f:c),b=o.htmlLocalized??it,V=xt(f,r,b,v);i.push({type:"RichTextNode",keyPath:qH(o.id),nodeId:o.id,scopeId:t.id,value:f,valueWordCount:At(f,!0),textType:u,hash:v,localizedValues:b,localizedValueStatuses:V,managedByPluginButUserEditable:!1,inherited:!l})}function qH(e){return`${e}_html`}function pF(e){if(lr(e))return"RootNode";if(G(e))return"WebPageNode";j(e)}function uF(e,t,o){let r={};for(let i of e){let n=t[i.id];if(!n||!n.value)continue;let a=Ub({collectionData:o,getCollectionDataForIdentifier:O.dataForIdentifier.bind(O),type:"id",value:n.value});a&&(r[i.id]=a)}return r}function gF(e,t,o,r,i){let n=null;if(G(o)&&(n=O.dataForIdentifier(o.dataIdentifier)),o.webMetadata?.title||o.titleLocalized){let a=o.webMetadata?.title??e.root.webMetadata?.title??"",l=$e(a),s=o.titleLocalized??it,c=uF(r,s,n),d=xt(a,r,s,l,c);i.push({type:pF(o),keyPath:`${o.id}_title`,nodeId:o.id,scopeId:t.id,value:a,valueWordCount:At(a),hash:l,localizedValues:s,localizedValueStatuses:d,managedByPluginButUserEditable:!1,key:"title",dataIdentifier:la(o)?o.dataIdentifier:void 0,warnings:c})}if(o.webMetadata?.description||o.descriptionLocalized){let a=o.webMetadata?.description??e.root.webMetadata?.description??"",l=$e(a),s=o.descriptionLocalized??it,c=uF(r,s,n),d=xt(a,r,s,l,c);i.push({type:pF(o),keyPath:`${o.id}_description`,nodeId:o.id,scopeId:t.id,value:a,valueWordCount:At(a),hash:l,localizedValues:s,localizedValueStatuses:d,managedByPluginButUserEditable:!1,key:"description",dataIdentifier:la(o)?o.dataIdentifier:void 0,warnings:c})}}function QH(e,t,o,r,i){if(!Xt(o)||!k(o.fillImage)||o.fillImage.length===0)return;let n=wt(e,o,"fillImage"),a=wt(e,o,"fillImageLocalized"),l=wt(e,o,"altAttribute"),s=wt(e,o,"altAttributeLocalized");if(!n&&!a&&!l&&!s)return;let c=o.altAttribute??va,d=$e(c),u=o.altAttributeLocalized??it,f=o.fillImage,y=$e(f),v=o.fillImageLocalized??it,b=xt(c,r,u,d,void 0,kg(f,v,y));i.push({type:"FrameNode",keyPath:`${o.id}_fillImageLocalized`,nodeId:o.id,scopeId:t.id,value:c,valueWordCount:At(c),hash:d,localizedValues:u,localizedValueStatuses:b,managedByPluginButUserEditable:!1,inherited:!s,supportsAlt:!0,image:f,imageHash:y,imageLocalizedValues:v,imageInherited:!a,positionX:gu(o.fillImagePositionX)?o.fillImagePositionX:void 0,positionY:gu(o.fillImagePositionY)?o.fillImagePositionY:void 0,supportsFocalPoint:!0})}function yF(e,t,o,r){if(!je.isOn("localizedLinks"))return;let i=t.getLink();if(!Pr(i))return;let n=i.url,a=$e(n),l=t.linkLocalized??it,s=xt(n,o,l,a,void 0,ou(l));r.push({type:"nodeLink",keyPath:`${t.id}_linkLocalized`,nodeId:t.id,scopeId:e.id,value:n,valueWordCount:n?1:0,hash:a,localizedValues:l,localizedValueStatuses:s,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0})}function e0(e,t,o,r,i){QH(e,t,o,r,i),yF(t,o,r,i)}function tu(e){return!!(fF(e)||e==="array"||e==="object")}function Qp(e,t,o){return`${e}.${t}.${o??""}`}function t0(e){if(G(e)&&sc(e))return e.layoutTemplateIdentifier;if(_(e))return e.codeComponentIdentifier}function o0(e,t,o,r,i){let n=t0(o);if(!n)return;let a=O.componentForIdentifier(n);if(!a)return;let l=o.getControlProps(a.properties);function s(c,d,u,f=void 0){let y=d.type;if(y==="array"&&hy(d.value)){if(u.type!=="array")return;let v=u.control;for(let b of d.value){if(!tu(b.type))continue;let V=Nl(f,b.id);s(c,b,v,V)}}if(y==="object"&&Re(d.value)){if(u.type!=="object")return;for(let v in d.value){let b=d.value[v];if(!b||!tu(b.type))continue;let V=rn(f,v),L=u.controls[v];L&&s(c,b,L,V)}}if(fF(y))switch(y){case"string":{if(!wt(e,o,pt(c))||u.type==="string"&&u.preventLocalization||(_t(d.value)&&eu(t,o,d.value,rn(o.id,c),c,r,i),!k(d.value)))break;let v=d.value,b=$e(v),V=d.valueLocalized??it,L=xt(v,r,V,b);i.push({type:"string",keyPath:Qp(o.id,c,f),controlPropKey:c,controlPropName:u.title||ei(c),ancestorControlKeyPath:f,nodeId:o.id,scopeId:t.id,value:v,valueWordCount:At(v),hash:b,localizedValues:V,localizedValueStatuses:L,managedByPluginButUserEditable:!1});break}case"link":{if(!je.isOn("localizedLinks")||!wt(e,o,pt(c))||(_t(d.value)&&eu(t,o,d.value,rn(o.id,c),c,r,i),!Pr(d.value)))break;let v=d.value.url,b=$e(v),V=d.valueLocalized??it,L=xt(v,r,V,b,void 0,ou(V));i.push({type:"link",keyPath:Qp(o.id,c,f),controlPropKey:c,controlPropName:u.title||ei(c),ancestorControlKeyPath:f,nodeId:o.id,scopeId:t.id,value:v,valueWordCount:v?1:0,hash:b,localizedValues:V,localizedValueStatuses:L,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0});break}case"richtext":{if(y!=="richtext"||!k(d.value)||u.type==="richtext"&&u.preventLocalization||!wt(e,o,pt(c)))break;let v=d.value,b=$e(v),V=d.valueLocalized??it,L=xt(v,r,V,b);i.push({type:"richtext",keyPath:Qp(o.id,c,f),controlPropKey:c,controlPropName:u.title||ei(c),ancestorControlKeyPath:f,nodeId:o.id,scopeId:t.id,value:v,valueWordCount:At(v,!0),hash:b,localizedValues:V,localizedValueStatuses:L,managedByPluginButUserEditable:!1,contentType:void 0});break}case"image":{if(!d||d.type!=="image"||!k(d.value)||u.type!=="responsiveimage"&&u.type!=="image"||!wt(e,o,pt(c)))break;let v=u.type==="responsiveimage",b=d.alt??va,V=$e(b),L=v?d.altLocalized??it:it,A=d.value,M=$e(A),H=d.valueLocalized??it,re=xt(b,r,L,V,void 0,kg(A,H,M)),le=u.type==="responsiveimage";i.push({type:"image",keyPath:Qp(o.id,c,f),controlPropKey:c,controlPropName:u.title||ei(c),ancestorControlKeyPath:f,nodeId:o.id,scopeId:t.id,value:b,valueWordCount:At(b),hash:V,localizedValues:L,localizedValueStatuses:re,managedByPluginButUserEditable:!1,supportsAlt:v,image:A,imageHash:M,imageLocalizedValues:H,supportsFocalPoint:le,positionX:le?d.positionX:void 0,positionY:le?d.positionY:void 0});break}default:}}for(let c in l){let d=l[c];if(!d)continue;let u=a.properties[c];u&&s(c,d,u)}}function r0(e,t,o,r){let i=t.formSelectOptions;if(!(!i||i?.length===0))for(let n of i){let a=n.title;if(!a)continue;let l=n.titleLocalized??it,s=$e(a),c=xt(a,o,l,s);r.push({type:"FormSelectNode",keyPath:`${t.id}_${n.id}`,nodeId:t.id,optionId:n.id,scopeId:e.id,value:a,valueWordCount:At(a),hash:s,localizedValues:l,localizedValueStatuses:c,managedByPluginButUserEditable:!1})}}function i0(e,t,o,r,i){let n=`${o.id}_placeholder`;if(W(o.formInputPlaceholder)){if(U(o.formInputPlaceholder)||!wt(e,o,"formInputPlaceholder"))return;eu(t,o,o.formInputPlaceholder,n,o.id,r,i);return}if(!o.formInputPlaceholder||!wt(e,o,"formInputPlaceholder"))return;let a=$e(o.formInputPlaceholder),l=o.formInputPlaceholderLocalized??it;i.push({keyPath:n,type:"FormPlainTextInputNode",nodeId:o.id,scopeId:t.id,value:o.formInputPlaceholder,valueWordCount:At(o.formInputPlaceholder),hash:$e(o.formInputPlaceholder),localizedValues:l,localizedValueStatuses:xt(o.formInputPlaceholder,r,l,a),managedByPluginButUserEditable:!1})}function CF(e,t,o,r,i,n){G(o)&&gF(e,t,o,r,i),De(o)&&YH(e,t,o,r,i,n),(_(o)||G(o))&&o0(e,t,o,r,i),Pe(o)&&e0(e,t,o,r,i),(Li(o)||Ae(o))&&yF(t,o,r,i),Kl(o)&&i0(e,t,o,r,i),Yl(o)&&r0(t,o,r,i)}var SF=(e,t)=>t?`${e.update}-${t.update}`:e.update.toString();function Pl(e,t,o,r,i,n,a){if(t.mutable||o?.mutable)return;let l=t.cache.localizationSourceGroup;if(l&&!(l.update!==SF(t,o)||l.componentHash!==i||l.locales!==r||l.parentVariables!==n||!Qr(l.subGroups,a))&&!(Fs(e,t)&&l.includedLocales!==t.includedLocales))return l}function wl(e,t,o,r,i,n,a,l){t.mutable||o?.mutable||(t.cache.localizationSourceGroup={update:SF(t,o),locales:i,componentHash:n,parentVariables:a,group:r,includedLocales:Fs(e,t)?t.includedLocales:void 0,subGroups:l})}function n0(e,t,o,r,i,n){let a=je.isOn("localizedPagePathsInLocalizationTable");if(TF(e,t)&&a)return;let l=n==="canvasHtmlAsTextContentIfPossible";if(l){let u=Pl(e,t,void 0,o,r,ni,void 0);if(u){u.group&&i.push(u.group);return}}let s=[];for(let u of t.walk())CF(e,t,u,o,s,n);let c=Fs(e,t),d;if(s.length>0){let u=G(t)?xl(e,t):t.resolveValue("name")??"Unknown";!a&&G(t)&&t.abTestingParentId&&(u=`${u} \xB7 ${t.resolveValue("name")||$r(t)}`),d={type:"sourceGroup",name:u,groupType:G(t)?"page":Ee(t)?"template":"component",nodeId:t.id,supportsLocaleVisibility:c,includedLocaleIds:c?Cd(e,t):void 0,items:s},i.push(d)}l&&wl(e,t,void 0,d,o,r,ni,void 0)}function Vl(e,t,o){return o?`${e}.${t}.${o}`:`${e}.${t}`}function a0(e){return e.type!=="rich-text"?e.value.length:Va(e.value).length}function wg(e,t,o){let r=o.required,i=o.type==="link"?void 0:o.options?.maxLength;if(!r&&!X(i))return;let n={};for(let a of e){let l=t[a.id];if(!Cs(l))continue;let s=a0(l);r&&s===0?n[a.id]=sF(o.name):X(i)&&s>i&&(n[a.id]=lF(s,i))}return n}function vF(e,t,o,r){let i={};for(let n of e){let a=t[n.id];if(!Cs(a))continue;let s=o[n.id]?.get(a.value);s&&s>1&&(i[n.id]=r)}return i}function s0(e,t,o,r,i,n,a,l){let s=i.type;switch(s){case"string":{if(oc(i))return;let c;if(a){if(a.type!==s||!k(a.value))return;c=a.value}else{if(BC(i))return;c=i.initialValue}let d=$e(c),u=a?.valueLocalized??it,f=wg(o,u,i),y=xt(c,o,u,d,f);return{type:"string",keyPath:Vl(t,n,r),nodeId:t,scopeId:e,controlPropKey:n,controlPropName:i.name,ancestorControlKeyPath:r,value:c,valueWordCount:At(c),hash:d,localizedValues:u,localizedValueStatuses:y,managedByPluginButUserEditable:i.userEditable??!1,warnings:f}}case"link":{if(!a||a.type!==s||!Pr(a.value)||!je.isOn("localizedLinks"))return;let c=a.value.url,d=$e(c),u=a?.valueLocalized??it,f=wg(o,u,i),y=xt(c,o,u,d,f);return{type:"link",keyPath:Vl(t,n,r),nodeId:t,scopeId:e,controlPropKey:n,controlPropName:i.name,ancestorControlKeyPath:r,value:c,valueWordCount:c?1:0,hash:d,localizedValues:u,localizedValueStatuses:y,managedByPluginButUserEditable:i.userEditable??!1,warnings:f,aiTranslationDisabled:!0}}case"slug":{if(!a)return;C(a.type==="string","expected slug controlType to be a string"),C(k(a.value),"expected slug value to be a string");let c=a.value,d=$e(c),u=a?.valueLocalized??it,f=vF(o,u,l,"Each item in the Collection must have a unique slug"),y=xt(c,o,u,d,f,ou(u));return{type:"slug",keyPath:Vl(t,n,r),controlPropKey:n,controlPropName:i.name,ancestorControlKeyPath:r,nodeId:t,scopeId:e,value:c,valueWordCount:At(c),hash:d,localizedValues:u,localizedValueStatuses:y,managedByPluginButUserEditable:i.userEditable??!1,warnings:f}}case"richtext":{let c;if(oc(i))return;if(a){if(a.type!==s||!k(a.value))return;c=a.value}else c=i.initialValue;let d=$e(c),u=a?.valueLocalized??it,f=wg(o,u,i),y=xt(c,o,u,d,f);return{type:"richtext",keyPath:Vl(t,n,r),nodeId:t,scopeId:e,controlPropKey:n,controlPropName:i.name,ancestorControlKeyPath:r,value:c,valueWordCount:At(c,!0),hash:d,localizedValues:u,localizedValueStatuses:y,managedByPluginButUserEditable:i.userEditable??!1,warnings:f,contentType:i.type==="richtext"?i.contentType:void 0}}case"image":{let c;if(a){if(a.type!==s||!k(a.value))return;c=a.value}else{if(!k(i.initialValue))return;c=i.initialValue}let d=$e(c),u=a?.valueLocalized??it,f=a?.alt??va,y=$e(f),v=a?.altLocalized??it,b=xt(f,o,v,y,void 0,kg(c,u,d));return{type:"image",keyPath:Vl(t,n,r),nodeId:t,scopeId:e,controlPropKey:n,controlPropName:i.name,ancestorControlKeyPath:r,value:f,valueWordCount:At(f),hash:y,localizedValues:v,localizedValueStatuses:b,supportsAlt:!0,image:c,imageHash:d,imageLocalizedValues:u,managedByPluginButUserEditable:i.userEditable??!1,supportsFocalPoint:!0,positionX:a?.positionX,positionY:a?.positionY}}case"enum":return;default:}}function l0(e,t,o,r,i){let n=t.id;function a(l,s,c,d=void 0){if(s&&s.type==="array"){if(c.type!=="array"||W(s.value))return;for(let f of s.value){if(!tu(f.type)||!fs(f)||!f.value)continue;let y=Nl(d,f.id);for(let v of c.itemVariables){let b=f.value[v.id];if(!b||!tu(b.type))continue;let V=rn(y,v.id);a(l,b,v,V)}}}if(!mF(c))return;let u=s0(n,t.id,o,d,c,l,s,i);u&&r.push(u)}for(let l of e.variables){if(l.type==="divider")continue;let s=t.getControlProp(l.id);a(l.id,s,l)}}function c0(e,t,o,r,i,n){let a=Pl(e,o,void 0,r,gn,t.variables,void 0);if(a){a.group&&n.push(a.group);return}let l=[],s=Cd(e,o);if(l0(t,o,r,l,i),l.length>0){for(let d of l)d.insetLevel=1;let c={type:"sourceGroup",groupType:"collectionItem",collectionName:t.resolveValue("name")??"Unknown",collectionNodeId:t.id,supportsLocaleVisibility:!0,includedLocaleIds:s,name:Ea(t,o)??"Unknown",nodeId:o.id,items:l};wl(e,o,void 0,c,r,gn,t.variables,void 0),n.push(c)}}function d0(e,t,o,r){let i=o.name,n=$e(i),a=o.nameLocalized??it,l=xt(i,r,a,n);return{type:"enum",keyPath:`${e.id}_${t.id}_${o.id}`,nodeId:e.id,scopeId:e.id,variableId:t.id,enumCaseId:o.id,value:i,valueWordCount:At(i),hash:n,localizedValues:a,localizedValueStatuses:l,managedByPluginButUserEditable:!1}}function p0(e,t,o,r){let i=[],n=u0(o,t);for(let d of t.getUnsortedChildren())c0(e,t,d,o,n,i);let a=Pl(e,t,void 0,o,gn,ni,i);if(a){a.group&&r.push(a.group);return}let l=t.variables.filter(mF);if(l.length===0)return;let s=[];for(let d of l){let u=d.type;switch(u){case"enum":{if(oc(d))break;for(let f of d.cases)s.push(d0(t,d,f,o));break}case"string":case"richtext":case"image":case"link":case"slug":break;default:}}let c=s.length>0||i.length>0?{type:"sourceGroup",groupType:"collection",name:t.resolveValue("name")??"Unknown",nodeId:t.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:s,groups:i}:void 0;wl(e,t,void 0,c,o,gn,ni,i),c&&r.push(c)}function u0(e,t){let o={};for(let i of e)o[i.id]=new Map;let r=t.getSlugVariable();if(!r)return o;for(let i of t.getUnsortedChildren()){let n=i.getControlProp(r.id);if(n&&(C(n.type==="string","expect slug control type to be be of type string"),C(k(n.value),"expected slug control prop value to be string"),!!n.valueLocalized))for(let a in n.valueLocalized){let l=n.valueLocalized[a],s=o[a];if(!s||!l?.value)continue;let c=(s.get(l.value)??0)+1;s.set(l.value,c)}}return o}function m0(e,t,o){let r=e.getParent(o.id)?.children??[],i={};for(let n of t)n.id!==Lu&&(i[n.id]=new Map);for(let n of r){if(!ls(n))continue;let{segment:a,segmentLocalized:l}=n;for(let s of t){if(s.id===Lu)continue;let d=oS(s,l)?.value??a,u=i[s.id];if(!u)continue;let f=(u.get(d)??0)+1;u.set(d,f)}}return i}function f0(e,t,o){let r=Pl(e,e.root,void 0,t,gn,ni,void 0);if(r){r.group&&o.push(r.group);return}let i=[];gF(e,e.root,e.root,t,i);let n=i.length>0?{type:"sourceGroup",groupType:"settings",name:"Site Settings",nodeId:e.root.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:i}:void 0;wl(e,e.root,void 0,n,t,gn,ni,void 0),n&&o.push(n)}function h0(e,t,o,r){for(let i of t.children)p0(e,i,o,r)}function g0(e,t,o,r,i,n){if(o.dataIdentifier||hC.has(o.segment))return;let a=$e(o.segment),l=o.segmentLocalized??it,s=vF(r,l,m0(e,i,o),"Sibling pages must have unique slugs");n.push({keyPath:o.id,type:"RouteSegmentNode",nodeId:o.id,scopeId:t.id,value:o.segment,valueWordCount:At(o.segment),hash:$e(o.segment),localizedValues:l,localizedValueStatuses:xt(o.segment,r,l,a,s,ou(l)),managedByPluginButUserEditable:!1,warnings:s})}function y0(e,t,o,r,i,n){let a=FS(e,"includeDrafts"),l=new Set;for(let s of t.walk())ls(s)&&C0(e,s,o,a,r,i,n,l)}function C0(e,t,o,r,i,n,a,l){let s=je.isOn("localizedPagePathsInLocalizationTable"),c=t.webPageId?e.get(t.webPageId):void 0,d=G(c)&&c.isLoaded()?c:null,u=c&&l.has(c.id),f=s&&d||t,y=f===d?t:void 0,v=Pl(e,f,y,o,i,ni,void 0);if(v){v.group&&n.push(v.group);return}let b=[];if(je.isOn("localizedPagePaths")&&(g0(e,f,t,o,r,b),s&&c&&!u)){for(let M of c.walk())CF(e,f,M,o,b,a);l.add(c.id)}let V,L=G(c)?xl(e,c):Fa(Pg(t,e));G(f)&&f.abTestingParentId&&(L=`${L} \xB7 ${f.resolveValue("name")||$r(f)}`),t.segment===""&&(L=`${L} /`);let A=Fs(e,f);b.length>0&&(V={type:"sourceGroup",name:L,groupType:"page",nodeId:f.id,supportsLocaleVisibility:A,includedLocaleIds:A?Cd(e,f):void 0,items:b},n.push(V)),wl(e,f,y,V,o,i,ni,void 0)}function fNe(e,t,o,r){let i=[];if(!t||t.length===0)return i;f0(e,t,i);let n=je.isOn("localizedPagePathsInLocalizationTable");for(let a of e.root.children)TF(e,a)&&n||(nF(a)&&(C(a.isLoaded(),"Scope node must be fully loaded"),n0(e,a,t,o,i,r)),Di(a)&&(C(a.isLoaded(),"Scope node must be fully loaded"),h0(e,a,t,i)),cC(a)&&y0(e,a,t,o,i,r));return i}function TF(e,t){return G(t)&&t.id!==e.root.homePageNodeId}function hNe(e,t){return xr(e,t)}function gNe(e,t){return Qr(e,t)}function bF(e,t){let o=e.itemVariables.length===1&&e.itemVariables[0]?.type==="image"?e.itemVariables[0]:void 0,r=m`item`,i={[fi]:m`typeof ${r}?.[${fi}] === "string" ? ${r}[${fi}] : undefined`};for(let a of e.itemVariables){let l=Hl(a.name);l?i[a.id]=m`${r}?.[${l}] ?? ${r}?.[${a.id}]`:i[a.id]=m`${r}?.[${a.id}]`}let n=t.bindings.create("arrayFromHumanReadable"+e.id);return t.declarations.file.create(m.joinLines(m`const ${n} = (value) => {${m.joinLines(m`if (!Array.isArray(value)) return`,m`return value.map(${r} => {${m.joinLines(o?m`if (typeof ${r} === "string") return { [${o.id}]: ${r} }`:void 0,m`return ${i}`)}})`)}}`)),n}function S0(e){return[e[1],e[0]]}var v0=new Map(Object.entries(we).map(S0));function IF(e,t){let o=t.addImport("framer",{exportSpecifier:"ControlType"}),r=v0.get(e),i=new x(r);return m`${o}.${i}`}var T0={boolean:"boolean",number:"number",string:"string",richtext:"string",fusednumber:"any",enum:"string",segmentedenum:"string",color:"string",image:"string",responsiveimage:"{src: string; srcSet?: string; alt?: string}",file:"string",componentinstance:"any",slot:"any",array:"any[]",eventhandler:"any",transition:"Record<string, any>",link:"string",linkrelvalues:"string[] | undefined",pagescope:"string",date:"string",object:"Record<string, any>",font:"Record<string, any> | undefined",scrollsectionref:"React.MutableRefObject<HTMLElement>",customcursor:"string",border:"Record<string, any>",cursor:"string",boxshadow:"string",gap:"string",padding:"string",borderradius:"string",collectionreference:"string | undefined",multicollectionreference:"string[] | undefined",trackingid:"string | undefined",vectorsetitem:"React.ComponentType<any> | undefined"};function b0(e){return e?new x(T0[e]):m`any`}var NF="variant";function I0(e){return!E(e?.defaultValue)}function N0(e,t){if(!ne(e))return{};C(e.isLoaded(),"Node must be loaded to generate controls");let o=e.getTopLevelVariants();if(o?.length<2)return{};let r=[],i=[];for(let n of o){let a=n.resolveValue("name")??$r(n);r.push(n.id),i.push(a)}return{[NF]:{type:IF("enum",t),title:"Variant",options:r,optionTitles:i}}}function x0(e,t,o,r,i){if(e.type==="responsiveimage"&&rs(e)&&os(e.__vekterDefault)){let{assetReference:n,alt:a}=e.__vekterDefault,l=o.assets.resolveResponsiveImage(n,{focalPoint:e.__vekterDefault});return l&&k(a)&&(l.alt=a),l}else if(sa(e))switch(e.type){case"responsiveimage":{let n=o.assets.resolveResponsiveImage(e.__defaultAssetReference);return n||void 0}case"file":{let n=o.assets.resolve(e.__defaultAssetReference);return n?n.src:void 0}}else{if(t?.type==="array")return t.initialValue?t.initialValue.map(n=>{let a={};if(!n||n.type!=="object"||!Re(n.value))return a;for(let l in n.value){let s=n.value[l];if(!s||s.type!=="image"||!k(s.value))continue;let c=o.assets.resolveResponsiveImage(s.value,{focalPoint:s});c&&(c.alt=s.alt??"",a[l]=c)}return a}):[];if(I0(e)){let n=e.defaultValue;if(e.type==="vectorsetitem")return C(AC(n),"Vector set item must be a module export identifier"),o.imports.addModuleImport(n.identifier);if(e.type==="richtext"&&k(n))return _i(n,{collectors:o,useFramerMotion:r==="SmartComponent"});if(e.type==="boxshadow"&&Zv(n))return Kv(n,"emptyStringWhenEmpty",a=>hn(a)?ms(a):aa.toFormatString(a));if(Bt(n))return hn(n)?ms(n):n}}}function ru(e,t){return m`${e}?: ${t};`}var xF=["id","width","height"],V0=Object.fromEntries(xF.map(e=>{let t=new x(e);return[t,t]}));function P0(e,t){let o=new K(e);return K.addSpreadAtEnd(o,t),o}var VF=[{name:te.style,type:m`Record<string, unknown>`},{name:te.className,type:m`string`},{name:te.layoutId,type:m`string | number`}];function w0(e,{declarations:t}){if(!ne(e)&&!G(e)&&!Ee(e)&&!vo(e))return[];C(e.isLoaded(),"Node must be loaded to generate default values and types");let o=VF.map(({name:l,type:s})=>({key:me(l),type:ru(l,s)})),r=Sn(e)?e.getTopLevelVariants():[],i=me(te.variant);if(r.length<2)return o.concat({key:i});C(Sn(e),"A scope with more than 1 variants must have replica variants.");let n=new K;for(let l of r)n[l.resolveValue("name")??$r(l)]=l.id;let a=t.file.dedupe("humanReadableVariantMap",n);return o.concat([{key:i,type:ru(te.variant,m`keyof typeof ${a}`),value:m`${a}[props.${te.variant}] ?? props.${te.variant} ?? ${e.baseVariantId}`}])}function Rg(e,t,o){let r=m`props.${new x(e)}`;return t&&(r=m`${t} ?? ${r}`),o&&(r=m`${r} ?? ${o}`),r}function PF(e,{treeStore:t}){if(!G(e)||!Ec(t.tree,e))return;if(!je.isOn("urlVariables")){let n=ce(e.dataIdentifier);if(!Ge(n))return}let r=e.getVariableDefinitions(t.tree,O,O.activeBundleHash);if(!r||r.length===0)return;let i=new Map;for(let n of r)G(e)&&e.hasVariable(n.id)||i.set(n.id,n);return i}var k0=[...Bv,NF,...xF,...VF.map(({name:e})=>e.toString()),"name"];function R0(e,t,o,r,i,n){let a=new Set(k0),l=Object.entries(e).map(([A,{control:M,variable:H,binding:re}])=>{if(!M)return{key:A,binding:re};let le=Fc(Hl(M.title)??A,a),be=new x(le),se=x0(M,H,r,i,n),Fe=ru(be,b0(M.type)),Q;if(M.type==="enum"&&M.options&&M.optionTitles&&be){let _e=new K;M.options.forEach((Z,Rt)=>{if(!k(Z)||!M.optionTitles)return;let lt=M.optionTitles[Rt];k(lt)&&(_e[lt]=Z)});let Xe=r.declarations.file.dedupe("humanReadableEnumMap",_e);Fe=ru(be,m`keyof typeof ${Xe}`),Q=Rg(A,be,se),Q=m`${Xe}[${be}] ?? ${Q}`}else if(H?.type==="array"){let _e=bF(H,r),Xe=x.fn(_e,be);Q=Rg(A,Xe,se)}else Q=Rg(A,be,se);return{key:A,binding:re,name:le,type:Fe,value:Q}}),s="",c=[],d=[],u=new K,f=PF(t,o),y={},v={...V0};for(let{key:A,binding:M,type:H,value:re,name:le}of[...w0(t,r),...l]){let be=f?.get(A),se=M??new x(A);if(be){let Fe=m`${se} = ${te.getFromCurrentRouteData}(${be.id})`;if(Uy(be.type)){let Q=Fr(be.type);Bt(Q)&&(Fe=m`${Fe} ?? ${Q}`)}c.push(Fe)}else{let Fe=r.variables.getSetterBinding(A);if(Fe){let Q=r.bindings.create(`external${A}`),_e=r.bindings.create(`previous${A}`),Xe=r.bindings.create(`setPrevious${A}`);c.push(m`${A}: ${Q}`),d.push(m.joinLines(m`const [${se}, ${Fe}] = React.useState(${Q})`,m`const [${_e}, ${Xe}] = React.useState(${Q})`,m`if (${Q} !== ${_e}) {${m.joinLines(x.fn(Fe,Q),x.fn(Xe,Q))}}`))}else me(se)!==A?c.push(m`${A}: ${se}`):c.push(se)}H&&(s+=H),re&&(u[A]=re),le&&(y[A]=le,v[le]=new x(le))}i==="LayoutTemplate"&&c.push(te.children),i==="DesignPage"&&c.push(te.style),K.addSpreadAtStart(u,te.props);let b=r.declarations.file.dedupe("getProps",m`(${P0(v,te.props)}) => { return ${u} }`),V=c.join(", "),L=V.length>0?new x(`{ ${V}, ...${te.restProps} }`):te.restProps;return{variableMap:Lt(y)?void 0:y,types:new x(s),props:m.joinSections(m`const ${L} = ${x.fn(b,te.props)}`,...d)}}function D0(e,t,o){let r=[],i=vo(e),n=wF(e),a=o.getBindings(e.id);for(let s of n){if(!ii(s))continue;let c=a.get(s.id);!i&&!c||r.push({id:s.id,binding:c,definition:s})}let l=PF(e,t);if(l)for(let[s]of l){let c=a.get(s);c&&r.push({id:s,binding:c})}return r}function L0(e,t){let{hidden:o,...r}=e;if(!t)return r;let{description:i,...n}=r;return n}function F0(e,t,o,{treeStore:r},{imports:i,variables:n},a,l){let{id:s,type:c}=t;switch(c){case"controlReference":{let d=ce(zC(r.tree,t.entityIdentifier));if(!d||!t.entityIdentifier||!Ge(d))return;let u=i.addModuleImport(d,{composeWithImports:[i.addImport("framer",{exportSpecifier:"getPropertyControls"})]});if(!u)return;let f=new K({hidden:m`undefined`,description:m`undefined`});return K.addSpreadAtStart(f,m`${u}[${t.controlKey}]`),k(o.title)&&(f.title=o.title),k(o.description)&&(f.description=o.description),o.type==="responsiveimage"&&rs(o)&&os(o.__vekterDefault)&&(f[Cy]=x.fromValue(o.__vekterDefault)),sa(o)?f[yy]=x.fromValue(o.__defaultAssetReference):E(t.initialValue)||(f.defaultValue=x.fromValue(t.initialValue)),m`${u}?.[${t.controlKey}] && ${f}`}case"nodePropertyControlReference":case"array":case"vectorsetitem":case"boolean":case"color":case"date":case"enum":case"eventhandler":case"file":case"image":case"link":case"linkrelvalues":case"number":case"richtext":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"string":case"border":case"borderradius":case"gap":case"padding":case"collectionreference":case"multicollectionreference":case"trackingid":case"slug":{let d={...L0(o,a),type:IF(o.type,i)};return l==="vector"&&n&&(d.hidden=!n.getBinding(e.id,s)),d}default:j(c)}}function wF(e){return pr(e)?e.variables:[]}function E0(e,t,o,r,i=wF(e)){let n=N0(e,o.imports),a=tc(e),l=[...i];if(Jt(e)){let s=jC();l.push(s);let c=UC();l.push(c);let d=$C(e);l.push(d);let u=_C(e);l.push(u)}for(let s of l){if(!ii(s))continue;let c=hs(t.treeStore.tree,O,s);if(nt(c))continue;C(c.type!=="image","Image variables should become responsive images");let d=F0(e,s,c,t,o,a,r);E(d)||(n[s.id]=d)}if(!Lt(n))return new K(n,1)}function QNe(e,t,o,r,i,n){let a={},l=[];for(let{id:s,binding:c,definition:d}of D0(e,t,o.variables)){if(d&&G(e)&&e.hasVariable(d.id))continue;let f=d?hs(t.treeStore.tree,O,d):void 0;a[s]={control:f??void 0,variable:d,binding:c},d&&l.push(d)}return{propertyControls:E0(e,t,o,i,l),...R0(a,e,t,o,r,n)}}async function ixe(e,t){let o=[];e.forEach(r=>{let i=ce(r);i&&i.kind==="externalModuleExport"&&o.push(i)}),o.length&&await t.preloadExternalModules(o),await Jd(O,e,t)}function cxe(e){let t={};for(let[o,r]of e)RF(t,o,r);return t}function dxe(e,t,o){return rf(e,r=>{RF(r,t,o)})}function pxe(e,t){return e[t]?rf(e,o=>{let r=o[t];if(r){for(let i of r.dependents){let n=o[i];n&&(n.dependencies.delete(t),iu(n)&&delete o[i])}for(let i of r.dependencies){let n=o[i];n&&(n.dependents.delete(t),iu(n)&&delete o[i])}delete o[t]}}):e}function uxe(e,t,o,r,i){let n=new Set,a=[t];for(r=r||new Set,i=i||new Set;a.length>0;){let l=a.pop();if(!l||n.has(l))continue;n.add(l);let s=e[l];if(s){if(r.has(l))i.add(l);else if(!r.size)o.add(l);else{let c=!1;for(let d of s.dependents)if(r.has(d)||i.has(d)){c=!0;break}c?i.add(l):o.add(l)}for(let c of s.dependents)n.has(c)||a.push(c)}}}function mxe(e,t){let o=new Set,r=[t];for(;M0(r);){let i=r.shift(),n=e[i];if(n){for(let a of n.dependents)o.has(a)||(o.add(a),r.push(a));if(o.has(t))return!0}}return!1}function A0(e,t){let o=Lc(e,t);if(o)return o.startsWith("collection")&&!t.startsWith("collection")&&!t.startsWith("draftCollection")?o.replace("collection","draftCollection"):o}function RF(e,t,o){let r=e[t];if(!r){if(o.length===0)return;r=kF(e,t)}let i=new Set(r.dependencies);for(let n of o){let a=A0(n,t);if(!a)continue;r.dependencies.add(a);let l=e[a];l||(l=kF(e,a)),l.dependents.add(t),r.dependencies.add(a),i.delete(a)}for(let n of i){let a=e[n];a&&(a.dependents.delete(t),iu(a)&&delete e[n])}iu(r)&&delete e[t]}function iu(e){return e.dependents.size===0&&e.dependencies.size===0}function kF(e,t){let o={dependents:new Set,dependencies:new Set};return e[t]=o,o}function M0(e){return e.length>0}var O0=1;function z0(e){return e==="screen"||e==="canvasComponent"}function W0(e){let t=e.metadata.compatibleCmsVersion;return X(t)?t:0}function B0(e){let t=Wv(e);return e.imports.relative.some(o=>{let r=Lc(o,t);return k(r)&&r.startsWith("collection")})}function H0(e){return z0(e.type)&&B0(e)}function Sxe(e){return H0(e)&&W0(e)<O0}export{MV as a,VG as b,eE as c,Xs as d,oE as e,FG as f,Ur as g,gj as h,If as i,Nf as j,yj as k,iP as l,OV as m,p$ as n,js as o,u$ as p,uE as q,m$ as r,f$ as s,h$ as t,g$ as u,y$ as v,Vj as w,nP as x,Cr as y,Pj as z,wj as A,kj as B,Rj as C,Dj as D,BE as E,Lj as F,lP as G,xf as H,Mn as I,_j as J,jj as K,GE as L,Pd as M,tU as N,oU as O,rU as P,Vf as Q,iU as R,Pf as S,wd as T,vU as U,XE as V,TU as W,bU as X,La as Y,pP as Z,RU as _,b$ as $,HV as aa,uP as ba,GV as ca,hP as da,$V as ea,$$ as fa,hf as ga,mf as ha,Us as ia,O$ as ja,z$ as ka,ff as la,bd as ma,W$ as na,_V as oa,gf as pa,fE as qa,Js as ra,Z$ as sa,jV as ta,n_ as ua,UV as va,a_ as wa,s_ as xa,l_ as ya,c_ as za,d_ as Aa,p_ as Ba,h_ as Ca,YE as Da,qE as Ea,yP as Fa,Rd as Ga,nJ as Ha,Y as Ia,Dd as Ja,SP as Ka,vP as La,QE as Ma,NP as Na,kf as Oa,j1 as Pa,Ld as Qa,dX as Ra,Fd as Sa,pX as Ta,uX as Ua,mX as Va,fX as Wa,wP as Xa,y_ as Ya,C_ as Za,XV as _a,TE as $a,Id as ab,pA as bb,EX as cb,AX as db,MX as eb,OX as fb,FP as gb,Df as hb,Ad as ib,On as jb,Fa as kb,zP as lb,_Z as mb,jZ as nb,UZ as ob,VA as pb,PA as qb,Lf as rb,Ea as sb,JZ as tb,XZ as ub,ZZ as vb,KZ as wb,YZ as xb,kA as yb,qZ as zb,QZ as Ab,eK as Bb,tK as Cb,oK as Db,rK as Eb,HP as Fb,GP as Gb,ZV as Hb,jP as Ib,VK as Jb,PK as Kb,wK as Lb,kK as Mb,qK as Nb,QK as Ob,KP as Pb,Wd as Qb,Bd as Rb,gY as Sb,qP as Tb,yY as Ub,QP as Vb,xY as Wb,VY as Xb,Hd as Yb,HA as Zb,Pq as _b,zn as $b,Jd as ac,KV as bc,V_ as cc,Nd as dc,dw as ec,pw as fc,uw as gc,Jq as hc,Xq as ic,Zq as jc,Kq as kc,mw as lc,wE as mc,oj as nc,rj as oc,Vo as pc,Ys as qc,yw as rc,rQ as sc,qs as tc,pM as uc,fQ as vc,hQ as wc,gQ as xc,yQ as yc,CQ as zc,VQ as Ac,Sw as Bc,gM as Cc,PQ as Dc,Z4 as Ec,K4 as Fc,Lw as Gc,woe as Hc,hp as Ic,Gn as Jc,_n as Kc,bp as Lc,Ip as Mc,xp as Nc,qk as Oc,Qk as Pc,nR as Qc,Jr as Rc,ll as Sc,rD as Tc,Ode as Uc,kp as Vc,Zn as Wc,lpe as Xc,aD as Yc,sD as Zc,cD as _c,dD as $c,Ppe as ad,$pe as bd,pD as cd,mD as dd,vh as ed,Fp as fd,hD as gd,Oz as hd,yD as id,CD as jd,Hz as kd,SD as ld,RD as md,wh as nd,ea as od,zhe as pd,zB as qd,ige as rd,nge as sd,bL as td,IL as ud,VL as vd,vge as wd,Tge as xd,bge as yd,Ige as zd,Nge as Ad,PL as Bd,nye as Cd,BB as Dd,aye as Ed,kL as Fd,Sye as Gd,vye as Hd,RL as Id,Tye as Jd,DL as Kd,FL as Ld,Qye as Md,Cg as Nd,YB as Od,eCe as Pd,tCe as Qd,oCe as Rd,Tl as Sd,EL as Td,bl as Ud,yg as Vd,rCe as Wd,iCe as Xd,nCe as Yd,aCe as Zd,QB as _d,sCe as $d,lCe as ae,ML as be,OL as ce,kCe as de,RCe as ee,WL as fe,HL as ge,GL as he,PH as ie,qL as je,RH as ke,eF as le,Vg as me,jTe as ne,oF as oe,Vbe as pe,Pbe as qe,wbe as re,kbe as se,Rbe as te,xl as ue,zH as ve,nF as we,Hbe as xe,Gbe as ye,$be as ze,WH as Ae,aF as Be,sF as Ce,lF as De,Xbe as Ee,Zbe as Fe,Kbe as Ge,rn as He,Nl as Ie,ETe as Je,nIe as Ke,dF as Le,iNe as Me,nNe as Ne,aNe as Oe,sNe as Pe,lNe as Qe,JH as Re,cNe as Se,dNe as Te,pNe as Ue,uNe as Ve,XH as We,mNe as Xe,qH as Ye,Qp as Ze,CF as _e,Vl as $e,s0 as af,l0 as bf,d0 as cf,u0 as df,h0 as ef,fNe as ff,hNe as gf,gNe as hf,ixe as if,cxe as jf,dxe as kf,pxe as lf,uxe as mf,mxe as nf,O0 as of,z0 as pf,W0 as qf,H0 as rf,Sxe as sf,IF as tf,k0 as uf,E0 as vf,QNe as wf};
//# sourceMappingURL=https://app.framerstatic.com/chunk-QK7RZANV.mjs.map

import{i as m,p as l}from"https://app.framerstatic.com/chunk-NEFK4M7X.mjs";import{a as p}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as c}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";function f(){return m(window)?.override!=="tunnel"?null:document.cookie.match(/\btunnel=([^;]*)/)?.[1]||null}var d={app:"127.0.0.1",canvas:"127.0.0.1",https:!1},u={app:"localhost",canvas:"localhost",https:!1},g={app:"web.framerlocal.com",canvas:"web.framerlocal.com",https:!1},x=[{app:"development.framer.com",canvas:"framercanvas.dev",https:!0},{app:".development.framer.com",canvas:".framercanvas.dev",https:!0},{app:".framer.com",canvas:".framercanvas.com",https:!0},{app:"framer.com",canvas:"framercanvas.com",https:!0},g,d,u],h=!1;function v(t,o){for(let n of x){let e=n[t];if(o===e)return n;if(e.startsWith(".")&&o.endsWith(e))return n}}function D(t){let o=window.location,n=new URL(t,o.href);if(n.origin!==o.origin)throw Error(`Domain lookup requires relative paths. Received ${t}`);let e=v("app",o.hostname);if(!e||e.https&&n.protocol!=="https:")throw Error(`Running on unknown app domain: ${n}`);let a;try{a=new URL(c().canvas).hostname}catch{}let r=a?n.hostname:e.app,i=a??e[h?"app":"canvas"];n.hostname.endsWith(r)&&(n.hostname=n.hostname.slice(0,-r.length)+i);let s=f();s?n.searchParams.set("tunnel",s):new URLSearchParams(o.search).get("tunnel")===""&&n.searchParams.set("tunnel","");let w=l.get("prototypeTreeDriver");return n.searchParams.set("experiment",`prototypeTreeDriver=${w}`),{url:n.href,origin:n.origin,isCrossOriginProtected:r!==i}}function R(t){if(navigator.userAgent.indexOf("FramerCommand")!==-1)return;let o=window.location,{origin:n,isCrossOriginProtected:e}=D(t),a=o.hostname===d.app,r=o.hostname===u.app,i=o.hostname===g.app;p(e||(a||r||i||h),`Attempt to create unsafe sandboxed app for origin: ${n} on page with origin: ${o.origin}`)}function S(t){if(!t)return{origin:"*"};let o=window.location,n=new URL(t),e=v("app",n.hostname);return p(n&&n.protocol===o.protocol&&e,`Attempt to create secure link from sandboxed app (${o.href}) to unknown editor domain (${t})`),{origin:n.origin}}export{f as a,h as b,D as c,R as d,S as e};
//# sourceMappingURL=https://app.framerstatic.com/chunk-Q5MITPIS.mjs.map

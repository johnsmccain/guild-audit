import{a as ze}from"https://app.framerstatic.com/chunk-IHOAENGB.mjs";import{J as xe}from"https://app.framerstatic.com/chunk-7HHNHA26.mjs";import{a as G}from"https://app.framerstatic.com/chunk-X7PME7OH.mjs";import{a as je}from"https://app.framerstatic.com/chunk-YOFBDBTL.mjs";import{Ke as Me,Le as We,Oe as De,Pe as Se,Xe as Le,Ye as Ne,ef as Be,ff as Fe,hf as He,if as Ve,jf as Ae,ug as ie,vg as Ke,wg as se}from"https://app.framerstatic.com/chunk-TZIRDX3J.mjs";import{a as k}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{B as ve,ga as Ie,hr as ne,ir as F}from"https://app.framerstatic.com/chunk-A3XCEWME.mjs";import{d as re}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{b as oe}from"https://app.framerstatic.com/chunk-GO7WVIKP.mjs";import{a as $e}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{i as Ce}from"https://app.framerstatic.com/chunk-2E2TF6K3.mjs";import{b as K,d as R,e as ke,i as Oe,k as te}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as L,b as T,ce as Ee,i as he}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as Te}from"https://app.framerstatic.com/chunk-SALNC65Q.mjs";import{e as h,j as a,k as w,l as ge,m as ee}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var W=h(L());var ae=h(L());function yt(o){try{return K(o)?JSON.parse(o):null}catch{return null}}function Pe(o,t){let e=localStorage.getItem(o),n=yt(e);return t(n)?n:null}function Jt(o,t){let[e]=(0,ae.useState)(()=>Pe(o,t)),n=(0,ae.useCallback)(r=>{let s=JSON.stringify(r);localStorage.setItem(o,s)},[o]);return[e,n]}var V=h(L());var Ue="wuk326o",Xe="n283lgw",Ye="pue1ity";var O=h(T()),Ge=.1,H=Ce.panelPadding,we=9999999999999;function Tt(o,t){let r=t.width-o.width,s=t.height-o.height;return{minX:0,minY:0,maxX:r,maxY:s}}function Ze(o){let t=o.trim(),e=parseInt(t);return R(e)?t.endsWith("%")?{value:e,unit:"%"}:t.endsWith("px")?{value:e,unit:"px"}:null:null}var Z=class extends V.default.Component{constructor(){super(...arguments);a(this,"containerRef",V.default.createRef());a(this,"contentWrapperRef",V.default.createRef());a(this,"setContainerRefs",e=>{this.containerRef.current=e;let{containerRef:n}=this.props;n&&(n.current=e)});a(this,"setContentWrapperRefs",e=>{this.contentWrapperRef.current=e;let{contentWrapperRef:n}=this.props;n&&(n.current=e)});a(this,"hasMoved",!1);a(this,"dragStartRect",null);a(this,"getConstraintsRect",()=>{let e=this.containerRef.current;return e?e.getBoundingClientRect():null});a(this,"getWindowRect",()=>{let e=this.getConstraintsRect();if(!e)return null;let n=this.contentWrapperRef.current;if(!n)return null;let r=n.getBoundingClientRect();return{x:r.left-e.x,y:r.top-e.y,width:r.width,height:r.height}});a(this,"onDragStart",e=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});a(this,"onDrag",e=>{if(!this.dragStartRect)return;let n=this.getWindowRect();if(!n)return;let{width:r,height:s}=n;!this.hasMoved&&e.offset.x===0&&e.offset.y===0||(this.hasMoved=!0,this.setRect({...ve.add(e.offset,this.dragStartRect),width:r,height:s},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});a(this,"onDragEnd",e=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});a(this,"persistCurrentTopOffset",()=>{let e=this.getWindowRect();e&&this.setFloatingWindowProperties({fixedTop:e.y,top:1,bottom:0})});a(this,"hasPersistedTopOffset",()=>{let e=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),n=parseInt(e||"");return R(n)&&n!==we})}componentDidMount(){let{restorationKey:e}=this.props;if(!e)return;let n=Pe(e,qe);n&&this.setFloatingWindowProperties(n)}render(){let{initialTopOffset:e,initialLeftOffset:n,visible:r,className:s,zIndex:i,constraintBy:c}=this.props,d=we,l=0,u=1,m=0,g=1;if(K(e)){let f=Ze(e);f&&(f.unit==="%"?(l=he(0,100,f.value),u=100-f.value):f.unit==="px"?(d=f.value,l=1,u=0):(f.unit,void 0))}if(K(n)){let f=Ze(n);f?.unit==="%"&&(m=he(0,100,f.value),g=100-f.value)}let p=`calc(${d}px - var(--framerInternalUI-chromeMarginTop) - ${H}px)`;return(0,O.jsxs)("div",{ref:this.setContainerRefs,className:k(Xe,s),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${H}px)`,left:c==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginLeft) + ${H}px)`,right:c==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginRight) + ${H}px)`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${H}px)`,display:"flex",visibility:r?"visible":"hidden",flexDirection:"row",zIndex:i},children:[(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${m})`}}),(0,O.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${l})`,maxHeight:`var(--floating-window-fixed-top, ${p})`}}),(0,O.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:k(Ye,xe),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,O.jsx)(_e.Provider,{value:this,children:this.props.children})}),(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${u})`}})]}),(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${g})`}})]})}setPosition(e,{snapToEdges:n}){let r=this.getConstraintsRect(),s=this.getWindowRect();if(!s||!r)return;let i=ve.subtract(e,r);this.setRect({...i,width:s.width,height:s.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:n})}setRect(e,{rubberBandingEnabled:n,snapToEdges:r,fixedTop:s}){let i=this.getConstraintsRect();if(!i)return;let{minX:c,minY:d,maxX:l,maxY:u}=Tt(e,i),m=e.x,g=e.y;if(r){let D=Math.abs(m-c),S=Math.abs(m-l),b=Math.abs(g-d),z=Math.abs(g-u);D<16?m=c:S<16&&(m=l),b<16?g=d:z<16&&(g=u)}let p=0,f=0;m<=c?(m=0,p=e.x-c):m>=l&&(p=e.x-l),g<d?(g=d,f=e.y-d):g>=u&&(f=e.y-u);let P=0,x=0;n&&(P=p*Ge,x=f*Ge);let v=St({...e,x:m,y:g},i);this.setFloatingWindowProperties({top:s?1:v.top,bottom:s?0:v.bottom,fixedTop:s?v.top:void 0,right:v.right,left:v.left,x:P,y:x,transition:""})}setResizeRect({top:e,right:n,bottom:r,left:s}){this.setFloatingWindowProperties({top:e,right:n,bottom:r,left:s,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(e){let n=this.containerRef.current;if(!n)return;let r={};R(e.top)&&(r["--floating-window-top"]=e.top.toString()),R(e.right)&&(r["--floating-window-right"]=e.right.toString()),R(e.bottom)&&(r["--floating-window-bottom"]=e.bottom.toString()),R(e.left)&&(r["--floating-window-left"]=e.left.toString()),R(e.fixedTop)?r["--floating-window-fixed-top"]=`${e.fixedTop}px`:r["--floating-window-fixed-top"]=`${we}px`,R(e.x)&&(r["--floating-window-x"]=`${e.x}px`),R(e.y)&&(r["--floating-window-y"]=`${e.y}px`),K(e.transition)&&(r["--floating-window-transform"]=e.transition);let s=Object.keys(r);for(let c of s){let d=r[c];n.style.setProperty(c,d)}let{restorationKey:i}=this.props;if(i&&qe(e,{strict:!1})){let c={top:e.top,bottom:e.bottom,left:e.left,right:e.right,fixedTop:e.fixedTop},d=JSON.stringify(c);localStorage.setItem(i,d)}}};a(Z,"defaultProps",{visible:!0,constraintBy:"canvas"});var It="top",kt="right",Ot="bottom",Et="left",Ct="fixedTop",Mt="x",Wt="y",Dt="transition";function qe(o,{strict:t}={strict:!0}){if(!ke(o)||t&&(Mt in o||Wt in o||Dt in o)||!R(o[It])||!R(o[kt])||!R(o[Ot])||!R(o[Et]))return!1;let e=o[Ct];return R(e)||Oe(e)}var _e=V.default.createContext(null),Je=V.default.forwardRef(function(t,e){let n=V.default.useContext(_e);return(0,O.jsx)(ie,{ref:e,...t,className:k(t.className,Ue,xe),onDragStart:n?.onDragStart,onDrag:n?.onDrag||$e,onDragEnd:n?.onDragEnd,cursor:"-webkit-grabbing"})});function St(o,t){let e=o.y,n=e+o.height,r=o.x,s=r+o.width,i=e,c=r,d=t.height-n,l=t.width-s;return{top:i,bottom:d,left:c,right:l}}var C=h(L());var y=h(L()),tt=h(T()),be=(0,y.createContext)(()=>()=>{});function ho(o,t){let e=(0,y.useContext)(be),[n,r]=(0,y.useState)(!1);return(0,y.useLayoutEffect)(()=>e(s=>{r(()=>o?o.some(i=>s.variantOverrideKeys.has(i)):t?t.some(i=>s.variantOverrideTraitTypes.has(i)):!1)}),[o,t,e]),n}function Qe(){let o=(0,y.useContext)(be),[t,e]=(0,y.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,y.useLayoutEffect)(()=>o(n=>{e(n)}),[o,e]),t}function et({children:o,variantOverrideTraitTypes:t,variantOverrideKeys:e}){let n=(0,y.useRef)(),r=(0,y.useMemo)(()=>{let s=new Set;return{listeners:s,addListener:i=>{s.add(i);let c=n.current;return c&&i(c),()=>{s.delete(i)}}}},[]);return(0,y.useLayoutEffect)(()=>{let s={variantOverrideTraitTypes:t,variantOverrideKeys:e};n.current=s,r.listeners.forEach(i=>i(s))},[r,e,t]),(0,tt.jsx)(be.Provider,{value:r.addListener,children:o})}var ot="pvjhuxd",nt="pcpv5lz",rt="p1awmd8";var it=h(L()),ue=(0,it.createContext)(null);var N=h(L());function ye(o){switch(o){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function Io(o){return ye(o)?25:22}var at=h(T());function st({children:o}){let t=Le(),e=Ft();return(0,at.jsx)(Ne,{mode:e?"darkOnDarkModal":t,children:o})}function Nt(){let t=ne().stores.chromeStore.useState(e=>e.mainView);return ze(t)}function Bt(){return!1}var Ft=re?Bt:Nt;var E,I,$=class{constructor({triggerRender:t,willOpen:e,willPush:n,willPop:r}){ge(this,E,[]);ge(this,I,-1);a(this,"triggerRender");a(this,"willOpen");a(this,"willPush");a(this,"willPop");a(this,"present",(t,e,{parent:n,triggerRef:r,displayDivider:s,title:i,className:c,onDismiss:d,onPresent:l,educationTooltipId:u,educationText:m,onClickEducation:g,enterAnimationDisabled:p,toolbarAction:f,autoFocusInside:P})=>{if(t&&this.isPresenting(t,{atIndex:0})){w(this,I)===0?this.close():(this.setStackIndex(0),this.willOpen?.(r?.current));return}if(n){let x=this.indexForItem(n);if(x===-1)return null;ee(this,E,w(this,E).slice(0,x+1)),l?.(),this.willPush?.()}else this.setStackIndex(-1),l?.(),this.willOpen?.(r?.current);w(this,E).push({id:t,timestamp:Date.now(),element:e,triggerRef:r,displayDivider:s,title:i,className:c,onDismiss:d,onPresent:l,dismissed:!1,educationTooltipId:u,educationText:m,onClickEducation:g,enterAnimationDisabled:p,toolbarAction:f,autoFocusInside:P}),this.setStackIndex(w(this,I)+1)});a(this,"updatePopout",(t,e,n,r)=>{if(this.isClosed())return;let s=this.indexForItem(t);if(s===-1)return;let i=w(this,E)[s];if(!i)return;let c=i.element,d=i.title,l=i.autoFocusInside;c===e&&d===n&&l===r||(i.element=e,i.title=n,i.autoFocusInside=r,s<=w(this,I)&&requestAnimationFrame(this.triggerRender))});a(this,"isPresenting",(t,e)=>{if(this.isClosed())return!1;let n=this.indexForItem(t);return!(n<0||n>w(this,I)||e&&e.atIndex!==n)});a(this,"isOpen",()=>w(this,I)>-1);a(this,"isClosed",()=>!this.isOpen());a(this,"close",()=>{this.setStackIndex(-1)});a(this,"dismiss",t=>{let e=this.indexForItem(t);e!==-1&&w(this,I)>=e&&(this.willPop?.(),this.setStackIndex(e-1))});a(this,"goBack",(t=!1)=>{let e=this.stack[0];if(this.willPop?.(),this.setStackIndex(w(this,I)-1),t&&this.currentStackIndex===-1){let n=e?.triggerRef?.current;n instanceof HTMLElement&&n.focus()}});a(this,"indexForItem",t=>w(this,E).findIndex(e=>e.id===t));a(this,"setStackIndex",t=>{let e=Math.max(-1,t);w(this,I)!==e&&(w(this,E).forEach((n,r)=>{r<=t||n.dismissed||(n.dismissed=!0,n.onDismiss?.())}),ee(this,I,e),e<0&&ee(this,E,[]),this.triggerRender(),this.listeners.forEach(n=>n()))});a(this,"listeners",new Set);a(this,"registeredPopouts",{});a(this,"shouldPresentPopoutIds",new Set);a(this,"registerPopout",(t,e)=>{this.registeredPopouts[t]=e,this.shouldPresentPopoutIds.has(t)&&(e(),this.shouldPresentPopoutIds.delete(t))});a(this,"deregisterPopout",t=>{delete this.registeredPopouts[t];let e=this.indexForItem(t);e===-1||w(this,I)<e||this.setStackIndex(e-1)});a(this,"popoutIsRegistered",t=>t in this.registeredPopouts);a(this,"presentPopout",t=>{if(this.isPresenting(t,{atIndex:0}))return;let e=this.registeredPopouts[t];te(e)?e():this.presentPopoutOnRegistration(t)});a(this,"presentPopoutOnRegistration",t=>{this.shouldPresentPopoutIds.has(t)||(this.shouldPresentPopoutIds.add(t),setTimeout(()=>{this.shouldPresentPopoutIds.delete(t)},100))});this.triggerRender=t,this.willOpen=e,this.willPush=n,this.willPop=r}get stack(){return w(this,E)}get currentStackIndex(){return w(this,I)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}};E=new WeakMap,I=new WeakMap;var ut="pjkind9",ct="c1l0qpj8";var A=h(T()),Vt={x:10,y:0};function dt({navigationRef:o,anchorRef:t,children:e,attachTo:n="right",offset:r=Vt,onKeydown:s,onCopy:i,fallbackToModalAppearance:c,showArrow:d=!0}){let l=oe(),u=N.default.useRef(s);u.current=s;let m=$t(),[,g]=N.default.useState(0),[p]=N.default.useState(()=>new $({triggerRender:()=>g(v=>v+1)})),f=p.isOpen(),P=N.default.useCallback(v=>{F(l)&&l.stores.mouseStore.setModifiers(v.nativeEvent),v.key==="Escape"&&(p.goBack(!0),v.stopPropagation()),u.current?.(v)},[p]),x=N.default.useCallback(v=>{F(l)&&l.stores.mouseStore.setModifiers(v.nativeEvent)},[]);return N.default.useEffect(()=>{if(o)return te(o)?(o(p),()=>{o(null)}):(o.current=p,()=>{o.current=null})},[p,o]),N.default.useEffect(()=>{if(!(!f||!i))return document.addEventListener("copy",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("cut",i)}},[f,i]),(0,A.jsxs)(ue.Provider,{value:p,children:[e,f&&(0,A.jsx)(st,{children:(0,A.jsx)(He,{anchor:t.current,alignSelf:"center",attachTo:n,offset:r,onClose:p.close,className:ut,onKeyDown:P,onKeyUp:x,focusTrapEnabled:!m,showArrow:d,arrow:d?{anchor:t.current}:void 0,fallbackToModalAppearance:c,children:(0,A.jsx)("div",{className:k(ct),children:(0,A.jsx)(se,{stack:p.stack,currentIndex:p.currentStackIndex,onBack:p.goBack,onClose:p.close})})})})]})}function At(){let o=ne(),t=o.stores.pluginStore.useState(n=>n.activePlugin?n.activePlugin.modeHandlers.mode!=="canvas":!1),e=o.stores.modalStore.useState(n=>ye(n.active.type));return t||e}function Kt(){return!1}var $t=re?Kt:At;var M=h(T()),pt="data-is-popout-button",mt=`[${pt}]`;function zt({popout:o,navigationTitle:t,navigationClassName:e,id:n,enabled:r=!0,displayDivider:s,onBeforePresent:i=()=>!0,onPresent:c=()=>{},onDismiss:d=()=>{},ref:l,educationTooltipId:u,educationText:m,onClickEducation:g,enterAnimationDisabled:p=!1,autoFocusInside:f,displayInPopover:P}){let x=Ut(n),v=C.default.useRef(null),D=l??v,S=C.default.useContext(Ke),b=C.default.useContext(ue),[z,ce]=C.default.useState(!1),de=Se(),le=Ae(),j=Qe(),_=Fe(P),J=lt((0,M.jsx)(Be.Provider,{value:_,children:(0,M.jsx)(Ve.Provider,{value:le,children:(0,M.jsx)(De.Provider,{value:de,children:(0,M.jsx)(et,{variantOverrideKeys:j.variantOverrideKeys,variantOverrideTraitTypes:j.variantOverrideTraitTypes,children:o})})})})),U=lt(t);b?.updatePopout(x,J,U,f);let fe=G(d),pe=G(c),X=G(()=>{if(b){if(!r||!i()){b.close();return}b.present(x,J,{parent:S,triggerRef:D,displayDivider:s,title:U,className:e,onDismiss:fe,onPresent:pe,educationTooltipId:u,educationText:m,onClickEducation:g,enterAnimationDisabled:p,autoFocusInside:f})}}),Q=G(()=>{b?.dismiss(x)});return C.default.useEffect(()=>{if(!r||!b)return;let Y=()=>{Te.isTest||ce(b.isPresenting(x))};return b.addListener(Y),b.registerPopout(x,X),()=>{b.removeListener(Y),b.deregisterPopout(x)}},[x,r,b]),{present:X,dismiss:Q,isPresenting:z,ref:D}}function lt(o){let t=C.default.useRef(o);return Ie(o,t.current)||(t.current=o),t.current}function rn({popoverNavigationRef:o,displayInPopover:t,popoverAttachmentEdge:e,fallbackToModalAppearance:n,popoverOffset:r,showArrow:s,onPopoverKeydown:i,onPopoverCopy:c,...d}){let l=C.default.useRef(null),u=(0,M.jsx)(jt,{displayInPopover:t,...d,ref:l});return t?(0,M.jsx)(dt,{navigationRef:o,anchorRef:l,attachTo:e,onKeydown:i,onCopy:c,offset:r,fallbackToModalAppearance:n,showArrow:s,children:u}):u}var jt=C.default.forwardRef(function({id:t,large:e,popout:n,displayDivider:r,navigationTitle:s,navigationClassName:i,className:c,onKeyDown:d,onClick:l,tabIndex:u=0,enabled:m=!0,useFrescoButton:g=!1,withoutStyles:p=!1,frescoButtonProps:f={},onBeforePresent:P,onPresent:x,onDismiss:v,educationTooltipId:D,educationText:S,onClickEducation:b,autoFocusInside:z,togglePopoutEnabled:ce=!1,displayInPopover:de,...le},j){let{present:_,dismiss:J,isPresenting:U}=zt({popout:n,id:t,displayDivider:r,navigationTitle:s,navigationClassName:i,enabled:m,onBeforePresent:P,onPresent:x,onDismiss:v,ref:j,educationTooltipId:D,educationText:S,onClickEducation:b,autoFocusInside:z,displayInPopover:de}),fe=me=>{switch(me.key){case"Enter":case" ":_(),me.preventDefault();break;case"Escape":me.currentTarget.blur(),J();break}},pe=Me(u),X=m===!1,Q={role:"button",ref:j,tabIndex:X?void 0:pe,"aria-selected":U?"true":"false",className:k(c,!g&&!p&&k(ot,X&&nt,e&&rt)),onKeyDown:ft(fe,d),[pt]:!0,...le},Y=ce&&U?l:ft(_,l);return g?(0,M.jsx)(We,{enabled:m,...f,...Q,onClick:Y}):(0,M.jsx)("div",{id:t,...Q,onClick:Y})});function gt(o){return o instanceof HTMLElement?!!o.closest(mt):!1}function sn(o){return o.querySelector(mt)}function an(o){return document.getElementById(o)}function Ut(o){let t=C.default.useRef(o);return o&&t.current!==o?t.current=o:t.current||(t.current=Ee()),t.current}function ft(o,t){return t?e=>{o(e),t(e)}:o}var vt="wrgelve";var B=h(L()),wt=h(T()),xt="resize-zone",pn=B.default.memo(({side:o,minSize:t,defaultSize:e,maxSize:n,getSize:r,setSize:s,onResizeStart:i,onResizeEnd:c})=>{let[d,l]=B.default.useState("ew-resize");B.default.useEffect(()=>{requestAnimationFrame(()=>{let f=typeof n=="function"?n():n,P=ht(r(),t,f,o);d!==P&&l(P)})},[]);let u=B.default.useRef(),m=B.default.useCallback(()=>{u.current=r(),i&&i()},[r,i]),g=B.default.useCallback(f=>{if(u.current===void 0)return;let P=o==="left"?-1:1,x=o==="top"?f.offset.y:f.offset.x,v=u.current+x*P;Math.abs(v-e)<10&&(v=e),s(v);let D=typeof n=="function"?n():n,S=ht(r(),t,D,o);d!==S&&l(S)},[e,t,n,o,s,r,d,l]),p=B.default.useCallback(()=>{u.current=void 0,c&&c()},[c]);return(0,wt.jsx)(ie,{onDragStart:m,onDrag:g,onDragEnd:p,cursor:d,className:xt,style:{cursor:d,position:"absolute",top:Yt(o),bottom:0,right:Zt(o),left:Gt(o),width:o==="top"?void 0:6,height:o==="top"?6:void 0,zIndex:26,transform:"translate3d(0, 0, 0)",opacity:.5}})});function Yt(o){switch(o){case"top":return-3;default:return 0}}function Gt(o){switch(o){case"left":return-3;case"top":return 0}}function Zt(o){switch(o){case"right":return-3;case"top":return 0}}function Pt(o){return o instanceof HTMLDivElement&&o.classList.contains(xt)}function ht(o,t,e,n){if(n==="top")switch(o){case t:return"s-resize";case e:return"n-resize";default:return"ns-resize"}switch(o){case t:return n==="right"?"e-resize":"w-resize";case e:return n==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var q=h(T()),bt="data-is-popover-window",Tn=`[${bt}="true"]`,Re=class{constructor(){a(this,"navigation");a(this,"floatingWindowRef",W.default.createRef());a(this,"initialWindowTopOffset","0px");a(this,"initialWindowLeftOffset","100%");a(this,"positionWindowNearElement",t=>{if(!(t instanceof HTMLElement))return;let e=this.floatingWindowRef.current,n=t.getBoundingClientRect(),r=n.top-9;e?e.setPosition({x:n.left,y:r},{snapToEdges:!1}):(this.initialWindowTopOffset=`${r}px`,this.initialWindowLeftOffset=n.left<window.innerWidth-n.right?"0%":"100%")});a(this,"persistCurrentTopOffset",()=>{let t=this.floatingWindowRef.current;t&&(t.hasPersistedTopOffset()||t.persistCurrentTopOffset())});a(this,"isOpen",()=>this.navigation.isOpen());a(this,"close",()=>{this.navigation.close()});a(this,"_rerender");a(this,"rerender",()=>this._rerender?.());a(this,"navigationBarWrapper",t=>(0,q.jsx)(Je,{children:t}));a(this,"Component",W.default.memo(({zIndex:t,visible:e,onPointerDownCapture:n})=>{let r=oe(),s=je();(0,W.useEffect)(()=>(this._rerender=s,()=>{this._rerender=void 0}),[s]);let i=this.navigation.isOpen();W.default.useEffect(()=>{if(!i)return;let u=!1,m=()=>{u=!0},g=p=>{u&&this.closeIfClickedOutside(p)};return document.addEventListener("mousedown",m,{capture:!0}),document.addEventListener("click",g),()=>{document.removeEventListener("mousedown",m,{capture:!0}),document.removeEventListener("click",g)}},[i]);let c=(0,W.useCallback)(u=>{F(r)&&r.stores.mouseStore.setModifiers(u.nativeEvent),!u.defaultPrevented&&u.key==="Escape"&&(this.navigation.goBack(!0),u.stopPropagation())},[]),d=(0,W.useCallback)(u=>{F(r)&&r.stores.mouseStore.setModifiers(u.nativeEvent)},[]);return!i||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,q.jsx)(Z,{ref:this.floatingWindowRef,zIndex:t,visible:e,onPointerDownCapture:n,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,q.jsx)("div",{className:k(vt,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:c,onKeyUp:d,onMouseUp:u=>{F(r)&&r.stores.canvasMouseTarget.handleMouseUp(u)},tabIndex:0,[bt]:!0,children:(0,q.jsx)(se,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));a(this,"closeIfClickedOutside",({target:t})=>{Pt(t)||gt(t)||qt(t)&&this.navigation.close()});this.navigation=new $({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function qt(o){return o instanceof HTMLElement?!!o.closest("[data-is-right-panel]")||!!o.closest("[data-is-analytics]"):!1}var In=new Re;export{Jt as a,Z as b,Je as c,ho as d,et as e,ot as f,ue as g,Io as h,st as i,$ as j,Vt as k,pt as l,zt as m,rn as n,sn as o,an as p,pn as q,Tn as r,In as s};
//# sourceMappingURL=https://app.framerstatic.com/chunk-FANSRDYG.mjs.map

import{a as _e}from"https://app.framerstatic.com/chunk-IHOAENGB.mjs";import{I as xe}from"https://app.framerstatic.com/chunk-E7ZU36TU.mjs";import{a as Y}from"https://app.framerstatic.com/chunk-X7PME7OH.mjs";import{a as ze}from"https://app.framerstatic.com/chunk-YOFBDBTL.mjs";import{$e as Ve,Ce as Me,De,Ge as We,He as Se,Oe as Le,Pe as Be,Xe as Ne,Ye as Fe,_e as He,af as Ae,lg as ie,mg as Ke,ng as se}from"https://app.framerstatic.com/chunk-SIIQYSAG.mjs";import{a as k}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{B as ge,cr as ne,dr as F,ga as Ie}from"https://app.framerstatic.com/chunk-O7B2OPHS.mjs";import{d as re}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{b as oe}from"https://app.framerstatic.com/chunk-GO7WVIKP.mjs";import{a as $e}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{i as Ce}from"https://app.framerstatic.com/chunk-52AHQOTG.mjs";import{b as $,d as R,e as ke,i as Oe,k as te}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as L,b as T,ce as Ee,i as he}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as Te}from"https://app.framerstatic.com/chunk-WDRGG64A.mjs";import{e as h,j as s,k as w,l as ve,m as ee}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var W=h(L());var ae=h(L());function yt(o){try{return $(o)?JSON.parse(o):null}catch{return null}}function Pe(o,t){let e=localStorage.getItem(o),n=yt(e);return t(n)?n:null}function Jt(o,t){let[e]=(0,ae.useState)(()=>Pe(o,t)),n=(0,ae.useCallback)(r=>{let a=JSON.stringify(r);localStorage.setItem(o,a)},[o]);return[e,n]}var V=h(L());var je="windowBarCursor_wuk326o",Ue="noPointerEvents_n283lgw",Xe="pointerEvents_pue1ity";var O=h(T()),Ye=.1,H=Ce.panelPadding,we=9999999999999;function Tt(o,t){let r=t.width-o.width,a=t.height-o.height;return{minX:0,minY:0,maxX:r,maxY:a}}function Ge(o){let t=o.trim(),e=parseInt(t);return R(e)?t.endsWith("%")?{value:e,unit:"%"}:t.endsWith("px")?{value:e,unit:"px"}:null:null}var G=class extends V.default.Component{constructor(){super(...arguments);s(this,"containerRef",V.default.createRef());s(this,"contentWrapperRef",V.default.createRef());s(this,"setContainerRefs",e=>{this.containerRef.current=e;let{containerRef:n}=this.props;n&&(n.current=e)});s(this,"setContentWrapperRefs",e=>{this.contentWrapperRef.current=e;let{contentWrapperRef:n}=this.props;n&&(n.current=e)});s(this,"hasMoved",!1);s(this,"dragStartRect",null);s(this,"getConstraintsRect",()=>{let e=this.containerRef.current;return e?e.getBoundingClientRect():null});s(this,"getWindowRect",()=>{let e=this.getConstraintsRect();if(!e)return null;let n=this.contentWrapperRef.current;if(!n)return null;let r=n.getBoundingClientRect();return{x:r.left-e.x,y:r.top-e.y,width:r.width,height:r.height}});s(this,"onDragStart",e=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});s(this,"onDrag",e=>{if(!this.dragStartRect)return;let n=this.getWindowRect();if(!n)return;let{width:r,height:a}=n;!this.hasMoved&&e.offset.x===0&&e.offset.y===0||(this.hasMoved=!0,this.setRect({...ge.add(e.offset,this.dragStartRect),width:r,height:a},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});s(this,"onDragEnd",e=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});s(this,"persistCurrentTopOffset",()=>{let e=this.getWindowRect();e&&this.setFloatingWindowProperties({fixedTop:e.y,top:1,bottom:0})});s(this,"hasPersistedTopOffset",()=>{let e=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),n=parseInt(e||"");return R(n)&&n!==we})}componentDidMount(){let{restorationKey:e}=this.props;if(!e)return;let n=Pe(e,Ze);n&&this.setFloatingWindowProperties(n)}render(){let{initialTopOffset:e,initialLeftOffset:n,visible:r,className:a,zIndex:i,constraintBy:c}=this.props,d=we,l=0,u=1,m=0,v=1;if($(e)){let p=Ge(e);p&&(p.unit==="%"?(l=he(0,100,p.value),u=100-p.value):p.unit==="px"?(d=p.value,l=1,u=0):(p.unit,void 0))}if($(n)){let p=Ge(n);p?.unit==="%"&&(m=he(0,100,p.value),v=100-p.value)}let f=`calc(${d}px - var(--framerInternalUI-chromeMarginTop) - ${H}px)`;return(0,O.jsxs)("div",{ref:this.setContainerRefs,className:k(Ue,a),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${H}px)`,left:c==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginLeft) + ${H}px)`,right:c==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginRight) + ${H}px)`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${H}px)`,display:"flex",visibility:r?"visible":"hidden",flexDirection:"row",zIndex:i},children:[(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${m})`}}),(0,O.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${l})`,maxHeight:`var(--floating-window-fixed-top, ${f})`}}),(0,O.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:k(Xe,xe),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,O.jsx)(qe.Provider,{value:this,children:this.props.children})}),(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${u})`}})]}),(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${v})`}})]})}setPosition(e,{snapToEdges:n}){let r=this.getConstraintsRect(),a=this.getWindowRect();if(!a||!r)return;let i=ge.subtract(e,r);this.setRect({...i,width:a.width,height:a.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:n})}setRect(e,{rubberBandingEnabled:n,snapToEdges:r,fixedTop:a}){let i=this.getConstraintsRect();if(!i)return;let{minX:c,minY:d,maxX:l,maxY:u}=Tt(e,i),m=e.x,v=e.y;if(r){let S=Math.abs(m-c),C=Math.abs(m-l),b=Math.abs(v-d),z=Math.abs(v-u);S<16?m=c:C<16&&(m=l),b<16?v=d:z<16&&(v=u)}let f=0,p=0;m<=c?(m=0,f=e.x-c):m>=l&&(f=e.x-l),v<d?(v=d,p=e.y-d):v>=u&&(p=e.y-u);let P=0,x=0;n&&(P=f*Ye,x=p*Ye);let g=St({...e,x:m,y:v},i);this.setFloatingWindowProperties({top:a?1:g.top,bottom:a?0:g.bottom,fixedTop:a?g.top:void 0,right:g.right,left:g.left,x:P,y:x,transition:""})}setResizeRect({top:e,right:n,bottom:r,left:a}){this.setFloatingWindowProperties({top:e,right:n,bottom:r,left:a,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(e){let n=this.containerRef.current;if(!n)return;let r={};R(e.top)&&(r["--floating-window-top"]=e.top.toString()),R(e.right)&&(r["--floating-window-right"]=e.right.toString()),R(e.bottom)&&(r["--floating-window-bottom"]=e.bottom.toString()),R(e.left)&&(r["--floating-window-left"]=e.left.toString()),R(e.fixedTop)?r["--floating-window-fixed-top"]=`${e.fixedTop}px`:r["--floating-window-fixed-top"]=`${we}px`,R(e.x)&&(r["--floating-window-x"]=`${e.x}px`),R(e.y)&&(r["--floating-window-y"]=`${e.y}px`),$(e.transition)&&(r["--floating-window-transform"]=e.transition);let a=Object.keys(r);for(let c of a){let d=r[c];n.style.setProperty(c,d)}let{restorationKey:i}=this.props;if(i&&Ze(e,{strict:!1})){let c={top:e.top,bottom:e.bottom,left:e.left,right:e.right,fixedTop:e.fixedTop},d=JSON.stringify(c);localStorage.setItem(i,d)}}};s(G,"defaultProps",{visible:!0,constraintBy:"canvas"});var It="top",kt="right",Ot="bottom",Et="left",Ct="fixedTop",Mt="x",Dt="y",Wt="transition";function Ze(o,{strict:t}={strict:!0}){if(!ke(o)||t&&(Mt in o||Dt in o||Wt in o)||!R(o[It])||!R(o[kt])||!R(o[Ot])||!R(o[Et]))return!1;let e=o[Ct];return R(e)||Oe(e)}var qe=V.default.createContext(null),Je=V.default.forwardRef(function(t,e){let n=V.default.useContext(qe);return(0,O.jsx)(ie,{ref:e,...t,className:k(t.className,je,xe),onDragStart:n?.onDragStart,onDrag:n?.onDrag||$e,onDragEnd:n?.onDragEnd,cursor:"-webkit-grabbing"})});function St(o,t){let e=o.y,n=e+o.height,r=o.x,a=r+o.width,i=e,c=r,d=t.height-n,l=t.width-a;return{top:i,bottom:d,left:c,right:l}}var M=h(L());var y=h(L()),tt=h(T()),be=(0,y.createContext)(()=>()=>{});function ho(o,t){let e=(0,y.useContext)(be),[n,r]=(0,y.useState)(!1);return(0,y.useLayoutEffect)(()=>e(a=>{r(()=>o?o.some(i=>a.variantOverrideKeys.has(i)):t?t.some(i=>a.variantOverrideTraitTypes.has(i)):!1)}),[o,t,e]),n}function Qe(){let o=(0,y.useContext)(be),[t,e]=(0,y.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,y.useLayoutEffect)(()=>o(n=>{e(n)}),[o,e]),t}function et({children:o,variantOverrideTraitTypes:t,variantOverrideKeys:e}){let n=(0,y.useRef)(),r=(0,y.useMemo)(()=>{let a=new Set;return{listeners:a,addListener:i=>{a.add(i);let c=n.current;return c&&i(c),()=>{a.delete(i)}}}},[]);return(0,y.useLayoutEffect)(()=>{let a={variantOverrideTraitTypes:t,variantOverrideKeys:e};n.current=a,r.listeners.forEach(i=>i(a))},[r,e,t]),(0,tt.jsx)(be.Provider,{value:r.addListener,children:o})}var ot="popoutButton_pvjhuxd",nt="popoutButtonDisabled_pcpv5lz",rt="popoutButtonLarge_p1awmd8";var it=h(L()),ue=(0,it.createContext)(null);var B=h(L());function ye(o){switch(o){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function Io(o){return ye(o)?25:22}var at=h(T());function st({children:o}){let t=Le(),e=Ft();return(0,at.jsx)(Be,{mode:e?"darkOnDarkModal":t,children:o})}function Bt(){let t=ne().stores.chromeStore.useState(e=>e.mainView);return _e(t)}function Nt(){return!1}var Ft=re?Nt:Bt;var E,I,_=class{constructor({triggerRender:t,willOpen:e,willPush:n,willPop:r}){ve(this,E,[]);ve(this,I,-1);s(this,"triggerRender");s(this,"willOpen");s(this,"willPush");s(this,"willPop");s(this,"present",(t,e,{parent:n,triggerRef:r,displayDivider:a,title:i,className:c,onDismiss:d,onPresent:l,educationTooltipId:u,educationText:m,onClickEducation:v,enterAnimationDisabled:f,toolbarAction:p,autoFocusInside:P})=>{if(t&&this.isPresenting(t,{atIndex:0})){w(this,I)===0?this.close():(this.setStackIndex(0),this.willOpen?.(r?.current));return}if(n){let x=this.indexForItem(n);if(x===-1)return null;ee(this,E,w(this,E).slice(0,x+1)),l?.(),this.willPush?.()}else this.setStackIndex(-1),l?.(),this.willOpen?.(r?.current);w(this,E).push({id:t,timestamp:Date.now(),element:e,triggerRef:r,displayDivider:a,title:i,className:c,onDismiss:d,onPresent:l,dismissed:!1,educationTooltipId:u,educationText:m,onClickEducation:v,enterAnimationDisabled:f,toolbarAction:p,autoFocusInside:P}),this.setStackIndex(w(this,I)+1)});s(this,"updatePopout",(t,e,n,r)=>{if(this.isClosed())return;let a=this.indexForItem(t);if(a===-1)return;let i=w(this,E)[a];if(!i)return;let c=i.element,d=i.title,l=i.autoFocusInside;c===e&&d===n&&l===r||(i.element=e,i.title=n,i.autoFocusInside=r,a<=w(this,I)&&requestAnimationFrame(this.triggerRender))});s(this,"isPresenting",(t,e)=>{if(this.isClosed())return!1;let n=this.indexForItem(t);return!(n<0||n>w(this,I)||e&&e.atIndex!==n)});s(this,"isOpen",()=>w(this,I)>-1);s(this,"isClosed",()=>!this.isOpen());s(this,"close",()=>{this.setStackIndex(-1)});s(this,"dismiss",t=>{let e=this.indexForItem(t);e!==-1&&w(this,I)>=e&&(this.willPop?.(),this.setStackIndex(e-1))});s(this,"goBack",(t=!1)=>{let e=this.stack[0];if(this.willPop?.(),this.setStackIndex(w(this,I)-1),t&&this.currentStackIndex===-1){let n=e?.triggerRef?.current;n instanceof HTMLElement&&n.focus()}});s(this,"indexForItem",t=>w(this,E).findIndex(e=>e.id===t));s(this,"setStackIndex",t=>{let e=Math.max(-1,t);w(this,I)!==e&&(w(this,E).forEach((n,r)=>{r<=t||n.dismissed||(n.dismissed=!0,n.onDismiss?.())}),ee(this,I,e),e<0&&ee(this,E,[]),this.triggerRender(),this.listeners.forEach(n=>n()))});s(this,"listeners",new Set);s(this,"registeredPopouts",{});s(this,"shouldPresentPopoutId",null);s(this,"shouldPresentPopoutIdTimer");s(this,"registerPopout",(t,e,n)=>{this.registeredPopouts[t]=n,this.shouldPresentPopoutId===t&&n()});s(this,"deregisterPopout",t=>{delete this.registeredPopouts[t];let e=this.indexForItem(t);e===-1||w(this,I)<e||this.setStackIndex(e-1)});s(this,"popoutIsRegistered",t=>t in this.registeredPopouts);s(this,"presentPopout",t=>{if(this.isPresenting(t,{atIndex:0}))return;let e=this.registeredPopouts[t];te(e)?e():this.presentPopoutOnRegistration(t)});s(this,"presentPopoutOnRegistration",t=>{clearTimeout(this.shouldPresentPopoutIdTimer),this.shouldPresentPopoutId=t,this.shouldPresentPopoutIdTimer=setTimeout(()=>{this.shouldPresentPopoutId=null},100)});this.triggerRender=t,this.willOpen=e,this.willPush=n,this.willPop=r}get stack(){return w(this,E)}get currentStackIndex(){return w(this,I)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}};E=new WeakMap,I=new WeakMap;var ut="popover_pjkind9",ct="contentClip_c1l0qpj8";var A=h(T()),Vt={x:10,y:0};function dt({navigationRef:o,anchorRef:t,children:e,attachTo:n="right",offset:r=Vt,onKeydown:a,onCopy:i,fallbackToModalAppearance:c,showArrow:d=!0}){let l=oe(),u=B.default.useRef(a);u.current=a;let m=$t(),[,v]=B.default.useState(0),[f]=B.default.useState(()=>new _({triggerRender:()=>v(g=>g+1)})),p=f.isOpen(),P=B.default.useCallback(g=>{F(l)&&l.stores.mouseStore.setModifiers(g.nativeEvent),g.key==="Escape"&&(f.goBack(!0),g.stopPropagation()),u.current?.(g)},[f]),x=B.default.useCallback(g=>{F(l)&&l.stores.mouseStore.setModifiers(g.nativeEvent)},[]);return B.default.useEffect(()=>{if(o)return te(o)?(o(f),()=>{o(null)}):(o.current=f,()=>{o.current=null})},[f,o]),B.default.useEffect(()=>{if(!(!p||!i))return document.addEventListener("copy",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("cut",i)}},[p,i]),(0,A.jsxs)(ue.Provider,{value:f,children:[e,p&&(0,A.jsx)(st,{children:(0,A.jsx)(He,{anchor:t.current,alignSelf:"center",attachTo:n,offset:r,onClose:f.close,className:ut,onKeyDown:P,onKeyUp:x,focusTrapEnabled:!m,showArrow:d,arrow:d?{anchor:t.current}:void 0,fallbackToModalAppearance:c,children:(0,A.jsx)("div",{className:k(ct),children:(0,A.jsx)(se,{stack:f.stack,currentIndex:f.currentStackIndex,onBack:f.goBack,onClose:f.close})})})})]})}function At(){let o=ne(),t=o.stores.pluginStore.useState(n=>n.activePlugin?n.activePlugin.modeHandlers.mode!=="canvas":!1),e=o.stores.modalStore.useState(n=>ye(n.active.type));return t||e}function Kt(){return!1}var $t=re?Kt:At;var D=h(T()),ft="data-is-popout-button",mt=`[${ft}]`;function _t({popout:o,navigationTitle:t,navigationClassName:e,id:n,enabled:r=!0,displayDivider:a,onBeforePresent:i=()=>!0,onPresent:c=()=>{},onDismiss:d=()=>{},ref:l,educationTooltipId:u,educationText:m,onClickEducation:v,enterAnimationDisabled:f=!1,autoFocusInside:p,displayInPopover:P}){let x=jt(n),g=M.default.useRef(null),S=l??g,C=M.default.useContext(Ke),b=M.default.useContext(ue),[z,ce]=M.default.useState(!1),de=Se(),le=Ae(),j=Qe(),q=Fe(P),J=lt((0,D.jsx)(Ne.Provider,{value:q,children:(0,D.jsx)(Ve.Provider,{value:le,children:(0,D.jsx)(We.Provider,{value:de,children:(0,D.jsx)(et,{variantOverrideKeys:j.variantOverrideKeys,variantOverrideTraitTypes:j.variantOverrideTraitTypes,children:o})})})})),U=lt(t);b?.updatePopout(x,J,U,p);let pe=Y(d),fe=Y(c),K=Y(()=>{if(b){if(!r||!i()){b.close();return}b.present(x,J,{parent:C,triggerRef:S,displayDivider:a,title:U,className:e,onDismiss:pe,onPresent:fe,educationTooltipId:u,educationText:m,onClickEducation:v,enterAnimationDisabled:f,autoFocusInside:p})}}),Q=Y(()=>{b?.dismiss(x)});return M.default.useEffect(()=>{if(!r||!b)return;let X=()=>{Te.isTest||ce(b.isPresenting(x))};return b.addListener(X),b.registerPopout(x,C,K),()=>{b.removeListener(X),b.deregisterPopout(x)}},[x,C,K,r,b]),{present:K,dismiss:Q,isPresenting:z,ref:S}}function lt(o){let t=M.default.useRef(o);return Ie(o,t.current)||(t.current=o),t.current}function rn({popoverNavigationRef:o,displayInPopover:t,popoverAttachmentEdge:e,fallbackToModalAppearance:n,popoverOffset:r,showArrow:a,onPopoverKeydown:i,onPopoverCopy:c,...d}){let l=M.default.useRef(null),u=(0,D.jsx)(zt,{displayInPopover:t,...d,ref:l});return t?(0,D.jsx)(dt,{navigationRef:o,anchorRef:l,attachTo:e,onKeydown:i,onCopy:c,offset:r,fallbackToModalAppearance:n,showArrow:a,children:u}):u}var zt=M.default.forwardRef(function({id:t,large:e,popout:n,displayDivider:r,navigationTitle:a,navigationClassName:i,className:c,onKeyDown:d,onClick:l,tabIndex:u=0,enabled:m=!0,useFrescoButton:v=!1,withoutStyles:f=!1,frescoButtonProps:p={},onBeforePresent:P,onPresent:x,onDismiss:g,educationTooltipId:S,educationText:C,onClickEducation:b,autoFocusInside:z,togglePopoutEnabled:ce=!1,displayInPopover:de,...le},j){let{present:q,dismiss:J,isPresenting:U}=_t({popout:n,id:t,displayDivider:r,navigationTitle:a,navigationClassName:i,enabled:m,onBeforePresent:P,onPresent:x,onDismiss:g,ref:j,educationTooltipId:S,educationText:C,onClickEducation:b,autoFocusInside:z,displayInPopover:de}),pe=me=>{switch(me.key){case"Enter":case" ":q(),me.preventDefault();break;case"Escape":me.currentTarget.blur(),J();break}},fe=Me(u),K=m===!1,Q={role:"button",ref:j,tabIndex:K?void 0:fe,"aria-selected":U?"true":"false",className:k(c,!v&&!f&&k(ot,K&&nt,e&&rt)),onKeyDown:pt(pe,d),[ft]:!0,...le},X=ce&&U?l:pt(q,l);return v?(0,D.jsx)(De,{enabled:m,...p,...Q,onClick:X}):(0,D.jsx)("div",{id:t,...Q,onClick:X})});function vt(o){return o instanceof HTMLElement?!!o.closest(mt):!1}function sn(o){return o.querySelector(mt)}function an(o){return document.getElementById(o)}function jt(o){let t=M.default.useRef(o);return o&&t.current!==o?t.current=o:t.current||(t.current=Ee()),t.current}function pt(o,t){return t?e=>{o(e),t(e)}:o}var gt="window_wrgelve";var N=h(L()),wt=h(T()),xt="resize-zone",fn=N.default.memo(({side:o,minSize:t,defaultSize:e,maxSize:n,getSize:r,setSize:a,onResizeStart:i,onResizeEnd:c})=>{let[d,l]=N.default.useState("ew-resize");N.default.useEffect(()=>{requestAnimationFrame(()=>{let p=typeof n=="function"?n():n,P=ht(r(),t,p,o);d!==P&&l(P)})},[]);let u=N.default.useRef(),m=N.default.useCallback(()=>{u.current=r(),i&&i()},[r,i]),v=N.default.useCallback(p=>{if(u.current===void 0)return;let P=o==="left"?-1:1,x=o==="top"?p.offset.y:p.offset.x,g=u.current+x*P;Math.abs(g-e)<10&&(g=e),a(g);let S=typeof n=="function"?n():n,C=ht(r(),t,S,o);d!==C&&l(C)},[e,t,n,o,a,r,d,l]),f=N.default.useCallback(()=>{u.current=void 0,c&&c()},[c]);return(0,wt.jsx)(ie,{onDragStart:m,onDrag:v,onDragEnd:f,cursor:d,className:xt,style:{cursor:d,position:"absolute",top:Xt(o),bottom:0,right:Gt(o),left:Yt(o),width:o==="top"?void 0:6,height:o==="top"?6:void 0,zIndex:26,transform:"translate3d(0, 0, 0)",opacity:.5}})});function Xt(o){switch(o){case"top":return-3;default:return 0}}function Yt(o){switch(o){case"left":return-3;case"top":return 0}}function Gt(o){switch(o){case"right":return-3;case"top":return 0}}function Pt(o){return o instanceof HTMLDivElement&&o.classList.contains(xt)}function ht(o,t,e,n){if(n==="top")switch(o){case t:return"s-resize";case e:return"n-resize";default:return"ns-resize"}switch(o){case t:return n==="right"?"e-resize":"w-resize";case e:return n==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var Z=h(T()),bt="data-is-popover-window",Tn=`[${bt}="true"]`,Re=class{constructor(){s(this,"navigation");s(this,"floatingWindowRef",W.default.createRef());s(this,"initialWindowTopOffset","0px");s(this,"initialWindowLeftOffset","100%");s(this,"positionWindowNearElement",t=>{if(!(t instanceof HTMLElement))return;let e=this.floatingWindowRef.current,n=t.getBoundingClientRect(),r=n.top-9;e?e.setPosition({x:n.left,y:r},{snapToEdges:!1}):(this.initialWindowTopOffset=`${r}px`,this.initialWindowLeftOffset=n.left<window.innerWidth-n.right?"0%":"100%")});s(this,"persistCurrentTopOffset",()=>{let t=this.floatingWindowRef.current;t&&(t.hasPersistedTopOffset()||t.persistCurrentTopOffset())});s(this,"isOpen",()=>this.navigation.isOpen());s(this,"close",()=>{this.navigation.close()});s(this,"_rerender");s(this,"rerender",()=>this._rerender?.());s(this,"navigationBarWrapper",t=>(0,Z.jsx)(Je,{children:t}));s(this,"Component",W.default.memo(({zIndex:t,visible:e,onPointerDownCapture:n})=>{let r=oe(),a=ze();(0,W.useEffect)(()=>(this._rerender=a,()=>{this._rerender=void 0}),[a]);let i=this.navigation.isOpen();W.default.useEffect(()=>{if(!i)return;let u=!1,m=()=>{u=!0},v=f=>{u&&this.closeIfClickedOutside(f)};return document.addEventListener("mousedown",m,{capture:!0}),document.addEventListener("click",v),()=>{document.removeEventListener("mousedown",m,{capture:!0}),document.removeEventListener("click",v)}},[i]);let c=(0,W.useCallback)(u=>{F(r)&&r.stores.mouseStore.setModifiers(u.nativeEvent),!u.defaultPrevented&&u.key==="Escape"&&(this.navigation.goBack(!0),u.stopPropagation())},[]),d=(0,W.useCallback)(u=>{F(r)&&r.stores.mouseStore.setModifiers(u.nativeEvent)},[]);return!i||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,Z.jsx)(G,{ref:this.floatingWindowRef,zIndex:t,visible:e,onPointerDownCapture:n,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,Z.jsx)("div",{className:k(gt,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:c,onKeyUp:d,onMouseUp:u=>{F(r)&&r.stores.canvasMouseTarget.handleMouseUp(u)},tabIndex:0,[bt]:!0,children:(0,Z.jsx)(se,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));s(this,"closeIfClickedOutside",({target:t})=>{Pt(t)||vt(t)||Zt(t)&&this.navigation.close()});this.navigation=new _({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function Zt(o){return o instanceof HTMLElement?!!o.closest("[data-is-right-panel]")||!!o.closest("[data-is-analytics]"):!1}var In=new Re;export{Jt as a,G as b,Je as c,ho as d,et as e,ot as f,ue as g,Io as h,st as i,_ as j,Vt as k,ft as l,_t as m,rn as n,sn as o,an as p,fn as q,Tn as r,In as s};
//# sourceMappingURL=https://app.framerstatic.com/chunk-ULWX4RX3.mjs.map
